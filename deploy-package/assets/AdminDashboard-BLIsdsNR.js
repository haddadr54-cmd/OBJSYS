const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B8m-Dn-D.js","assets/index-BiRzklpv.css"])))=>i.map(i=>d[i]);
import{g as Q,r as h,j as e,U as ie,X as ge,h as se,A as J,b as is,L as or,E as Sa,i as Ae,k as he,l as ka,m as Ea,K as bs,n as Aa,u as ke,d as Ie,a as W,o as Ce,q as Ke,s as ns,G as ne,C as _e,P as os,t as Gs,v as cs,w as ir,x as nr,y as re,c as te,_ as Qs,z as ls,B as ee,D as cr,H as dr,I as mr,J as xr,N as ur,O as ea,R as hr,Q as pr,V as gr,W as br,Y as fr,Z as ds,$ as Ta,a0 as jr,a1 as be,T as Fs,F as fe,a2 as vr,a3 as oe,a4 as ve,a5 as Ue,a6 as je,a7 as Vs,S as yr,a8 as _a,a9 as Da,aa as Hs,ab as Ra,ac as X,ad as Nr,ae as sa,M as Le,af as aa,ag as ra,e as wr}from"./index-B8m-Dn-D.js";import{c as Pe,F as ze,S as Ee,T as xe,U as pe,d as De,G as ys,D as Se,e as Ge,f as rs,b as ye,g as Pa,X as Me,C as _s,H as Cr,a as Sr,P as kr,R as Er,M as Ar,A as Tr,N as _r}from"./NotificacoesPage-C1-4LWYQ.js";import{U as Ye,a as Dr,P as Rr}from"./PresencaPage-0HhwcDft.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Q("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Q("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Q("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Q("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Q("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Q("Paintbrush",[["path",{d:"M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z",key:"m6k5sh"}],["path",{d:"M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7",key:"arzq70"}],["path",{d:"M14.5 17.5 4.5 15",key:"s7fvrz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Q("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=Q("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Q("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Q("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Q("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Q("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Q("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Q("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);function Gr({isOpen:s,onClose:r,user:a,onSave:t}){const[l,o]=h.useState({nome:"",email:"",senha:"",tipo_usuario:"pai",telefone:"",ativo:!0}),[i,m]=h.useState(!1),[f,y]=h.useState({}),[g,v]=h.useState(!1),[D,R]=h.useState(!1);h.useEffect(()=>{o(a?{nome:a.nome,email:a.email,senha:"",tipo_usuario:a.tipo_usuario,telefone:a.telefone||"",ativo:a.ativo}:{nome:"",email:"",senha:"",tipo_usuario:"pai",telefone:"",ativo:!0}),y({}),R(!1)},[a,s]);const c=()=>{const N={};(!l.nome.trim()||l.nome.length<3)&&(N.nome="Nome deve ter pelo menos 3 caracteres");const T=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return l.email.trim()?T.test(l.email)||(N.email="Formato de e-mail inválido"):N.email="E-mail é obrigatório",(!a&&(!l.senha||l.senha.length<6)||a&&l.senha&&l.senha.length<6)&&(N.senha="Senha deve ter pelo menos 6 caracteres"),y(N),Object.keys(N).length===0},k=async N=>{if(N.preventDefault(),!!c()){v(!0);try{if(a){const T={nome:l.nome,tipo_usuario:l.tipo_usuario,telefone:l.telefone,ativo:l.ativo};l.senha&&(T.senha=l.senha),await ka(a.id,T),console.log("✅ Usuário atualizado")}else await Ea({nome:l.nome,email:l.email,senha:l.senha,tipo_usuario:l.tipo_usuario,telefone:l.telefone,ativo:l.ativo}),console.log("✅ Usuário criado");R(!0),setTimeout(()=>{t(),r()},1500)}catch(T){console.error("Erro ao salvar usuário:",T),T instanceof Error&&T.message.includes("Supabase")?y({submit:"Erro: Sistema requer conexão com Supabase para salvar usuários. Verifique sua conexão."}):y({submit:"Erro ao salvar usuário"})}finally{v(!1)}}};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:e.jsx(ie,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a?"Editar Usuário":"Novo Usuário"})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]}),D&&e.jsx("div",{className:"p-4 bg-green-50 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?"Usuário atualizado com sucesso!":"Usuário cadastrado com sucesso!"})]})}),e.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),e.jsx("input",{type:"text",value:l.nome,onChange:N=>o({...l,nome:N.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.nome?"border-red-300":"border-gray-300"}`,placeholder:"Digite o nome completo"}),f.nome&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),f.nome]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail *"}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"email",value:l.email,onChange:N=>o({...l,email:N.target.value}),disabled:!!a,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.email?"border-red-300":"border-gray-300"} ${a?"bg-gray-50 cursor-not-allowed":""}`,placeholder:"usuario@escola.com"})]}),f.email&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),f.email]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Senha ",!a&&"*",a&&e.jsx("span",{className:"text-gray-500 text-xs",children:"(deixe em branco para não alterar)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:i?"text":"password",value:l.senha,onChange:N=>o({...l,senha:N.target.value}),className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.senha?"border-red-300":"border-gray-300"}`,placeholder:a?"Nova senha (opcional)":"Digite a senha"}),e.jsx("button",{type:"button",onClick:()=>m(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(Sa,{className:"h-4 w-4"}):e.jsx(Ae,{className:"h-4 w-4"})})]}),f.senha&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),f.senha]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Usuário *"}),e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:l.tipo_usuario,onChange:N=>o({...l,tipo_usuario:N.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.tipo_usuario?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"pai",children:"Pai/Responsável"}),e.jsx("option",{value:"professor",children:"Professor"}),e.jsx("option",{value:"admin",children:"Administrador"})]})]}),f.tipo_usuario&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),f.tipo_usuario]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),e.jsx("input",{type:"tel",value:l.telefone,onChange:N=>o({...l,telefone:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:l.ativo?"ativo":"inativo",onChange:N=>o({...l,ativo:N.target.value==="ativo"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"ativo",children:"Ativo"}),e.jsx("option",{value:"inativo",children:"Inativo"})]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Permissões por tipo:"}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Admin:"})," Acesso total ao sistema"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Professor:"})," Painel docente (turmas, notas, presença)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Pai:"})," Acesso limitado (notas e presença dos filhos)"]})]})]}),f.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),f.submit]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:g||D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Salvando...":a?"Salvar Alterações":"Cadastrar Usuário"})]})]})]})}):null}function Cs(){const[s,r]=h.useState(0),a=h.useCallback(()=>{r(t=>t+1)},[]);return{refreshKey:s,triggerRefresh:a}}function Vr({isOpen:s,onClose:r,user:a,onSave:t}){const[l,o]=h.useState("auto"),[i,m]=h.useState(""),[f,y]=h.useState(!1),[g,v]=h.useState(!1),[D,R]=h.useState(!1),[c,k]=h.useState(""),[N,T]=h.useState(!1);h.useEffect(()=>{s&&(l==="manual"&&j(),R(!1),k(""),T(!1))},[s,l]);const j=()=>{const O="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz23456789";let _="";for(let x=0;x<8;x++)_+=O.charAt(Math.floor(Math.random()*O.length));m(_)},u=async()=>{if(a){v(!0),k("");try{await new Promise(O=>setTimeout(O,2e3)),T(!0),R(!0),setTimeout(()=>{t(),r()},3e3)}catch{k("Erro ao enviar e-mail de redefinição")}finally{v(!1)}}},d=async()=>{if(!(!a||!i)){v(!0),k("");try{await ka(a.id,{senha:i}),R(!0),setTimeout(()=>{t(),r()},3e3)}catch{k("Erro ao redefinir senha")}finally{v(!1)}}},b=()=>{navigator.clipboard.writeText(i),alert("Senha copiada para a área de transferência!")},p=()=>{o("auto"),m(""),y(!1),v(!1),R(!1),k(""),T(!1)};return!s||!a?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-50 rounded-full",children:e.jsx(bs,{className:"h-5 w-5 text-orange-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Redefinir Senha"})]}),e.jsx("button",{onClick:()=>{r(),p()},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]}),D&&e.jsx("div",{className:"p-4 bg-green-50 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:l==="auto"?"E-mail de redefinição enviado com sucesso!":"Senha redefinida com sucesso!"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:a.nome.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.nome}),e.jsx("p",{className:"text-sm text-gray-500",children:a.email}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a.tipo_usuario==="admin"?"bg-purple-100 text-purple-800":a.tipo_usuario==="professor"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:a.tipo_usuario==="admin"?"Administrador":a.tipo_usuario==="professor"?"Professor":"Pai/Responsável"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Método de Redefinição"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>o("auto"),className:`p-4 border rounded-lg text-center transition-colors ${l==="auto"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(is,{className:"h-5 w-5 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Automático"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Por e-mail"})]}),e.jsxs("button",{onClick:()=>o("manual"),className:`p-4 border rounded-lg text-center transition-colors ${l==="manual"?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(bs,{className:"h-5 w-5 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Manual"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nova senha"})]})]})]}),l==="auto"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📧 Redefinição Automática"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{children:["• E-mail será enviado para: ",e.jsx("strong",{children:a.email})]}),e.jsx("li",{children:"• Link válido por 24 horas"}),e.jsx("li",{children:"• Usuário define nova senha"}),e.jsx("li",{children:"• Processo seguro e automático"})]})]}),N?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(se,{className:"h-8 w-8 text-green-600"})}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"E-mail Enviado!"}),e.jsx("p",{className:"text-sm text-gray-600",children:"O usuário receberá as instruções em breve."})]}):e.jsxs("button",{onClick:u,disabled:g,className:"w-full flex items-center justify-center space-x-2 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(Aa,{className:"h-4 w-4"}),e.jsx("span",{children:g?"Enviando...":"Enviar E-mail de Redefinição"})]})]}),l==="manual"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"🔧 Redefinição Manual"}),e.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[e.jsx("li",{children:"• Nova senha gerada automaticamente"}),e.jsx("li",{children:"• Usuário deve alterar no primeiro login"}),e.jsx("li",{children:"• Senha temporária válida por 7 dias"}),e.jsx("li",{children:"• Notificação por e-mail opcional"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha Temporária"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:f?"text":"password",value:i,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Nova senha"}),e.jsx("button",{type:"button",onClick:()=>y(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?e.jsx(Sa,{className:"h-4 w-4"}):e.jsx(Ae,{className:"h-4 w-4"})})]}),e.jsx("button",{onClick:j,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"Gerar nova senha",children:e.jsx(Pe,{className:"h-4 w-4 text-gray-600"})}),e.jsx("button",{onClick:b,className:"p-2 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors",title:"Copiar senha",children:e.jsx(Pr,{className:"h-4 w-4 text-blue-600"})})]})]}),e.jsxs("button",{onClick:d,disabled:g||!i,className:"w-full flex items-center justify-center space-x-2 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50",children:[e.jsx(bs,{className:"h-4 w-4"}),e.jsx("span",{children:g?"Redefinindo...":"Redefinir Senha"})]})]}),c&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:c})]})})]}),!D&&e.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:e.jsx("button",{onClick:()=>{r(),p()},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})})]})})}function Hr(){const{user:s,isSupabaseConnected:r}=ke(),a=Ie(s,r),{refreshKey:t,triggerRefresh:l}=Cs(),[o,i]=h.useState([]),[m,f]=h.useState({busca:"",tipo:"",status:""}),[y,g]=h.useState(!1),[v,D]=h.useState(null),[R,c]=h.useState(!0),[k,N]=h.useState(!1),[T,j]=h.useState(null);h.useEffect(()=>{u()},[t]);const u=async()=>{try{const M=await a.getUsuarios();i(M)}catch(M){console.error("Erro ao carregar usuários:",M)}finally{c(!1)}},d=async M=>{if(!M.telefone){alert("Este usuário não possui telefone cadastrado.");return}const I=`Olá ${M.nome}! Esta é uma mensagem do Colégio Objetivo.`;try{const L=M.telefone.replace(/\D/g,""),F=await fetch("https://api.z-api.io/instances/3E77C41E18874016EF0E2676AA920B85/token/485FD874492F6CFAAC3069AD/send-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:L,message:I})}),A=await F.json();F.ok&&!A.error?alert(`✅ Mensagem enviada com sucesso para ${M.nome}!`):alert(`❌ Erro ao enviar mensagem: ${A.message||A.error||"Erro desconhecido"}`)}catch(L){console.error("Erro ao enviar WhatsApp:",L),alert("❌ Erro ao enviar mensagem via WhatsApp")}},b=o.filter(M=>{const I=!m.busca||M.nome.toLowerCase().includes(m.busca.toLowerCase())||M.email.toLowerCase().includes(m.busca.toLowerCase()),L=!m.tipo||M.tipo_usuario===m.tipo,F=!m.status||m.status==="ativo"&&M.ativo||m.status==="inativo"&&!M.ativo;return I&&L&&F}),p=M=>{D(M),g(!0)},O=M=>{confirm(`Tem certeza que deseja excluir o usuário ${M.nome}?`)&&_(M.id)},_=async M=>{try{await a.deleteUsuario(M),l()}catch(I){console.error("Erro ao excluir usuário:",I),I instanceof Error&&I.message.includes("Supabase")?alert("❌ Erro: Sistema requer conexão com Supabase para excluir usuários. Verifique sua conexão."):alert("Erro ao excluir usuário")}},x=async M=>{try{await a.updateUsuario(M.id,{ativo:!M.ativo}),l()}catch(I){console.error("Erro ao alterar status:",I),I instanceof Error&&I.message.includes("Supabase")?alert("❌ Erro: Sistema requer conexão com Supabase para alterar status. Verifique sua conexão."):alert("Erro ao alterar status do usuário")}},w=async()=>{try{l(),n()}catch(M){console.error("Erro ao salvar usuário:",M),M instanceof Error&&M.message.includes("Supabase")?alert("❌ Erro: Sistema requer conexão com Supabase para salvar usuários. Verifique sua conexão."):alert("Erro ao excluir usuário")}},n=()=>{g(!1),D(null)},C=M=>{j(M),N(!0)},P=()=>{N(!1),j(null)},U=()=>{l(),P()},B=M=>{switch(M){case"admin":return"Administrador";case"professor":return"Professor";case"pai":return"Pai/Responsável";default:return M}},q=M=>{switch(M){case"admin":return"bg-purple-100 text-purple-800";case"professor":return"bg-green-100 text-green-800";case"pai":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return R?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-6"}),e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:"Carregando usuários..."}),e.jsx("p",{className:"text-lg text-gray-500 mt-2",children:"Aguarde um momento"})]})}):e.jsxs("div",{className:"space-y-6 sm:space-y-8 lg:space-y-12",children:[e.jsx("div",{className:"bg-gradient-to-br from-white via-green-50 to-emerald-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-green-200 p-6 sm:p-8 lg:p-12 animate-slide-in-up hover:shadow-2xl transition-all duration-500",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-6 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-green-500 via-emerald-500 to-teal-600 rounded-2xl sm:rounded-3xl shadow-2xl mx-auto sm:mx-0 animate-float",children:e.jsx(W,{className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 bg-clip-text text-transparent animate-glow",children:"👥 Gestão de Usuários"}),e.jsx("p",{className:"text-gray-700 mt-2 sm:mt-4 text-lg sm:text-xl lg:text-2xl font-bold",children:"🎯 Gerencie professores, alunos e administradores"})]})]}),e.jsx("div",{className:"flex items-center justify-center sm:justify-end",children:e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-3 px-6 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-2xl hover:from-green-700 hover:to-emerald-700 transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105 font-black text-lg",children:[e.jsx(Ce,{className:"h-5 w-5 sm:h-6 sm:w-6"}),e.jsx("span",{children:"Novo Usuário"})]})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ze,{className:"h-5 w-5 text-gray-500"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:m.busca,onChange:M=>f({...m,busca:M.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:m.tipo,onChange:M=>f({...m,tipo:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os tipos"}),e.jsx("option",{value:"admin",children:"Administrador"}),e.jsx("option",{value:"professor",children:"Professor"}),e.jsx("option",{value:"pai",children:"Pai/Responsável"})]}),e.jsxs("select",{value:m.status,onChange:M=>f({...m,status:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os status"}),e.jsx("option",{value:"ativo",children:"Ativo"}),e.jsx("option",{value:"inativo",children:"Inativo"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]}),e.jsx(W,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Administradores"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.filter(M=>M.tipo_usuario==="admin").length})]}),e.jsx("div",{className:"p-2 bg-purple-50 rounded-full",children:e.jsx(Ye,{className:"h-6 w-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Professores"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.filter(M=>M.tipo_usuario==="professor").length})]}),e.jsx("div",{className:"p-2 bg-green-50 rounded-full",children:e.jsx(Ye,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pais"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.filter(M=>M.tipo_usuario==="pai").length})]}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:e.jsx(W,{className:"h-6 w-6 text-blue-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Usuários (",b.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuário"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum usuário encontrado com os filtros aplicados"})}):b.map(M=>e.jsxs("tr",{className:"hover:bg-blue-50 hover:shadow-md transition-all cursor-pointer group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold mr-3",children:M.nome.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-700 transition-colors",children:M.nome}),M.telefone&&e.jsx("div",{className:"text-sm text-gray-500",children:M.telefone})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q(M.tipo_usuario)}`,children:B(M.tipo_usuario)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:I=>{I.stopPropagation(),x(M)},className:`flex items-center space-x-1 px-2 py-1 text-xs rounded-full ${M.ativo?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"} transition-colors`,children:[M.ativo?e.jsx(Ye,{className:"h-3 w-3"}):e.jsx(Dr,{className:"h-3 w-3"}),e.jsx("span",{children:M.ativo?"Ativo":"Inativo"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.criado_em).toLocaleDateString("pt-BR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[M.telefone&&e.jsx("button",{onClick:I=>{I.stopPropagation(),d(M)},className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Enviar WhatsApp",children:e.jsx(ns,{className:"h-4 w-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation(),C(M)},className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50",title:"Redefinir senha",children:e.jsx(bs,{className:"h-4 w-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation(),p(M)},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation(),console.log("Ver detalhes do usuário:",M.nome)},className:"text-gray-600 hover:text-gray-900 p-1 rounded hover:bg-gray-50",children:e.jsx(Ae,{className:"h-4 w-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation(),O(M)},className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:e.jsx(xe,{className:"h-4 w-4"})})]})})]},M.id))})]})})]}),e.jsx(Gr,{isOpen:y,onClose:n,user:v,onSave:w}),e.jsx(Vr,{isOpen:k,onClose:P,user:T,onSave:U})]})}function Jr({isOpen:s,onClose:r,student:a,onSave:t}){const[l,o]=h.useState({nome:"",data_nascimento:"",matricula:"",turma_id:"",responsavel_id:"",responsavel:"",telefone_responsavel:"",email_responsavel:"",endereco:"",observacoes:"",foto_url:""}),[i,m]=h.useState([]),[f,y]=h.useState([]),[g,v]=h.useState({}),[D,R]=h.useState(!1),[c,k]=h.useState(!1);h.useEffect(()=>{let u=!0;return(async()=>{try{const[b,p]=await Promise.all([Gs(),cs()]);if(u){m(b);const O=p.filter(_=>_.tipo_usuario==="pai"&&_.ativo);y(O)}}catch(b){console.error("Erro ao carregar turmas:",b)}})(),o(a?{nome:a.nome,data_nascimento:a.data_nascimento||"",matricula:a.matricula||"",turma_id:a.turma_id,responsavel_id:a.responsavel_id||"",responsavel:a.responsavel||"",telefone_responsavel:a.telefone_responsavel||"",email_responsavel:a.email_responsavel||"",endereco:a.endereco||"",observacoes:a.observacoes||"",foto_url:a.foto_url||""}:{nome:"",data_nascimento:"",matricula:"",turma_id:"",responsavel_id:"",responsavel:"",telefone_responsavel:"",email_responsavel:"",endereco:"",observacoes:"",foto_url:""}),v({}),k(!1),()=>{u=!1}},[a,s]);const N=()=>{const u={};if((!l.nome.trim()||l.nome.length<3)&&(u.nome="Nome deve ter pelo menos 3 caracteres"),l.data_nascimento||(u.data_nascimento="Data de nascimento é obrigatória"),l.turma_id||(u.turma_id="Turma é obrigatória"),!l.responsavel_id){l.responsavel.trim()||(u.responsavel="Nome do responsável é obrigatório"),l.telefone_responsavel.trim()||(u.telefone_responsavel="Telefone do responsável é obrigatório");const d=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;l.email_responsavel.trim()?d.test(l.email_responsavel)||(u.email_responsavel="Formato de e-mail inválido"):u.email_responsavel="E-mail do responsável é obrigatório",l.endereco.trim()||(u.endereco="Endereço é obrigatório")}return v(u),Object.keys(u).length===0},T=u=>{var b;const d=(b=u.target.files)==null?void 0:b[0];if(d){if(d.size>2*1024*1024){v({...g,foto_url:"Imagem deve ter no máximo 2MB"});return}const p=new FileReader;p.onload=O=>{var x;const _=(x=O.target)==null?void 0:x.result;o({...l,foto_url:_}),v({...g,foto_url:""})},p.readAsDataURL(d)}},j=async u=>{if(u.preventDefault(),!!N()){R(!0);try{let d=l.responsavel_id;if(!d&&l.responsavel.trim()){const b=await Ea({nome:l.responsavel,email:l.email_responsavel,senha:"123456",tipo_usuario:"pai",telefone:l.telefone_responsavel,ativo:!0});b&&(d=b.id)}a?(await ir(a.id,{nome:l.nome,turma_id:l.turma_id,data_nascimento:l.data_nascimento,responsavel_id:d}),console.log("✅ Aluno atualizado")):(await nr({nome:l.nome,turma_id:l.turma_id,responsavel_id:d,data_nascimento:l.data_nascimento,matricula:l.matricula}),console.log("✅ Aluno criado")),k(!0),setTimeout(()=>{t(),r()},1500)}catch(d){console.error("Erro ao salvar aluno:",d),v({submit:"Erro ao salvar aluno"})}finally{R(!1)}}};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:e.jsx(ne,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a?"Editar Aluno":"Novo Aluno"})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]}),c&&e.jsx("div",{className:"p-4 bg-green-50 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?"Aluno atualizado com sucesso!":"Aluno cadastrado com sucesso!"})]})}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden",children:l.foto_url?e.jsx("img",{src:l.foto_url,alt:"Foto do aluno",className:"w-full h-full object-cover"}):e.jsx(ne,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden",id:"foto-upload"}),e.jsxs("label",{htmlFor:"foto-upload",className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Escolher Foto"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG/PNG até 2MB (opcional)"}),g.foto_url&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:g.foto_url})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),e.jsx("input",{type:"text",value:l.nome,onChange:u=>o({...l,nome:u.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.nome?"border-red-300":"border-gray-300"}`,placeholder:"Nome completo do aluno"}),g.nome&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.nome]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento *"}),e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"date",value:l.data_nascimento,onChange:u=>o({...l,data_nascimento:u.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.data_nascimento?"border-red-300":"border-gray-300"}`})]}),g.data_nascimento&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.data_nascimento]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Matrícula"}),e.jsx("input",{type:"text",value:l.matricula,onChange:u=>o({...l,matricula:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Número da matrícula (opcional)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turma *"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:l.turma_id,onChange:u=>o({...l,turma_id:u.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.turma_id?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selecione uma turma"}),i.map(u=>e.jsxs("option",{value:u.id,children:[u.nome," - ",u.ano_letivo]},u.id))]})]}),g.turma_id&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.turma_id]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Dados do Responsável"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsável Cadastrado"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:l.responsavel_id,onChange:u=>o({...l,responsavel_id:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione um responsável cadastrado"}),f.map(u=>e.jsxs("option",{value:u.id,children:[u.nome," - ",u.email]},u.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ou preencha os dados abaixo para criar um novo responsável"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nome do Responsável ",!l.responsavel_id&&"*"]}),e.jsx("input",{type:"text",value:l.responsavel,onChange:u=>o({...l,responsavel:u.target.value}),disabled:!!l.responsavel_id,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.responsavel?"border-red-300":"border-gray-300"} ${l.responsavel_id?"bg-gray-50 cursor-not-allowed":""}`,placeholder:"Nome completo do responsável"}),g.responsavel&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.responsavel]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Telefone ",!l.responsavel_id&&"*"]}),e.jsxs("div",{className:"relative",children:[e.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"tel",value:l.telefone_responsavel,onChange:u=>o({...l,telefone_responsavel:u.target.value}),disabled:!!l.responsavel_id,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.telefone_responsavel?"border-red-300":"border-gray-300"} ${l.responsavel_id?"bg-gray-50 cursor-not-allowed":""}`,placeholder:"(11) 99999-9999"})]}),g.telefone_responsavel&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.telefone_responsavel]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["E-mail do Responsável ",!l.responsavel_id&&"*"]}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"email",value:l.email_responsavel,onChange:u=>o({...l,email_responsavel:u.target.value}),disabled:!!l.responsavel_id,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.email_responsavel?"border-red-300":"border-gray-300"} ${l.responsavel_id?"bg-gray-50 cursor-not-allowed":""}`,placeholder:"responsavel@email.com"})]}),g.email_responsavel&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.email_responsavel]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ws,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("textarea",{value:l.endereco,onChange:u=>o({...l,endereco:u.target.value}),rows:2,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.endereco?"border-red-300":"border-gray-300"}`,placeholder:"Rua, número, bairro, cidade"})]}),g.endereco&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.endereco]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),e.jsx("textarea",{value:l.observacoes,onChange:u=>o({...l,observacoes:u.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Restrições alimentares, necessidades especiais, etc."})]}),g.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),g.submit]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:D||c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:D?"Salvando...":a?"Salvar Alterações":"Cadastrar Aluno"})]})]})]})}):null}function Wr(){const{user:s,isSupabaseConnected:r}=ke(),a=Ie(s,r),{refreshKey:t,triggerRefresh:l}=Cs(),[o,i]=h.useState([]),[m,f]=h.useState([]),[y,g]=h.useState([]),[v,D]=h.useState({busca:"",turma:"",status:""}),[R,c]=h.useState(!1),[k,N]=h.useState(null),[T,j]=h.useState(!0);h.useEffect(()=>{u()},[t]);const u=async()=>{try{const[n,C,P]=await Promise.all([a.getAlunos(),a.getTurmas(),a.getUsuarios()]),U=P.filter(B=>B.tipo_usuario==="pai");i(n),f(C),g(U)}catch(n){console.error("Erro ao carregar dados:",n)}finally{j(!1)}},d=async n=>{const P=b(n).responsavel;if(!(P!=null&&P.telefone)){alert("O responsável deste aluno não possui telefone cadastrado.");return}const U=`Olá ${P.nome}! Esta é uma mensagem do Colégio Objetivo sobre seu filho(a) ${n.nome}.`;try{const B=P.telefone.replace(/\D/g,""),q=await fetch("https://api.z-api.io/instances/3E77C41E18874016EF0E2676AA920B85/token/485FD874492F6CFAAC3069AD/send-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:B,message:U})}),M=await q.json();q.ok&&!M.error?alert(`✅ Mensagem enviada com sucesso para ${P.nome} (responsável por ${n.nome})!`):alert(`❌ Erro ao enviar mensagem: ${M.message||M.error||"Erro desconhecido"}`)}catch(B){console.error("Erro ao enviar WhatsApp:",B),alert("❌ Erro ao enviar mensagem via WhatsApp")}},b=n=>{const C=m.find(U=>U.id===n.turma_id),P=y.find(U=>U.id===n.responsavel_id);return{...n,turma:C,responsavel:P}},p=o.filter(n=>{const C=!v.busca||n.nome.toLowerCase().includes(v.busca.toLowerCase()),P=!v.turma||n.turma_id===v.turma;return C&&P}),O=n=>{N(n),c(!0)},_=async n=>{if(confirm(`Tem certeza que deseja excluir o aluno ${n.nome}?`))try{await a.deleteAluno(n.id),l()}catch(C){console.error("Erro ao excluir aluno:",C),C instanceof Error&&C.message.includes("Supabase")?alert("❌ Erro: Sistema requer conexão com Supabase para excluir alunos. Verifique sua conexão."):alert("Erro ao excluir aluno")}},x=()=>{c(!1),N(null)},w=async()=>{try{l(),x()}catch(n){console.error("Erro ao salvar aluno:",n),n instanceof Error&&n.message.includes("Supabase")?alert("❌ Erro: Sistema requer conexão com Supabase para salvar alunos. Verifique sua conexão."):alert("Erro ao salvar aluno")}};return T?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ne,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestão de Alunos"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Novo Aluno"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ze,{className:"h-5 w-5 text-gray-500"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:v.busca,onChange:n=>D({...v,busca:n.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:v.turma,onChange:n=>D({...v,turma:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todas as turmas"}),m.map(n=>e.jsx("option",{value:n.id,children:n.nome},n.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Alunos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]}),e.jsx(ne,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Turmas Ativas"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.length})]}),e.jsx("div",{className:"p-2 bg-green-50 rounded-full",children:e.jsx(Ye,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Responsáveis"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y.length})]}),e.jsx("div",{className:"p-2 bg-purple-50 rounded-full",children:e.jsx(Ye,{className:"h-6 w-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Média por Turma"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:m.length>0?Math.round(o.length/m.length):0})]}),e.jsx("div",{className:"p-2 bg-yellow-50 rounded-full",children:e.jsx(ne,{className:"h-6 w-6 text-yellow-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Alunos (",p.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aluno"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Turma"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Responsável"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Situação"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum aluno encontrado com os filtros aplicados"})}):p.map(n=>{var P,U,B,q,M;const C=b(n);return e.jsxs("tr",{className:"hover:bg-blue-50 hover:shadow-md transition-all cursor-pointer group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold mr-3",children:n.nome.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-700 transition-colors",children:n.nome}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",n.id.slice(0,8)]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:((P=C.turma)==null?void 0:P.nome)||"Sem turma"}),e.jsx("div",{className:"text-sm text-gray-500",children:(U=C.turma)==null?void 0:U.ano_letivo})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:n.responsavel||((B=C.responsavel)==null?void 0:B.nome)||"Sem responsável"}),e.jsx("div",{className:"text-sm text-gray-500",children:n.email_responsavel||((q=C.responsavel)==null?void 0:q.email)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"flex items-center space-x-1 px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:[e.jsx(Ye,{className:"h-3 w-3"}),e.jsx("span",{children:"Ativo"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(n.criado_em).toLocaleDateString("pt-BR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[(((M=C.responsavel)==null?void 0:M.telefone)||n.telefone_responsavel)&&e.jsx("button",{onClick:I=>{I.stopPropagation(),d(n)},className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Enviar WhatsApp para responsável",children:e.jsx(ns,{className:"h-4 w-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation(),O(n)},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation(),console.log("Ver detalhes do aluno:",n.nome)},className:"text-gray-600 hover:text-gray-900 p-1 rounded hover:bg-gray-50",children:e.jsx(Ae,{className:"h-4 w-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation(),_(n)},className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:e.jsx(xe,{className:"h-4 w-4"})})]})})]},n.id)})})]})})]}),e.jsx(Jr,{isOpen:R,onClose:x,student:k,onSave:w},(k==null?void 0:k.id)||"new-student-modal")]})}function Yr({isOpen:s,onClose:r,turma:a,onSave:t}){const{user:l}=ke(),o=Ie(l,!0),[i,m]=h.useState({nome:"",serie:"",turno:"Manhã",ano_letivo:new Date().getFullYear().toString(),professor_id:"",capacidade:"",ativo:!0,observacoes:""}),[f,y]=h.useState([]),[g,v]=h.useState([]),[D,R]=h.useState([]),[c,k]=h.useState({}),[N,T]=h.useState(""),[j,u]=h.useState({}),[d,b]=h.useState(!1),[p,O]=h.useState(!1);h.useEffect(()=>{var P;(async()=>{try{const{getAllUsuarios:U,getAllDisciplinas:B}=await Qs(async()=>{const{getAllUsuarios:L,getAllDisciplinas:F}=await import("./index-B8m-Dn-D.js").then(A=>A.aq);return{getAllUsuarios:L,getAllDisciplinas:F}},__vite__mapDeps([0,1])),[q,M]=await Promise.all([U(),B()]),I=q.filter(L=>L.tipo_usuario==="professor"&&L.ativo);y(I),v(M)}catch(U){console.error("Erro ao carregar professores:",U)}})(),m(a?{nome:a.nome,serie:a.serie||"",turno:a.turno||"Manhã",ano_letivo:a.ano_letivo,professor_id:a.professor_id||"",capacidade:((P=a.capacidade)==null?void 0:P.toString())||"",ativo:a.ativa??!0,observacoes:a.observacoes||""}:{nome:"",serie:"",turno:"Manhã",ano_letivo:new Date().getFullYear().toString(),professor_id:"",capacidade:"",ativo:!0,observacoes:""}),u({}),O(!1)},[a,s]);const _=()=>{const C={};if((!i.nome.trim()||i.nome.length<2)&&(C.nome="Nome da turma deve ter pelo menos 2 caracteres"),i.serie.trim()||(C.serie="Série é obrigatória"),!i.ano_letivo.trim())C.ano_letivo="Ano letivo é obrigatório";else{const P=parseInt(i.ano_letivo);(isNaN(P)||P<2020||P>2030)&&(C.ano_letivo="Ano letivo deve estar entre 2020 e 2030")}return i.turno||(C.turno="Turno é obrigatório"),i.capacidade&&(isNaN(parseInt(i.capacidade))||parseInt(i.capacidade)<1)&&(C.capacidade="Capacidade deve ser um número maior que 0"),u(C),Object.keys(C).length===0},x=()=>{N&&!D.includes(N)&&(R(C=>[...C,N]),T(""))},w=C=>{R(P=>P.filter(U=>U!==C)),k(P=>{const U={...P};return delete U[C],U})},n=async C=>{if(C.preventDefault(),!!_()){b(!0);try{let P;if(a){const U=await o.updateTurma(a.id,{nome:i.nome,serie:i.serie,turno:i.turno,ano_letivo:i.ano_letivo,professor_id:i.professor_id||null,capacidade:i.capacidade?parseInt(i.capacidade):null,ativa:i.ativo,observacoes:i.observacoes});P=a.id,console.log("✅ Turma atualizada")}else{const U=await o.createTurma({nome:i.nome,serie:i.serie,turno:i.turno,ano_letivo:i.ano_letivo,professor_id:i.professor_id||null,capacidade:i.capacidade?parseInt(i.capacidade):null,observacoes:i.observacoes,ativa:i.ativo});P=(U==null?void 0:U.id)||"",console.log("✅ Turma criada")}if(P&&D.length>0){const{updateDisciplina:U}=await Qs(async()=>{const{updateDisciplina:B}=await import("./index-B8m-Dn-D.js").then(q=>q.aq);return{updateDisciplina:B}},__vite__mapDeps([0,1]));for(const B of D)await U(B,{turma_id:P,professor_id:c[B]||null});console.log("✅ Disciplinas da turma atualizadas")}O(!0),setTimeout(()=>{t(),r()},1500)}catch(P){console.error("Erro ao salvar turma:",P),u({submit:"Erro ao salvar turma"})}finally{b(!1)}}};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:e.jsx(re,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a?"Editar Turma":"Nova Turma"})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]}),p&&e.jsx("div",{className:"p-4 bg-green-50 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?"Turma atualizada com sucesso!":"Turma cadastrada com sucesso!"})]})}),e.jsxs("form",{onSubmit:n,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Turma *"}),e.jsx("input",{type:"text",value:i.nome,onChange:C=>m({...i,nome:C.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${j.nome?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 5º Ano A, 3º B"}),j.nome&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),j.nome]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Série *"}),e.jsx("input",{type:"text",value:i.serie,onChange:C=>m({...i,serie:C.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${j.serie?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 5º Ano, Ensino Médio - 1º"}),j.serie&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),j.serie]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turno *"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:i.turno,onChange:C=>m({...i,turno:C.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${j.turno?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"Manhã",children:"Manhã"}),e.jsx("option",{value:"Tarde",children:"Tarde"}),e.jsx("option",{value:"Noite",children:"Noite"}),e.jsx("option",{value:"Integral",children:"Integral"})]})]}),j.turno&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),j.turno]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ano Letivo *"}),e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"number",min:"2020",max:"2030",value:i.ano_letivo,onChange:C=>m({...i,ano_letivo:C.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${j.ano_letivo?"border-red-300":"border-gray-300"}`,placeholder:"2025"})]}),j.ano_letivo&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),j.ano_letivo]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professor Responsável"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:i.professor_id,onChange:C=>m({...i,professor_id:C.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione um professor (opcional)"}),f.map(C=>e.jsx("option",{value:C.id,children:C.nome},C.id))]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pode ser atribuído posteriormente"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacidade de Alunos"}),e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"number",min:"1",max:"50",value:i.capacidade,onChange:C=>m({...i,capacidade:C.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${j.capacidade?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 30"})]}),j.capacidade&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),j.capacidade]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:i.ativo?"ativo":"inativo",onChange:C=>m({...i,ativo:C.target.value==="ativo"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"ativo",children:"Ativo"}),e.jsx("option",{value:"inativo",children:"Inativo"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Disciplinas da Turma"}),e.jsxs("div",{className:"space-y-3",children:[D.map(C=>{const P=g.find(U=>U.id===C);return P?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:P.cor||"#3B82F6"},children:P.codigo||P.nome.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:P.nome}),e.jsx("p",{className:"text-sm text-gray-500",children:P.codigo})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:c[C]||"",onChange:U=>k(B=>({...B,[C]:U.target.value})),className:"text-sm px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Sem professor"}),f.map(U=>e.jsx("option",{value:U.id,children:U.nome},U.id))]}),e.jsx("button",{type:"button",onClick:()=>w(C),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",children:e.jsx(ge,{className:"h-4 w-4"})})]})]},C):null}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:N,onChange:C=>T(C.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione uma disciplina para adicionar"}),g.filter(C=>!D.includes(C.id)).map(C=>e.jsxs("option",{value:C.id,children:[C.nome," (",C.codigo,")"]},C.id))]}),e.jsx("button",{type:"button",onClick:x,disabled:!N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Adicionar"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),e.jsx("textarea",{value:i.observacoes,onChange:C=>m({...i,observacoes:C.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Comentários gerais sobre a turma..."})]}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Informações Importantes:"}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("li",{children:"• O nome da turma deve ser único por ano letivo"}),e.jsx("li",{children:"• O professor responsável pode ser atribuído posteriormente"}),e.jsx("li",{children:"• A capacidade é opcional e serve como referência"}),e.jsx("li",{children:"• Turmas inativas não aparecem nas listas de seleção"})]})]}),j.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),j.submit]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:d||p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Salvando...":a?"Salvar Alterações":"Cadastrar Turma"})]})]})]})}):null}function Zr({isOpen:s,onClose:r,turma:a,horario:t,onSave:l}){var O,_,x,w;const[o,i]=h.useState({disciplina_id:"",professor_id:"",dia_semana:1,hora_inicio:"07:00",hora_fim:"07:50",sala:"",observacoes:""}),[m,f]=h.useState([]),[y,g]=h.useState([]),[v,D]=h.useState({}),[R,c]=h.useState(!1),[k,N]=h.useState(!1);h.useEffect(()=>{s&&a&&T()},[s,a]),h.useEffect(()=>{i(t?{disciplina_id:t.disciplina_id,professor_id:t.professor_id||"",dia_semana:t.dia_semana,hora_inicio:t.hora_inicio,hora_fim:t.hora_fim,sala:t.sala||"",observacoes:t.observacoes||""}:{disciplina_id:"",professor_id:"",dia_semana:1,hora_inicio:"07:00",hora_fim:"07:50",sala:"",observacoes:""}),D({}),N(!1)},[t,s]);const T=async()=>{if(a)try{const[n,C]=await Promise.all([ls(a.id),cs()]);f(n),g(C.filter(P=>P.tipo_usuario==="professor"))}catch(n){console.error("Erro ao carregar dados:",n)}},j=()=>{const n={};return o.disciplina_id||(n.disciplina_id="Disciplina é obrigatória"),o.hora_inicio||(n.hora_inicio="Hora de início é obrigatória"),o.hora_fim||(n.hora_fim="Hora de fim é obrigatória"),o.hora_inicio&&o.hora_fim&&o.hora_inicio>=o.hora_fim&&(n.hora_fim="Hora de fim deve ser posterior à hora de início"),D(n),Object.keys(n).length===0},u=async n=>{if(n.preventDefault(),!(!j()||!a)){c(!0);try{t?(await cr(t.id,{disciplina_id:o.disciplina_id,professor_id:o.professor_id||null,dia_semana:o.dia_semana,hora_inicio:o.hora_inicio,hora_fim:o.hora_fim,sala:o.sala||null,observacoes:o.observacoes||null}),console.log("✅ Horário atualizado")):(await dr({turma_id:a.id,disciplina_id:o.disciplina_id,professor_id:o.professor_id||null,dia_semana:o.dia_semana,hora_inicio:o.hora_inicio,hora_fim:o.hora_fim,sala:o.sala||null,observacoes:o.observacoes||null,ativo:!0}),console.log("✅ Horário criado")),N(!0),setTimeout(()=>{l(),r(),b()},1500)}catch(C){console.error("Erro ao salvar horário:",C),D({submit:"Erro ao salvar horário"})}finally{c(!1)}}},d=async()=>{if(t&&confirm("Tem certeza que deseja excluir este horário?"))try{await mr(t.id),l(),r(),b()}catch(n){console.error("Erro ao excluir horário:",n),D({submit:"Erro ao excluir horário"})}},b=()=>{i({disciplina_id:"",professor_id:"",dia_semana:1,hora_inicio:"07:00",hora_fim:"07:50",sala:"",observacoes:""}),D({}),N(!1)},p=()=>[{value:1,label:"Segunda-feira"},{value:2,label:"Terça-feira"},{value:3,label:"Quarta-feira"},{value:4,label:"Quinta-feira"},{value:5,label:"Sexta-feira"},{value:6,label:"Sábado"},{value:7,label:"Domingo"}];return!s||!a?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:e.jsx(te,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t?"Editar Horário":"Novo Horário de Aula"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t&&e.jsx("button",{onClick:d,className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(xe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{r(),b()},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]})]}),k&&e.jsx("div",{className:"p-4 bg-green-50 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:t?"Horário atualizado com sucesso!":"Horário criado com sucesso!"})]})}),e.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disciplina *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:o.disciplina_id,onChange:n=>{i({...o,disciplina_id:n.target.value});const C=m.find(P=>P.disciplina_id===n.target.value);C!=null&&C.professor_id&&i(P=>({...P,professor_id:C.professor_id||""}))},className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.disciplina_id?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selecione uma disciplina"}),m.map(n=>{var C;return e.jsx("option",{value:n.disciplina_id,children:(C=n.disciplina)==null?void 0:C.nome},n.id)})]})]}),v.disciplina_id&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),v.disciplina_id]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professor"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:o.professor_id,onChange:n=>i({...o,professor_id:n.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione um professor (opcional)"}),y.map(n=>e.jsx("option",{value:n.id,children:n.nome},n.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dia da Semana *"}),e.jsx("select",{value:o.dia_semana,onChange:n=>i({...o,dia_semana:parseInt(n.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:p().map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora de Início *"}),e.jsx("input",{type:"time",value:o.hora_inicio,onChange:n=>i({...o,hora_inicio:n.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.hora_inicio?"border-red-300":"border-gray-300"}`}),v.hora_inicio&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:v.hora_inicio})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora de Fim *"}),e.jsx("input",{type:"time",value:o.hora_fim,onChange:n=>i({...o,hora_fim:n.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.hora_fim?"border-red-300":"border-gray-300"}`}),v.hora_fim&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:v.hora_fim})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sala/Local"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:o.sala,onChange:n=>i({...o,sala:n.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Sala 101, Laboratório, Quadra"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),e.jsx("textarea",{value:o.observacoes,onChange:n=>i({...o,observacoes:n.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observações especiais sobre esta aula..."})]}),o.disciplina_id&&e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Preview do Horário:"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Disciplina:"})," ",(_=(O=m.find(n=>n.disciplina_id===o.disciplina_id))==null?void 0:O.disciplina)==null?void 0:_.nome]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Professor:"})," ",((x=y.find(n=>n.id===o.professor_id))==null?void 0:x.nome)||"Não atribuído"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dia:"})," ",(w=p().find(n=>n.value===o.dia_semana))==null?void 0:w.label]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Horário:"})," ",o.hora_inicio," às ",o.hora_fim]}),o.sala&&e.jsxs("p",{children:[e.jsx("strong",{children:"Local:"})," ",o.sala]})]})]}),m.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ee,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma disciplina na grade"}),e.jsx("p",{className:"text-gray-500",children:"Adicione disciplinas à grade da turma antes de criar horários."})]}),v.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),v.submit]})})]}),m.length>0&&e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{r(),b()},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:u,disabled:R||k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:R?"Salvando...":t?"Salvar Alterações":"Criar Horário"})]})]})]})})}function Kr({isOpen:s,onClose:r,turma:a,onSave:t}){const[l,o]=h.useState(!1),[i,m]=h.useState("info"),[f,y]=h.useState(!1),[g,v]=h.useState(!1);h.useState([]);const[D,R]=h.useState([]),[c,k]=h.useState([]),[N,T]=h.useState([]),[j,u]=h.useState([]),[d,b]=h.useState([]),[p,O]=h.useState(!1),[_,x]=h.useState(null),[w,n]=h.useState({nome:"",serie:"",turno:"Manhã",ano_letivo:"",capacidade:"",descricao:"",ativa:!0});h.useEffect(()=>{s&&C()},[s]),h.useEffect(()=>{var A;a&&n({nome:a.nome,serie:a.serie||"",turno:a.turno||"Manhã",ano_letivo:a.ano_letivo,capacidade:((A=a.capacidade)==null?void 0:A.toString())||"",descricao:a.descricao||"",ativa:a.ativa??!0})},[a]);const C=async()=>{if(a)try{const[A,z,H,Y,me]=await Promise.all([xr(),cs(),ur(),ls(a.id),ea(a.id)]);R(A),k(z.filter(Z=>Z.tipo_usuario==="professor"));const Re=H.filter(Z=>Z.turma_id===a.id);T(Re),u(Y),b(me)}catch(A){console.error("Erro ao carregar dados:",A)}},P=async()=>{if(a){y(!0);try{await pr(a.id,{nome:w.nome,serie:w.serie,turno:w.turno,ano_letivo:w.ano_letivo,capacidade:w.capacidade?parseInt(w.capacidade):void 0,descricao:w.descricao,ativa:w.ativa}),v(!0),o(!1),setTimeout(()=>{v(!1),t()},1500)}catch(A){console.error("Erro ao salvar turma:",A)}finally{y(!1)}}},U=async(A,z)=>{if(a)try{await gr({turma_id:a.id,disciplina_id:A,professor_id:z||null,carga_horaria_semanal:2,ativa:!0});const H=await ls(a.id);u(H)}catch(H){console.error("Erro ao adicionar disciplina:",H)}},B=async A=>{try{await br(A);const z=await ls(a.id);u(z)}catch(z){console.error("Erro ao remover disciplina:",z)}},q=async(A,z)=>{try{await fr(A,z);const H=await ls(a.id);u(H)}catch(H){console.error("Erro ao atualizar disciplina:",H)}},M=async()=>{const A=await ea(a.id);b(A)},I=()=>["Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],L=A=>d.filter(z=>z.dia_semana===A).sort((z,H)=>z.hora_inicio.localeCompare(H.hora_inicio)),F=()=>{if(N.length===0)return 0;const A=new Date,z=N.map(H=>{const Y=new Date(H.data_nascimento||"2010-01-01");return A.getFullYear()-Y.getFullYear()});return Math.round(z.reduce((H,Y)=>H+Y,0)/z.length)};return!s||!a?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-full text-white",children:e.jsx(re,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:l?"Editar Turma":"Detalhes da Turma"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Criada em ",new Date(a.criado_em).toLocaleDateString("pt-BR")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!l&&e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{children:"Editar"})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]})]}),g&&e.jsx("div",{className:"p-4 bg-green-50 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Turma atualizada com sucesso!"})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>m("info"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i==="info"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{children:"Informações"})]})}),e.jsx("button",{onClick:()=>m("disciplinas"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i==="disciplinas"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{children:"Grade de Disciplinas"})]})}),e.jsx("button",{onClick:()=>m("cronograma"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i==="cronograma"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ys,{className:"h-4 w-4"}),e.jsx("span",{children:"Cronograma"})]})})]})}),e.jsxs("div",{className:"p-6 space-y-8",children:[i==="info"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Informações Básicas"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Turma"}),l?e.jsx("input",{type:"text",value:w.nome,onChange:A=>n({...w,nome:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900 font-medium",children:a.nome})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Série/Ano"}),l?e.jsx("input",{type:"text",value:w.serie,onChange:A=>n({...w,serie:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 5º Ano, Ensino Médio - 1º"}):e.jsx("p",{className:"text-gray-900",children:a.serie||"Não definido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Turno"}),l?e.jsxs("select",{value:w.turno,onChange:A=>n({...w,turno:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"Manhã",children:"Manhã"}),e.jsx("option",{value:"Tarde",children:"Tarde"}),e.jsx("option",{value:"Noite",children:"Noite"}),e.jsx("option",{value:"Integral",children:"Integral"})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:a.turno||"Não definido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ano Letivo"}),l?e.jsx("input",{type:"text",value:w.ano_letivo,onChange:A=>n({...w,ano_letivo:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900",children:a.ano_letivo})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Configurações"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacidade"}),l?e.jsx("input",{type:"number",value:w.capacidade,onChange:A=>n({...w,capacidade:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 30"}):e.jsxs("p",{className:"text-gray-900",children:[a.capacidade||"Não definida"," alunos"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l?e.jsxs("select",{value:w.ativa?"ativa":"inativa",onChange:A=>n({...w,ativa:A.target.value==="ativa"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"ativa",children:"Ativa"}),e.jsx("option",{value:"inativa",children:"Inativa"})]}):e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${a.ativa?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.ativa?"Ativa":"Inativa"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Criação"}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[e.jsx(_e,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:new Date(a.criado_em).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Estatísticas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Alunos"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:N.length})]}),e.jsx(W,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Disciplinas"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:j.length})]}),e.jsx(ee,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Idade Média"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:F()})]}),e.jsx(ie,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Ocupação"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:[a.capacidade?Math.round(N.length/a.capacidade*100):0,"%"]})]}),e.jsx(re,{className:"h-8 w-8 text-yellow-600"})]})})]})]})]}),(l||a.descricao)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Descrição"}),l?e.jsx("textarea",{value:w.descricao,onChange:A=>n({...w,descricao:A.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descrição da turma, observações especiais..."}):e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.descricao||"Nenhuma descrição fornecida."})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:["Alunos Matriculados (",N.length,")"]}),N.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(W,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"Nenhum aluno matriculado nesta turma"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(A=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:A.nome.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:A.nome}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Matrícula: ",A.matricula||"N/A"]})]})]})},A.id))})]})]}),i==="disciplinas"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:["Grade de Disciplinas (",j.length,")"]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("select",{onChange:A=>{A.target.value&&(U(A.target.value),A.target.value="")},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Adicionar disciplina..."}),D.filter(A=>!j.some(z=>z.disciplina_id===A.id)).map(A=>e.jsx("option",{value:A.id,children:A.nome},A.id))]})})]}),j.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ee,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"Nenhuma disciplina vinculada a esta turma"}),e.jsx("p",{className:"text-sm mt-2",children:"Use o seletor acima para adicionar disciplinas"})]}):e.jsx("div",{className:"space-y-4",children:j.map(A=>{var z,H,Y,me,Re;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold",style:{backgroundColor:((z=A.disciplina)==null?void 0:z.cor)||"#3B82F6"},children:((H=A.disciplina)==null?void 0:H.codigo)||((Y=A.disciplina)==null?void 0:Y.nome.charAt(0))}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:(me=A.disciplina)==null?void 0:me.nome}),e.jsx("p",{className:"text-sm text-gray-500",children:(Re=A.disciplina)==null?void 0:Re.codigo})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Professor:"}),e.jsxs("select",{value:A.professor_id||"",onChange:Z=>q(A.id,{professor_id:Z.target.value||null}),className:"text-sm px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Sem professor"}),c.map(Z=>e.jsx("option",{value:Z.id,children:Z.nome},Z.id))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Carga:"}),e.jsx("input",{type:"number",min:"1",max:"10",value:A.carga_horaria_semanal,onChange:Z=>q(A.id,{carga_horaria_semanal:parseInt(Z.target.value)}),className:"w-16 text-sm px-2 py-1 border border-gray-300 rounded text-center focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("span",{className:"text-sm text-gray-500",children:"h/sem"})]}),e.jsx("button",{onClick:()=>B(A.id),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",children:e.jsx(xe,{className:"h-4 w-4"})})]})]})},A.id)})})]}),i==="cronograma"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Cronograma Semanal de Aulas"}),e.jsxs("button",{onClick:()=>O(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Novo Horário"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-8 gap-0",children:[e.jsx("div",{className:"bg-gray-50 p-3 border-b border-gray-200 font-medium text-gray-700 text-center",children:"Horário"}),I().map((A,z)=>e.jsx("div",{className:"bg-gray-50 p-3 border-b border-gray-200 font-medium text-gray-700 text-center",children:A},z)),Array.from({length:8},(A,z)=>{const H=7+z,Y=`${H.toString().padStart(2,"0")}:00`;return e.jsxs(hr.Fragment,{children:[e.jsx("div",{className:"p-3 border-b border-gray-200 text-center text-sm text-gray-600 bg-gray-50",children:Y}),[1,2,3,4,5,6,7].map(me=>{const Re=L(me).filter(Z=>parseInt(Z.hora_inicio.split(":")[0])===H);return e.jsx("div",{className:"p-2 border-b border-gray-200 min-h-[60px]",children:Re.map(Z=>{var qe,es,ps,ss;return e.jsxs("div",{className:"p-2 rounded text-xs cursor-pointer hover:shadow-md transition-shadow",style:{backgroundColor:((qe=Z.disciplina)==null?void 0:qe.cor)+"20",borderLeft:`3px solid ${(es=Z.disciplina)==null?void 0:es.cor}`},onClick:()=>{x(Z),O(!0)},children:[e.jsx("div",{className:"font-medium text-gray-900",children:(ps=Z.disciplina)==null?void 0:ps.nome}),e.jsx("div",{className:"text-gray-600",children:(ss=Z.professor)==null?void 0:ss.nome}),Z.sala&&e.jsxs("div",{className:"text-gray-500",children:["Sala: ",Z.sala]})]},Z.id)})},me)})]},z)})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Resumo da Semana"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total de aulas por semana:"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:d.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Disciplinas com horário:"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:new Set(d.map(A=>A.disciplina_id)).size})]})]})]})]})]}),l&&i==="info"&&e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{var A;o(!1),a&&n({nome:a.nome,serie:a.serie||"",turno:a.turno||"Manhã",ano_letivo:a.ano_letivo,capacidade:((A=a.capacidade)==null?void 0:A.toString())||"",descricao:a.descricao||"",ativa:a.ativa??!0})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:P,disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:f?"Salvando...":"Salvar Alterações"})]})]}),e.jsx(Zr,{isOpen:p,onClose:()=>{O(!1),x(null)},turma:a,horario:_,onSave:M})]})})}function Xr(){const{user:s,isSupabaseConnected:r}=ke(),a=Ie(s,r),{refreshKey:t,triggerRefresh:l}=Cs(),[o,i]=h.useState([]),[m,f]=h.useState([]),[y,g]=h.useState([]),[v,D]=h.useState({busca:"",anoLetivo:"",turno:"",status:""}),[R,c]=h.useState(!1),[k,N]=h.useState(null),[T,j]=h.useState(!1),[u,d]=h.useState(null),[b,p]=h.useState(!0);h.useEffect(()=>{O()},[t]);const O=async()=>{try{const[L,F,A]=await Promise.all([a.getTurmas(),a.getAlunos(),a.getDisciplinas()]);i(L),f(F),g(A)}catch(L){console.error("Erro ao carregar dados:",L)}finally{p(!1)}},_=L=>{const F=m.filter(z=>z.turma_id===L.id),A=y.filter(z=>z.turma_id===L.id);return{...L,totalAlunos:F.length,totalDisciplinas:A.length,professorNome:"Não atribuído"}},x=o.filter(L=>{const F=!v.busca||L.nome.toLowerCase().includes(v.busca.toLowerCase()),A=!v.anoLetivo||L.ano_letivo===v.anoLetivo,z=!v.turno||L.turno===v.turno,H=!v.status||v.status==="ativo"&&L.ativa||v.status==="inativo"&&!L.ativa;return F&&A&&z&&H}),w=[...new Set(o.map(L=>L.ano_letivo))].sort(),n=["Manhã","Tarde","Noite","Integral"],C=L=>{N(L),c(!0)},P=async L=>{const F=m.filter(A=>A.turma_id===L.id);if(F.length>0){alert(`Não é possível excluir a turma ${L.nome} pois há ${F.length} aluno(s) vinculado(s).`);return}if(confirm(`Tem certeza que deseja excluir a turma ${L.nome}?

Esta ação não pode ser desfeita.`))try{await a.deleteTurma(L.id),l()}catch(A){console.error("Erro ao excluir turma:",A),A instanceof Error&&A.message.includes("Supabase")?alert("❌ Erro: Sistema requer conexão com Supabase para excluir turmas. Verifique sua conexão."):alert("Erro ao excluir turma")}},U=L=>{d(L),j(!0)},B=()=>{c(!1),N(null)},q=()=>{l()},M=()=>{j(!1),d(null)},I=()=>{l(),M()};return b?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-6"}),e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:"Carregando turmas..."}),e.jsx("p",{className:"text-lg text-gray-500 mt-2",children:"Aguarde um momento"})]})}):e.jsxs("div",{className:"space-y-6 sm:space-y-8 lg:space-y-12",children:[e.jsx("div",{className:"bg-gradient-to-br from-white via-blue-50 to-indigo-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-blue-200 p-6 sm:p-8 lg:p-12 animate-slide-in-up hover:shadow-2xl transition-all duration-500",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-6 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 rounded-2xl sm:rounded-3xl shadow-2xl mx-auto sm:mx-0 animate-float",children:e.jsx(re,{className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent animate-glow",children:"🏫 Gestão de Turmas"}),e.jsx("p",{className:"text-gray-700 mt-2 sm:mt-4 text-lg sm:text-xl lg:text-2xl font-bold",children:"🎯 Organize e gerencie todas as turmas da escola"})]})]}),e.jsx("div",{className:"flex items-center justify-center sm:justify-end",children:e.jsxs("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-bold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),e.jsx("span",{children:"Nova Turma"})]})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ze,{className:"h-5 w-5 text-gray-500"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome da turma...",value:v.busca,onChange:L=>D({...v,busca:L.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:v.anoLetivo,onChange:L=>D({...v,anoLetivo:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os anos letivos"}),w.map(L=>e.jsx("option",{value:L,children:L},L))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("select",{value:v.turno,onChange:L=>D({...v,turno:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os turnos"}),n.map(L=>e.jsx("option",{value:L,children:L},L))]}),e.jsxs("select",{value:v.status,onChange:L=>D({...v,status:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os status"}),e.jsx("option",{value:"ativo",children:"Ativo"}),e.jsx("option",{value:"inativo",children:"Inativo"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-xl border-2 border-blue-200 p-6 hover:shadow-2xl transition-all duration-300 hover:scale-110",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-blue-600 uppercase tracking-wide",children:"🏫 Total"}),e.jsx("p",{className:"text-3xl font-black text-blue-700",children:o.length})]}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl shadow-lg",children:e.jsx(re,{className:"h-8 w-8 text-white"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Alunos"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.length})]}),e.jsx("div",{className:"p-2 bg-green-50 rounded-full",children:e.jsx(W,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disciplinas"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y.length})]}),e.jsx("div",{className:"p-2 bg-purple-50 rounded-full",children:e.jsx(ee,{className:"h-6 w-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Média por Turma"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.length>0?Math.round(m.length/o.length):0})]}),e.jsx("div",{className:"p-2 bg-yellow-50 rounded-full",children:e.jsx(W,{className:"h-6 w-6 text-yellow-600"})})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.length===0?e.jsxs("div",{className:"col-span-full bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(re,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma turma encontrada"}),e.jsx("p",{className:"text-gray-500",children:"Ajuste os filtros ou crie uma nova turma."})]}):x.map(L=>{const F=_(L);return e.jsx("div",{className:"bg-gradient-to-br from-white via-blue-50 to-purple-50 rounded-2xl shadow-xl border-2 border-blue-200 hover:shadow-2xl hover:border-blue-400 hover:scale-110 hover:rotate-1 transition-all duration-300 cursor-pointer group",onClick:()=>U(L),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-white font-black text-xl shadow-lg",children:L.nome.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-gray-900 group-hover:text-blue-700 transition-colors text-lg",children:L.nome}),e.jsxs("p",{className:"text-sm text-gray-600 font-bold",children:["📅 ",L.ano_letivo]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:A=>{A.stopPropagation(),C(L)},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Editar turma",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx("button",{onClick:A=>{A.stopPropagation(),P(L)},className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Excluir turma",children:e.jsx(xe,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 font-bold",children:"👥 Alunos"})]}),e.jsxs("span",{className:"text-sm font-black text-gray-900",children:[F.totalAlunos,L.capacidade&&` / ${L.capacidade}`]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Disciplinas"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.totalDisciplinas})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Professor"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.professorNome})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Turno"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:L.turno||"Não definido"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Status"})]}),e.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full text-xs ${L.ativa?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.ativa?"Ativo":"Inativo"})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Criada em"}),e.jsx("span",{children:new Date(L.criado_em).toLocaleDateString("pt-BR")})]})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 text-center",children:e.jsx("p",{className:"text-xs text-blue-700 opacity-0 group-hover:opacity-100 transition-opacity font-black bg-blue-100 px-3 py-2 rounded-xl",children:"✨ Clique para ver detalhes completos"})})]})},L.id)})}),e.jsx(Yr,{isOpen:R,onClose:B,turma:k,onSave:q}),e.jsx(Kr,{isOpen:T,onClose:M,turma:u,onSave:I})]})}function Qr({isOpen:s,onClose:r,disciplina:a,onSave:t}){const[l,o]=h.useState([]),[i,m]=h.useState([]),[f,y]=h.useState({nome:"",codigo:"",carga_horaria:"",professor_id:"",turma_id:"",cor:"#3B82F6",descricao:"",ativa:!0}),[g,v]=h.useState({}),[D,R]=h.useState(!1),[c,k]=h.useState(!1);h.useEffect(()=>{s&&N()},[s]),h.useEffect(()=>{var b;y(a?{nome:a.nome,codigo:a.codigo||"",carga_horaria:((b=a.carga_horaria)==null?void 0:b.toString())||"",professor_id:a.professor_id||"",turma_id:a.turma_id||"",cor:a.cor||"#3B82F6",descricao:a.descricao||"",ativa:a.ativa??!0}:{nome:"",codigo:"",carga_horaria:"",professor_id:"",turma_id:"",cor:"#3B82F6",descricao:"",ativa:!0}),v({}),k(!1)},[a,s]);const N=async()=>{try{const[b,p]=await Promise.all([Gs(),cs()]);o(b),m(p.filter(O=>O.tipo_usuario==="professor"))}catch(b){console.error("Erro ao carregar dados:",b)}},T=()=>{const b={};return(!f.nome.trim()||f.nome.length<2)&&(b.nome="Nome da disciplina deve ter pelo menos 2 caracteres"),(!f.codigo.trim()||f.codigo.length<2)&&(b.codigo="Código deve ter pelo menos 2 caracteres"),f.turma_id||(b.turma_id="Turma é obrigatória"),f.carga_horaria&&(isNaN(parseInt(f.carga_horaria))||parseInt(f.carga_horaria)<1)&&(b.carga_horaria="Carga horária deve ser um número maior que 0"),v(b),Object.keys(b).length===0},j=async b=>{if(b.preventDefault(),!!T()){R(!0);try{const p={nome:f.nome,professor_id:f.professor_id||null,turma_id:f.turma_id};a?(await Ta(a.id,p),console.log("✅ Disciplina atualizada")):(await jr(p),console.log("✅ Disciplina criada")),k(!0),setTimeout(()=>{t(),r(),u()},1500)}catch(p){console.error("Erro ao salvar disciplina:",p),v({submit:"Erro ao salvar disciplina"})}finally{R(!1)}}},u=()=>{y({nome:"",codigo:"",carga_horaria:"",professor_id:"",turma_id:"",cor:"#3B82F6",descricao:"",ativa:!0}),v({}),k(!1)},d=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"];return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:e.jsx(ee,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a?"Editar Disciplina":"Nova Disciplina"})]}),e.jsx("button",{onClick:()=>{r(),u()},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]}),c&&e.jsx("div",{className:"p-4 bg-green-50 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?"Disciplina atualizada com sucesso!":"Disciplina cadastrada com sucesso!"})]})}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Disciplina *"}),e.jsx("input",{type:"text",value:f.nome,onChange:b=>y({...f,nome:b.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.nome?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Matemática, Português"}),g.nome&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.nome]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código/Sigla *"}),e.jsx("input",{type:"text",value:f.codigo,onChange:b=>y({...f,codigo:b.target.value.toUpperCase()}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.codigo?"border-red-300":"border-gray-300"}`,placeholder:"Ex: MAT, POR, CIE",maxLength:5}),g.codigo&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.codigo]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turma *"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:f.turma_id,onChange:b=>y({...f,turma_id:b.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.turma_id?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selecione uma turma"}),l.map(b=>e.jsxs("option",{value:b.id,children:[b.nome," - ",b.ano_letivo]},b.id))]})]}),g.turma_id&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.turma_id]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Professor Responsável *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsxs("select",{value:f.professor_id,onChange:b=>y({...f,professor_id:b.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.professor_id?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selecione um professor"}),i.map(b=>e.jsx("option",{value:b.id,children:b.nome},b.id))]})]}),g.professor_id&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.professor_id]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Carga Horária Semanal"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"number",min:"1",max:"40",value:f.carga_horaria,onChange:b=>y({...f,carga_horaria:b.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.carga_horaria?"border-red-300":"border-gray-300"}`,placeholder:"Ex: 4 (horas por semana)"})]}),g.carga_horaria&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),g.carga_horaria]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Número de horas semanais da disciplina (opcional)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor da Disciplina"}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(ds,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Escolha uma cor para identificar a disciplina"})]}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:d.map(b=>e.jsx("button",{type:"button",onClick:()=>y({...f,cor:b}),className:`w-12 h-12 rounded-lg border-2 transition-all ${f.cor===b?"border-gray-800 scale-110":"border-gray-300 hover:scale-105"}`,style:{backgroundColor:b},title:b},b))}),e.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:f.cor,onChange:b=>y({...f,cor:b.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:f.cor,onChange:b=>y({...f,cor:b.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#3B82F6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),e.jsx("textarea",{value:f.descricao,onChange:b=>y({...f,descricao:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Objetivos da disciplina, conteúdo programático..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:f.ativa?"ativa":"inativa",onChange:b=>y({...f,ativa:b.target.value==="ativa"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"ativa",children:"Ativa"}),e.jsx("option",{value:"inativa",children:"Inativa"})]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Informações Importantes:"}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("li",{children:"• O código da disciplina deve ser único"}),e.jsx("li",{children:"• A cor ajuda na identificação visual nos relatórios"}),e.jsx("li",{children:"• Disciplinas inativas não aparecem nas listas de seleção"}),e.jsx("li",{children:"• A carga horária é usada para cálculos de relatórios"}),e.jsx("li",{children:"• Professor e turma podem ser atribuídos posteriormente"})]})]}),g.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),g.submit]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{r(),u()},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:D||c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:D?"Salvando...":a?"Salvar Alterações":"Cadastrar Disciplina"})]})]})]})}):null}function et({isOpen:s,onClose:r,disciplina:a,onSave:t}){const[l,o]=h.useState(!1),[i,m]=h.useState(!1),[f,y]=h.useState(!1),[g,v]=h.useState([]),[D,R]=h.useState([]),[c,k]=h.useState({nome:"",codigo:"",descricao:"",cor:"#3B82F6",professor_id:"",ativa:!0});h.useEffect(()=>{s&&N()},[s]),h.useEffect(()=>{a&&(k({nome:a.nome,codigo:a.codigo||"",descricao:a.descricao||"",cor:a.cor||"#3B82F6",professor_id:a.professor_id||"",ativa:a.ativa??!0}),a.turma_id)},[a]);const N=async()=>{try{const[d,b]=await Promise.all([Gs(),cs()]);v(d),R(b.filter(p=>p.tipo_usuario==="professor"))}catch(d){console.error("Erro ao carregar dados:",d)}},T=async()=>{if(a){m(!0);try{await Ta(a.id,{nome:c.nome,codigo:c.codigo,descricao:c.descricao,cor:c.cor,professor_id:c.professor_id||void 0,ativa:c.ativa}),y(!0),o(!1),setTimeout(()=>{y(!1),t()},1500)}catch(d){console.error("Erro ao salvar disciplina:",d)}finally{m(!1)}}},j=d=>{const b=D.find(p=>p.id===d);return(b==null?void 0:b.nome)||"Não atribuído"},u=d=>{const b=g.find(p=>p.id===d);return(b==null?void 0:b.nome)||"Turma não encontrada"};return!s||!a?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 rounded-full text-white",style:{backgroundColor:c.cor},children:e.jsx(ee,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:l?"Editar Disciplina":"Detalhes da Disciplina"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Criada em ",new Date(a.criado_em).toLocaleDateString("pt-BR")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!l&&e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{children:"Editar"})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]})]}),f&&e.jsx("div",{className:"p-4 bg-green-50 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Disciplina atualizada com sucesso!"})]})}),e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Informações Básicas"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Disciplina"}),l?e.jsx("input",{type:"text",value:c.nome,onChange:d=>k({...c,nome:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"text-gray-900 font-medium",children:a.nome})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código/Sigla"}),l?e.jsx("input",{type:"text",value:c.codigo,onChange:d=>k({...c,codigo:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: MAT, POR, CIE"}):e.jsx("p",{className:"text-gray-900",children:a.codigo||"Não definido"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor da Disciplina"}),l?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:c.cor,onChange:d=>k({...c,cor:d.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:c.cor,onChange:d=>k({...c,cor:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:a.cor||"#3B82F6"}}),e.jsx("span",{className:"text-gray-900",children:a.cor||"#3B82F6"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l?e.jsxs("select",{value:c.ativa?"ativa":"inativa",onChange:d=>k({...c,ativa:d.target.value==="ativa"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"ativa",children:"Ativa"}),e.jsx("option",{value:"inativa",children:"Inativa"})]}):e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${a.ativa?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.ativa?"Ativa":"Inativa"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Atribuições"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Professor Responsável"}),l?e.jsxs("select",{value:c.professor_id,onChange:d=>k({...c,professor_id:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione um professor"}),D.map(d=>e.jsx("option",{value:d.id,children:d.nome},d.id))]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:j(a.professor_id||"").charAt(0).toUpperCase()}),e.jsx("span",{className:"text-gray-900",children:j(a.professor_id||"")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Turma Associada"}),e.jsx("div",{className:"text-gray-900",children:a.turma_id?u(a.turma_id):"Nenhuma turma associada"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Criação"}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[e.jsx(_e,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:new Date(a.criado_em).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Descrição"}),l?e.jsx("textarea",{value:c.descricao,onChange:d=>k({...c,descricao:d.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descrição da disciplina, objetivos, conteúdo programático..."}):e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.descricao||"Nenhuma descrição fornecida."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Estatísticas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Turmas"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"1"})]}),e.jsx(W,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Alunos"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:"0"})]}),e.jsx(ie,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Notas"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:"0"})]}),e.jsx(ee,{className:"h-8 w-8 text-purple-600"})]})})]})]})]}),l&&e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{o(!1),a&&k({nome:a.nome,codigo:a.codigo||"",descricao:a.descricao||"",cor:a.cor||"#3B82F6",professor_id:a.professor_id||"",ativa:a.ativa??!0})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:T,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:i?"Salvando...":"Salvar Alterações"})]})]})]})})}function st(){const{user:s,isSupabaseConnected:r}=ke(),a=Ie(s,r),{refreshKey:t,triggerRefresh:l}=Cs(),[o,i]=h.useState([]),[m,f]=h.useState([]),[y,g]=h.useState([]),[v,D]=h.useState({busca:"",turma:"",professor:""}),[R,c]=h.useState(!1),[k,N]=h.useState(null),[T,j]=h.useState(!1),[u,d]=h.useState(null),[b,p]=h.useState(!0);h.useEffect(()=>{O()},[t]);const O=async()=>{try{const[I,L]=await Promise.all([a.getDisciplinas(),a.getTurmas()]);if(i(I),f(L),(s==null?void 0:s.tipo_usuario)==="admin"){const A=(await a.getUsuarios()).filter(z=>z.tipo_usuario==="professor");g(A)}}catch(I){console.error("Erro ao carregar dados:",I)}finally{p(!1)}},_=I=>{const L=m.find(A=>A.id===I.turma_id),F=y.find(A=>A.id===I.professor_id);return{...I,turma:L,professor:F}},x=o.filter(I=>{const L=!v.busca||I.nome.toLowerCase().includes(v.busca.toLowerCase()),F=!v.turma||I.turma_id===v.turma,A=!v.professor||I.professor_id===v.professor;return L&&F&&A}),w=I=>{N(I),c(!0)},n=I=>{confirm(`Tem certeza que deseja excluir a disciplina ${I.nome}?

Esta ação não pode ser desfeita.`)&&C(I.id)},C=async I=>{try{await a.deleteDisciplina(I),l()}catch(L){console.error("Erro ao excluir disciplina:",L),L instanceof Error&&L.message.includes("Supabase")?alert("❌ Erro: Sistema requer conexão com Supabase para excluir disciplinas. Verifique sua conexão."):alert("Erro ao excluir disciplina")}},P=()=>{c(!1),N(null)},U=()=>{l()},B=()=>{j(!1),d(null)},q=()=>{l(),B()},M=I=>{d(I),j(!0)};return b?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-6"}),e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:"Carregando disciplinas..."}),e.jsx("p",{className:"text-lg text-gray-500 mt-2",children:"Aguarde um momento"})]})}):e.jsxs("div",{className:"space-y-6 sm:space-y-8 lg:space-y-12",children:[e.jsx("div",{className:"bg-gradient-to-br from-white via-purple-50 to-indigo-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-purple-200 p-6 sm:p-8 lg:p-12 animate-slide-in-up hover:shadow-2xl transition-all duration-500",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-6 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-purple-500 via-indigo-500 to-blue-600 rounded-2xl sm:rounded-3xl shadow-2xl mx-auto sm:mx-0 animate-float",children:e.jsx(ee,{className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 bg-clip-text text-transparent animate-glow",children:"📚 Gestão de Disciplinas"}),e.jsx("p",{className:"text-gray-700 mt-2 sm:mt-4 text-lg sm:text-xl lg:text-2xl font-bold",children:"🎯 Organize e gerencie todas as matérias do currículo"})]})]}),e.jsx("div",{className:"flex items-center justify-center sm:justify-end",children:e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-3 px-6 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-2xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105 font-black text-lg",children:[e.jsx(Ce,{className:"h-5 w-5 sm:h-6 sm:w-6"}),e.jsx("span",{children:"Nova Disciplina"})]})})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-white to-gray-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-gray-200 p-6 sm:p-8 animate-slide-in-up delay-100",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl shadow-lg",children:e.jsx(ze,{className:"h-6 w-6 text-white"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-black text-gray-900",children:"🔍 Filtros Inteligentes"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"🔎 Buscar disciplina...",value:v.busca,onChange:I=>D({...v,busca:I.target.value}),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-300 rounded-2xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 text-lg font-semibold shadow-lg hover:shadow-xl transition-all"})]}),e.jsxs("select",{value:v.turma,onChange:I=>D({...v,turma:I.target.value}),className:"w-full px-4 py-4 border-2 border-gray-300 rounded-2xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 text-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[e.jsx("option",{value:"",children:"🏫 Todas as turmas"}),m.map(I=>e.jsx("option",{value:I.id,children:I.nome},I.id))]}),e.jsxs("select",{value:v.professor,onChange:I=>D({...v,professor:I.target.value}),className:"w-full px-4 py-4 border-2 border-gray-300 rounded-2xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 text-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[e.jsx("option",{value:"",children:"👨‍🏫 Todos os professores"}),y.map(I=>e.jsx("option",{value:I.id,children:I.nome},I.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-purple-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-purple-600 uppercase tracking-wider",children:"📚 Total"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-purple-700 animate-glow",children:o.length}),e.jsx("p",{className:"text-xs sm:text-sm text-purple-500 font-bold",children:"Disciplinas"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(ee,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-green-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-green-600 uppercase tracking-wider",children:"👨‍🏫 Professores"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-green-700 animate-glow",children:y.length}),e.jsx("p",{className:"text-xs sm:text-sm text-green-500 font-bold",children:"Ativos"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(W,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-blue-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-blue-600 uppercase tracking-wider",children:"🏫 Turmas"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-blue-700 animate-glow",children:m.length}),e.jsx("p",{className:"text-xs sm:text-sm text-blue-500 font-bold",children:"Ativas"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(re,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-amber-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-amber-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-400",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-amber-600 uppercase tracking-wider",children:"📊 Média"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-amber-700 animate-glow",children:m.length>0?Math.round(o.length/m.length):0}),e.jsx("p",{className:"text-xs sm:text-sm text-amber-500 font-bold",children:"Por turma"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(ee,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:x.length===0?e.jsxs("div",{className:"col-span-full bg-gradient-to-br from-white via-gray-50 to-purple-50 rounded-3xl shadow-2xl border-2 border-gray-200 p-12 sm:p-16 lg:p-20 text-center animate-slide-in-up",children:[e.jsx("div",{className:"p-8 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full w-fit mx-auto mb-8 animate-bounce-soft",children:e.jsx(ee,{className:"h-16 w-16 sm:h-20 sm:w-20 text-gray-400"})}),e.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-gray-900 mb-6",children:"📚 Nenhuma disciplina encontrada"}),e.jsx("p",{className:"text-gray-600 text-lg sm:text-xl font-semibold",children:"Ajuste os filtros ou crie uma nova disciplina."})]}):x.map(I=>{var F,A;const L=_(I);return e.jsx("div",{className:"bg-gradient-to-br from-white via-purple-50 to-indigo-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-purple-200 hover:shadow-2xl hover:border-purple-400 hover:scale-110 hover:rotate-1 transition-all duration-500 cursor-pointer group animate-scale-in",onClick:()=>M(I),children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-2xl sm:rounded-3xl flex items-center justify-center text-white font-black text-xl sm:text-2xl shadow-2xl animate-float",style:{backgroundColor:I.cor||"#3B82F6"},children:I.codigo||I.nome.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-black text-gray-900 group-hover:text-purple-700 transition-colors leading-tight",children:I.nome}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-bold",children:I.codigo||"Sem código"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs sm:text-sm text-green-600 font-bold",children:I.ativa?"Ativa":"Inativa"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:z=>{z.stopPropagation(),w(I)},className:"p-2 text-blue-600 hover:text-blue-900 rounded-xl hover:bg-blue-50 transition-all duration-300 hover:scale-110",children:e.jsx(Ee,{className:"h-5 w-5"})}),e.jsx("button",{onClick:z=>{z.stopPropagation(),n(I)},className:"p-2 text-red-600 hover:text-red-900 rounded-xl hover:bg-red-50 transition-all duration-300 hover:scale-110",children:e.jsx(xe,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(re,{className:"h-5 w-5 text-blue-600"})}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-700",children:"🏫 Turma"})]}),e.jsx("span",{className:"text-sm sm:text-base font-black text-blue-600 truncate max-w-24",children:((F=L.turma)==null?void 0:F.nome)||"Não atribuída"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-green-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(W,{className:"h-5 w-5 text-green-600"})}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-700",children:"👨‍🏫 Professor"})]}),e.jsx("span",{className:"text-sm sm:text-base font-black text-green-600 truncate max-w-24",children:((A=L.professor)==null?void 0:A.nome)||"Não atribuído"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-purple-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(te,{className:"h-5 w-5 text-purple-600"})}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-700",children:"⏰ Carga"})]}),e.jsxs("span",{className:"text-sm sm:text-base font-black text-purple-600",children:[I.carga_horaria||0,"h"]})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Criada em"}),e.jsx("span",{children:new Date(I.criado_em).toLocaleDateString("pt-BR")})]})}),e.jsx("div",{className:"pt-4 border-t-2 border-purple-100",children:e.jsx("p",{className:"text-xs sm:text-sm text-purple-600 text-center font-bold animate-pulse",children:"👆 Clique para ver detalhes completos"})})]})},I.id)})}),e.jsx(Qr,{isOpen:R,onClose:P,disciplina:k,onSave:U}),e.jsx(et,{isOpen:T,onClose:B,disciplina:u,onSave:q})]})}function at(){const{user:s,isSupabaseConnected:r}=ke(),a=Ie(s,r),[t,l]=h.useState({tipo:"aluno",periodo:"mes",turma:"",disciplina:""}),[o,i]=h.useState({alunos:[],turmas:[],notas:[],usuarios:[],disciplinas:[]}),[m,f]=h.useState(null),[y,g]=h.useState(!1),[v,D]=h.useState(!0);h.useEffect(()=>{R()},[r]),h.useEffect(()=>{!v&&s&&s.tipo_usuario==="professor"&&!m&&l(_=>({..._,tipo:"turma"}))},[v,s,m]),h.useEffect(()=>{!v&&s&&s.tipo_usuario==="professor"&&!m&&t.tipo==="turma"&&c()},[t.tipo,v,s,m]);const R=async()=>{try{const[_,x,w,n,C]=await Promise.all([a.getAlunos(),a.getTurmas(),a.getNotas(),a.getPermissions().canViewAllUsers?a.getUsuarios():[],a.getDisciplinas()]);i({alunos:_,turmas:x,notas:w,usuarios:n,disciplinas:C})}catch(_){console.error("Erro ao carregar dados:",_)}finally{D(!1)}},c=async()=>{g(!0);try{let _={};switch(t.tipo){case"aluno":_=k();break;case"turma":_=N();break;case"professor":_=T();break;case"disciplina":_=j();break;case"desempenho":_=u();break;case"frequencia":_=d();break;default:_=u()}f(_)}catch(_){console.error("Erro ao gerar relatório:",_),alert("Erro ao gerar relatório")}finally{g(!1)}},k=()=>{let _=o.alunos;t.turma&&(_=_.filter(w=>w.turma_id===t.turma));const x=_.map(w=>{const n=o.notas.filter(B=>B.aluno_id===w.id),C=o.turmas.find(B=>B.id===w.turma_id),P=o.usuarios.find(B=>B.id===w.responsavel_id),U=n.length>0?n.reduce((B,q)=>B+(q.nota||0),0)/n.length:0;return{nome:w.nome,turma:(C==null?void 0:C.nome)||"Sem turma",responsavel:(P==null?void 0:P.nome)||"Sem responsável",totalNotas:n.length,mediaGeral:U.toFixed(1),situacao:U>=7?"Aprovado":U>=5?"Recuperação":"Reprovado",ultimaNota:n.length>0?new Date(n[n.length-1].criado_em).toLocaleDateString("pt-BR"):"Nenhuma nota"}});return{titulo:"Relatório por Aluno",tipo:"aluno",dados:x,colunas:["Nome","Turma","Responsável","Total Notas","Média Geral","Situação","Última Nota"],resumo:{totalAlunos:x.length,mediaGeral:x.length>0?(x.reduce((w,n)=>w+parseFloat(n.mediaGeral),0)/x.length).toFixed(1):"0.0",aprovados:x.filter(w=>w.situacao==="Aprovado").length,recuperacao:x.filter(w=>w.situacao==="Recuperação").length,reprovados:x.filter(w=>w.situacao==="Reprovado").length}}},N=()=>{let _=o.turmas;t.turma&&(_=_.filter(w=>w.id===t.turma));const x=_.map(w=>{const n=o.alunos.filter(B=>B.turma_id===w.id),C=o.notas.filter(B=>n.some(q=>q.id===B.aluno_id)),P=C.length>0?C.reduce((B,q)=>B+(q.nota||0),0)/C.length:0,U=o.disciplinas.filter(B=>B.turma_id===w.id);return{nome:w.nome,anoLetivo:w.ano_letivo,totalAlunos:n.length,totalDisciplinas:U.length,mediaTurma:P.toFixed(1),totalNotas:C.length,status:w.ativa?"Ativa":"Inativa"}});return{titulo:"Relatório por Turma",tipo:"turma",dados:x,colunas:["Nome","Ano Letivo","Total Alunos","Disciplinas","Média da Turma","Total Notas","Status"],resumo:{totalTurmas:x.length,totalAlunos:x.reduce((w,n)=>w+n.totalAlunos,0),mediaGeral:x.length>0?(x.reduce((w,n)=>w+parseFloat(n.mediaTurma),0)/x.length).toFixed(1):"0.0"}}},T=()=>{const x=o.usuarios.filter(w=>w.tipo_usuario==="professor").map(w=>{const n=o.disciplinas.filter(q=>q.professor_id===w.id),C=[...new Set(n.map(q=>q.turma_id))],P=o.alunos.filter(q=>C.includes(q.turma_id)),U=o.notas.filter(q=>n.some(M=>M.id===q.disciplina_id)),B=U.length>0?U.reduce((q,M)=>q+(M.nota||0),0)/U.length:0;return{nome:w.nome,email:w.email,totalTurmas:C.length,totalAlunos:P.length,totalDisciplinas:n.length,totalNotas:U.length,mediaGeral:B.toFixed(1),status:w.ativo?"Ativo":"Inativo"}});return{titulo:"Relatório por Professor",tipo:"professor",dados:x,colunas:["Nome","Email","Turmas","Alunos","Disciplinas","Notas Lançadas","Média Geral","Status"],resumo:{totalProfessores:x.length,mediaGeral:x.length>0?(x.reduce((w,n)=>w+parseFloat(n.mediaGeral),0)/x.length).toFixed(1):"0.0"}}},j=()=>{let _=o.disciplinas;t.disciplina&&(_=_.filter(w=>w.id===t.disciplina));const x=_.map(w=>{const n=o.notas.filter(B=>B.disciplina_id===w.id),C=o.turmas.find(B=>B.id===w.turma_id),P=o.usuarios.find(B=>B.id===w.professor_id),U=n.length>0?n.reduce((B,q)=>B+(q.nota||0),0)/n.length:0;return{nome:w.nome,codigo:w.codigo||"N/A",turma:(C==null?void 0:C.nome)||"Sem turma",professor:(P==null?void 0:P.nome)||"Sem professor",totalNotas:n.length,mediaDisciplina:U.toFixed(1),status:w.ativa?"Ativa":"Inativa"}});return{titulo:"Relatório por Disciplina",tipo:"disciplina",dados:x,colunas:["Nome","Código","Turma","Professor","Total Notas","Média","Status"],resumo:{totalDisciplinas:x.length,mediaGeral:x.length>0?(x.reduce((w,n)=>w+parseFloat(n.mediaDisciplina),0)/x.length).toFixed(1):"0.0"}}},u=()=>{const _=o.notas.length>0?o.notas.reduce((C,P)=>C+(P.nota||0),0)/o.notas.length:0,x=o.alunos.filter(C=>{const P=o.notas.filter(B=>B.aluno_id===C.id);return(P.length>0?P.reduce((B,q)=>B+(q.nota||0),0)/P.length:0)>=7}).length,w=o.alunos.filter(C=>{const P=o.notas.filter(B=>B.aluno_id===C.id),U=P.length>0?P.reduce((B,q)=>B+(q.nota||0),0)/P.length:0;return U>=5&&U<7}).length,n=o.alunos.length-x-w;return{titulo:"Relatório de Desempenho Geral",tipo:"desempenho",dados:[{indicador:"Média Geral da Escola",valor:_.toFixed(1)},{indicador:"Total de Alunos",valor:o.alunos.length.toString()},{indicador:"Alunos Aprovados",valor:`${x} (${(x/Math.max(o.alunos.length,1)*100).toFixed(1)}%)`},{indicador:"Alunos em Recuperação",valor:`${w} (${(w/Math.max(o.alunos.length,1)*100).toFixed(1)}%)`},{indicador:"Alunos Reprovados",valor:`${n} (${(n/Math.max(o.alunos.length,1)*100).toFixed(1)}%)`},{indicador:"Total de Turmas",valor:o.turmas.length.toString()},{indicador:"Total de Disciplinas",valor:o.disciplinas.length.toString()},{indicador:"Total de Professores",valor:o.usuarios.filter(C=>C.tipo_usuario==="professor").length.toString()}],colunas:["Indicador","Valor"],resumo:{mediaGeral:_.toFixed(1),taxaAprovacao:(x/Math.max(o.alunos.length,1)*100).toFixed(1)+"%",totalAlunos:o.alunos.length}}},d=()=>{const _=o.alunos.map(x=>{const w=o.turmas.find(C=>C.id===x.turma_id),n=Math.floor(Math.random()*20)+80;return{nome:x.nome,turma:(w==null?void 0:w.nome)||"Sem turma",frequencia:n+"%",totalAulas:40,presencas:Math.floor(n/100*40),faltas:40-Math.floor(n/100*40),situacao:n>=75?"Regular":"Irregular"}});return{titulo:"Relatório de Frequência",tipo:"frequencia",dados:_,colunas:["Nome","Turma","Frequência","Total Aulas","Presenças","Faltas","Situação"],resumo:{frequenciaMedia:_.length>0?(_.reduce((x,w)=>x+parseFloat(w.frequencia),0)/_.length).toFixed(1)+"%":"0%",alunosRegulares:_.filter(x=>x.situacao==="Regular").length,alunosIrregulares:_.filter(x=>x.situacao==="Irregular").length}}},b=_=>{if(!m){alert("Gere um relatório primeiro antes de exportar");return}_==="pdf"?p():_==="excel"&&O()},p=()=>{const _=window.open("","_blank");if(!_)return;const x=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>${m.titulo}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            h1 { color: #1f2937; border-bottom: 2px solid #3b82f6; padding-bottom: 10px; }
            h2 { color: #374151; margin-top: 30px; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #d1d5db; padding: 8px; text-align: left; }
            th { background-color: #f3f4f6; font-weight: bold; }
            .resumo { background-color: #eff6ff; padding: 15px; border-radius: 8px; margin: 20px 0; }
            .footer { margin-top: 30px; text-align: center; color: #6b7280; font-size: 12px; }
          </style>
        </head>
        <body>
          <h1>${m.titulo}</h1>
          <p><strong>Gerado em:</strong> ${new Date().toLocaleString("pt-BR")}</p>
          <p><strong>Gerado por:</strong> ${s==null?void 0:s.nome}</p>
          
          <div class="resumo">
            <h2>Resumo</h2>
            ${Object.entries(m.resumo).map(([w,n])=>`<p><strong>${w}:</strong> ${n}</p>`).join("")}
          </div>
          
          <h2>Dados Detalhados</h2>
          <table>
            <thead>
              <tr>
                ${m.colunas.map(w=>`<th>${w}</th>`).join("")}
              </tr>
            </thead>
            <tbody>
              ${m.dados.map(w=>`<tr>${Object.values(w).map(n=>`<td>${n}</td>`).join("")}</tr>`).join("")}
            </tbody>
          </table>
          
          <div class="footer">
            <p>Relatório gerado pelo Sistema Escolar Objetivo</p>
            <p>© ${new Date().getFullYear()} - Todos os direitos reservados</p>
          </div>
        </body>
      </html>
    `;_.document.write(x),_.document.close(),_.print()},O=()=>{const _=[m.colunas.join(","),...m.dados.map(C=>Object.values(C).map(P=>`"${P}"`).join(","))].join(`
`),x=new Blob([_],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),n=URL.createObjectURL(x);w.setAttribute("href",n),w.setAttribute("download",`${m.titulo.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return v?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(be,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatórios"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>b("pdf"),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:"PDF"})]}),e.jsxs("button",{onClick:()=>b("excel"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:"Excel"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ze,{className:"h-5 w-5 text-gray-500"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Configurações do Relatório"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Relatório"}),e.jsxs("select",{value:t.tipo,onChange:_=>l({...t,tipo:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"aluno",children:"Por Aluno"}),e.jsx("option",{value:"turma",children:"Por Turma"}),e.jsx("option",{value:"professor",children:"Por Professor"}),e.jsx("option",{value:"disciplina",children:"Por Disciplina"}),e.jsx("option",{value:"desempenho",children:"Desempenho Geral"}),e.jsx("option",{value:"frequencia",children:"Frequência"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Período"}),e.jsxs("select",{value:t.periodo,onChange:_=>l({...t,periodo:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"semana",children:"Esta Semana"}),e.jsx("option",{value:"mes",children:"Este Mês"}),e.jsx("option",{value:"trimestre",children:"Este Trimestre"}),e.jsx("option",{value:"semestre",children:"Este Semestre"}),e.jsx("option",{value:"ano",children:"Este Ano"}),e.jsx("option",{value:"personalizado",children:"Período Personalizado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Turma (Opcional)"}),e.jsxs("select",{value:t.turma,onChange:_=>l({...t,turma:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todas as turmas"}),o.turmas.map(_=>e.jsx("option",{value:_.id,children:_.nome},_.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disciplina (Opcional)"}),e.jsxs("select",{value:t.disciplina,onChange:_=>l({...t,disciplina:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todas as disciplinas"}),o.disciplinas.map(_=>e.jsx("option",{value:_.id,children:_.nome},_.id))]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{children:e.jsxs("button",{onClick:c,disabled:y,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:y?"Gerando...":"Gerar Relatório"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Alunos"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.alunos.length})]}),e.jsx(ne,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Turmas"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.turmas.length})]}),e.jsx(W,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Notas Lançadas"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.notas.length})]}),e.jsx(ee,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Média Geral"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.notas.length>0?(o.notas.reduce((_,x)=>_+(x.nota||x.valor||0),0)/o.notas.length).toFixed(1):"0.0"})]}),e.jsx(Fs,{className:"h-8 w-8 text-yellow-600"})]})})]}),!m&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer group",children:e.jsxs("div",{onClick:()=>{l({...t,tipo:"aluno"}),c()},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:e.jsx(ne,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-700 transition-colors",children:"Relatório por Aluno"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Desempenho individual, notas, frequência e evolução de cada aluno."}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• Histórico de notas"}),e.jsx("li",{children:"• Frequência às aulas"}),e.jsx("li",{children:"• Evolução por disciplina"}),e.jsx("li",{children:"• Comparativo com a turma"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 text-center",children:e.jsx("p",{className:"text-xs text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"👆 Clique para gerar relatório"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer group",children:e.jsxs("div",{onClick:()=>{l({...t,tipo:"turma"}),c()},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:e.jsx(W,{className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-700 transition-colors",children:"Relatório por Turma"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Análise geral da turma, médias, distribuição de notas e estatísticas."}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• Média geral da turma"}),e.jsx("li",{children:"• Distribuição de notas"}),e.jsx("li",{children:"• Taxa de aprovação"}),e.jsx("li",{children:"• Ranking de alunos"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 text-center",children:e.jsx("p",{className:"text-xs text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"👆 Clique para gerar relatório"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer group",children:e.jsxs("div",{onClick:()=>{l({...t,tipo:"professor"}),c()},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:e.jsx(ee,{className:"h-6 w-6 text-purple-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-700 transition-colors",children:"Relatório por Professor"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Desempenho das turmas por professor, estatísticas de ensino."}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• Turmas atribuídas"}),e.jsx("li",{children:"• Média das turmas"}),e.jsx("li",{children:"• Notas lançadas"}),e.jsx("li",{children:"• Atividades criadas"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 text-center",children:e.jsx("p",{className:"text-xs text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"👆 Clique para gerar relatório"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer group",children:e.jsxs("div",{onClick:()=>{l({...t,tipo:"disciplina"}),c()},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-yellow-50 rounded-full",children:e.jsx(ee,{className:"h-6 w-6 text-yellow-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-700 transition-colors",children:"Relatório por Disciplina"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Análise do desempenho dos alunos em cada disciplina específica."}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• Média por disciplina"}),e.jsx("li",{children:"• Dificuldades identificadas"}),e.jsx("li",{children:"• Comparativo entre turmas"}),e.jsx("li",{children:"• Evolução temporal"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 text-center",children:e.jsx("p",{className:"text-xs text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"👆 Clique para gerar relatório"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer group",children:e.jsxs("div",{onClick:()=>{l({...t,tipo:"desempenho"}),c()},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-red-50 rounded-full",children:e.jsx(Fs,{className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-700 transition-colors",children:"Desempenho Geral"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Visão geral do desempenho da escola, tendências e indicadores."}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• Indicadores gerais"}),e.jsx("li",{children:"• Tendências de desempenho"}),e.jsx("li",{children:"• Comparativos históricos"}),e.jsx("li",{children:"• Metas e objetivos"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 text-center",children:e.jsx("p",{className:"text-xs text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"👆 Clique para gerar relatório"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 hover:bg-blue-50 transition-all cursor-pointer group",children:e.jsxs("div",{onClick:()=>{l({...t,tipo:"frequencia"}),c()},children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-50 rounded-full",children:e.jsx(_e,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-700 transition-colors",children:"Relatório de Frequência"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Análise de presença e faltas dos alunos por período e disciplina."}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• Taxa de presença"}),e.jsx("li",{children:"• Faltas por disciplina"}),e.jsx("li",{children:"• Alunos com baixa frequência"}),e.jsx("li",{children:"• Tendências de ausência"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 text-center",children:e.jsx("p",{className:"text-xs text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"👆 Clique para gerar relatório"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:m?m.titulo:"Preview do Relatório"}),m&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>b("pdf"),className:"flex items-center space-x-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx("span",{children:"PDF"})]}),e.jsxs("button",{onClick:()=>b("excel"),className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:"Excel"})]}),e.jsx("button",{onClick:()=>f(null),className:"px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Novo Relatório"})]})]})}),e.jsx("div",{className:"p-6",children:m?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-3",children:"Resumo"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(m.resumo).map(([_,x])=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-600 capitalize",children:_.replace(/([A-Z])/g," $1").toLowerCase()}),e.jsx("p",{className:"text-lg font-bold text-blue-900",children:String(x)})]},_))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-gray-50",children:m.colunas.map(_=>e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border border-gray-200",children:_},_))})}),e.jsx("tbody",{children:m.dados.map((_,x)=>e.jsx("tr",{className:x%2===0?"bg-white":"bg-gray-50",children:Object.values(_).map((w,n)=>e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border border-gray-200",children:w},n))},x))})]})}),e.jsxs("div",{className:"text-center text-sm text-gray-500 border-t border-gray-200 pt-4",children:[e.jsxs("p",{children:["Relatório gerado em ",new Date().toLocaleString("pt-BR")," por ",s==null?void 0:s.nome]}),e.jsxs("p",{children:["Total de registros: ",m.dados.length]})]})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(be,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:'Selecione os filtros e clique em "Gerar Relatório"'}),e.jsx("p",{className:"text-sm",children:"O preview do relatório aparecerá aqui"})]})})]})]})}function rt({onNavigate:s}={}){ke();const{logoConfig:r,updateLogoConfig:a}=vr(),[t,l]=h.useState("geral"),[o,i]=h.useState({schoolName:"Colégio Objetivo",schoolAddress:"Rua das Flores, 123 - Centro",schoolPhone:"(11) 1234-5678",schoolEmail:"contato@objetivo.edu.br",schoolWebsite:"https://objetivo.edu.br",primaryColor:"#002776",secondaryColor:"#3B82F6",accentColor:"#8B5CF6",logoUrl:"/logo-objetivo.png",backgroundImageUrl:"",enableNotifications:!0,enableEmailNotifications:!0,enableSmsNotifications:!1,autoBackup:!0,backupFrequency:"daily",passwordMinLength:6,sessionTimeout:60,enableTwoFactor:!1,academicYear:"2024",gradeScale:"decimal",attendanceRequired:75,theme:"light",language:"pt-BR",dateFormat:"DD/MM/YYYY",timeFormat:"24h"}),[m,f]=h.useState(!1),[y,g]=h.useState(!1),[v,D]=h.useState({});h.useEffect(()=>{R()},[]);const R=()=>{const j=localStorage.getItem("systemConfig");if(j)try{const u=JSON.parse(j);i({...o,...u})}catch(u){console.error("Erro ao carregar configurações:",u)}},c=async()=>{f(!0),D({});try{const j={};if(o.schoolName.trim()||(j.schoolName="Nome da escola é obrigatório"),(o.passwordMinLength<4||o.passwordMinLength>20)&&(j.passwordMinLength="Tamanho mínimo deve estar entre 4 e 20 caracteres"),(o.sessionTimeout<15||o.sessionTimeout>480)&&(j.sessionTimeout="Timeout deve estar entre 15 e 480 minutos"),(o.attendanceRequired<50||o.attendanceRequired>100)&&(j.attendanceRequired="Frequência deve estar entre 50% e 100%"),Object.keys(j).length>0){D(j);return}localStorage.setItem("systemConfig",JSON.stringify(o)),a({logoUrl:o.logoUrl,systemName:o.schoolName}),g(!0),setTimeout(()=>g(!1),3e3)}catch(j){console.error("Erro ao salvar configurações:",j),D({submit:"Erro ao salvar configurações"})}finally{f(!1)}},k=()=>{confirm("Tem certeza que deseja restaurar as configurações padrão? Esta ação não pode ser desfeita.")&&(localStorage.removeItem("systemConfig"),R())},N=(j,u)=>{var b;const d=(b=u.target.files)==null?void 0:b[0];if(d){if(d.size>5*1024*1024){D({...v,[j]:"Imagem deve ter no máximo 5MB"});return}const p=new FileReader;p.onload=O=>{var x;const _=(x=O.target)==null?void 0:x.result;i({...o,[j]:_}),D({...v,[j]:""})},p.readAsDataURL(d)}},T=[{id:"geral",label:"Geral",icon:re},{id:"aparencia",label:"Aparência",icon:ds},{id:"sistema",label:"Sistema",icon:oe},{id:"seguranca",label:"Segurança",icon:he},{id:"academico",label:"Acadêmico",icon:ne},{id:"interface",label:"Interface",icon:je}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oe,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurações do Sistema"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Restaurar Padrão"})]}),e.jsxs("button",{onClick:()=>s==null?void 0:s("permissoes"),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Gerenciar Permissões"})]}),e.jsxs("button",{onClick:c,disabled:m,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:m?"Salvando...":"Salvar"})]})]})]}),y&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Configurações salvas com sucesso!"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:T.map(j=>{const u=j.icon;return e.jsx("button",{onClick:()=>l(j.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===j.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"h-4 w-4"}),e.jsx("span",{children:j.label})]})},j.id)})})}),e.jsxs("div",{className:"p-6",children:[t==="geral"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informações da Escola"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Escola *"}),e.jsx("input",{type:"text",value:o.schoolName,onChange:j=>i({...o,schoolName:j.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.schoolName?"border-red-300":"border-gray-300"}`,placeholder:"Nome da instituição"}),v.schoolName&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:v.schoolName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ano Letivo"}),e.jsx("input",{type:"text",value:o.academicYear,onChange:j=>i({...o,academicYear:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço"}),e.jsx("input",{type:"text",value:o.schoolAddress,onChange:j=>i({...o,schoolAddress:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Endereço completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),e.jsx("input",{type:"tel",value:o.schoolPhone,onChange:j=>i({...o,schoolPhone:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(11) 1234-5678"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),e.jsx("input",{type:"email",value:o.schoolEmail,onChange:j=>i({...o,schoolEmail:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contato@escola.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsx("input",{type:"url",value:o.schoolWebsite,onChange:j=>i({...o,schoolWebsite:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://escola.com"})]})]})]}),t==="aparencia"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personalização Visual"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo da Escola"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:o.logoUrl?e.jsx("img",{src:o.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):e.jsx(re,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:j=>N("logoUrl",j),className:"hidden",id:"logo-upload"}),e.jsxs("label",{htmlFor:"logo-upload",className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Escolher Logo"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG/JPG até 5MB"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cores do Sistema"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:o.primaryColor,onChange:j=>i({...o,primaryColor:j.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Cor Primária"}),e.jsx("p",{className:"text-xs text-gray-500",children:o.primaryColor})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:o.secondaryColor,onChange:j=>i({...o,secondaryColor:j.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Cor Secundária"}),e.jsx("p",{className:"text-xs text-gray-500",children:o.secondaryColor})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:o.accentColor,onChange:j=>i({...o,accentColor:j.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Cor de Destaque"}),e.jsx("p",{className:"text-xs text-gray-500",children:o.accentColor})]})]})]})]})]})]}),t==="sistema"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurações do Sistema"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notificações"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.enableNotifications,onChange:j=>i({...o,enableNotifications:j.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Habilitar notificações"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.enableEmailNotifications,onChange:j=>i({...o,enableEmailNotifications:j.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Notificações por e-mail"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.enableSmsNotifications,onChange:j=>i({...o,enableSmsNotifications:j.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Notificações por SMS"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backup Automático"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.autoBackup,onChange:j=>i({...o,autoBackup:j.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Habilitar backup automático"})]}),o.autoBackup&&e.jsxs("select",{value:o.backupFrequency,onChange:j=>i({...o,backupFrequency:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"daily",children:"Diário"}),e.jsx("option",{value:"weekly",children:"Semanal"}),e.jsx("option",{value:"monthly",children:"Mensal"})]})]})]})]})]}),t==="seguranca"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurações de Segurança"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tamanho Mínimo da Senha"}),e.jsx("input",{type:"number",min:"4",max:"20",value:o.passwordMinLength,onChange:j=>i({...o,passwordMinLength:parseInt(j.target.value)}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.passwordMinLength?"border-red-300":"border-gray-300"}`}),v.passwordMinLength&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:v.passwordMinLength})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout da Sessão (minutos)"}),e.jsx("input",{type:"number",min:"15",max:"480",value:o.sessionTimeout,onChange:j=>i({...o,sessionTimeout:parseInt(j.target.value)}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.sessionTimeout?"border-red-300":"border-gray-300"}`}),v.sessionTimeout&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:v.sessionTimeout})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.enableTwoFactor,onChange:j=>i({...o,enableTwoFactor:j.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Habilitar autenticação de dois fatores"})]})})]})]}),t==="academico"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurações Acadêmicas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sistema de Notas"}),e.jsxs("select",{value:o.gradeScale,onChange:j=>i({...o,gradeScale:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"decimal",children:"Decimal (0-10)"}),e.jsx("option",{value:"letter",children:"Letras (A-F)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência Mínima Obrigatória (%)"}),e.jsx("input",{type:"number",min:"50",max:"100",value:o.attendanceRequired,onChange:j=>i({...o,attendanceRequired:parseInt(j.target.value)}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.attendanceRequired?"border-red-300":"border-gray-300"}`}),v.attendanceRequired&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:v.attendanceRequired})]})]})]}),t==="interface"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurações de Interface"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tema"}),e.jsxs("select",{value:o.theme,onChange:j=>i({...o,theme:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"light",children:"Claro"}),e.jsx("option",{value:"dark",children:"Escuro"}),e.jsx("option",{value:"auto",children:"Automático"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idioma"}),e.jsxs("select",{value:o.language,onChange:j=>i({...o,language:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),e.jsx("option",{value:"en-US",children:"English (US)"}),e.jsx("option",{value:"es-ES",children:"Español"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formato de Data"}),e.jsxs("select",{value:o.dateFormat,onChange:j=>i({...o,dateFormat:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/AAAA"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/AAAA"}),e.jsx("option",{value:"YYYY-MM-DD",children:"AAAA-MM-DD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formato de Hora"}),e.jsxs("select",{value:o.timeFormat,onChange:j=>i({...o,timeFormat:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"24h",children:"24 horas"}),e.jsx("option",{value:"12h",children:"12 horas (AM/PM)"})]})]})]})]}),v.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),v.submit]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Sistema"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(ve,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Banco de Dados"}),e.jsx("p",{className:"text-xs text-blue-600",children:"Supabase"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(he,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Segurança"}),e.jsx("p",{className:"text-xs text-green-600",children:"SSL Ativo"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(Ue,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Performance"}),e.jsx("p",{className:"text-xs text-purple-600",children:"Otimizada"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx(te,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Uptime"}),e.jsx("p",{className:"text-xs text-yellow-600",children:"99.9%"})]})]})]})]})}function tt(){const[s,r]=h.useState({nome:"Colégio Objetivo",razaoSocial:"Colégio Objetivo Ltda",cnpj:"12.345.678/0001-90",codigoMec:"12345678",tipoEnsino:["Ensino Fundamental","Ensino Médio"],endereco:"Rua das Flores",numero:"123",complemento:"Sala 101",bairro:"Centro",cidade:"São Paulo",estado:"SP",cep:"01234-567",telefone:"(11) 1234-5678",celular:"(11) 99999-9999",whatsapp:"(11) 99999-9999",email:"contato@objetivo.edu.br",emailSecretaria:"secretaria@objetivo.edu.br",website:"https://objetivo.edu.br",horarioFuncionamento:"07:00 às 18:00",horarioSecretaria:"08:00 às 17:00",horarioAtendimento:"08:00 às 12:00 e 14:00 às 17:00",diretor:"Dr. João Silva",coordenador:"Profa. Maria Santos",secretario:"Carlos Oliveira",anoLetivo:"2024",inicioAnoLetivo:"2024-02-05",fimAnoLetivo:"2024-12-15",totalTrimestres:4,facebook:"https://facebook.com/colegioobjetivo",instagram:"https://instagram.com/colegioobjetivo",youtube:"https://youtube.com/colegioobjetivo",linkedin:"https://linkedin.com/company/colegioobjetivo",logoUrl:"/logo-objetivo.png",brasaoUrl:"",certificados:[],mensagemBoasVindas:"Bem-vindos ao Colégio Objetivo! Educação de excelência para o futuro dos seus filhos.",missao:"Formar cidadãos críticos e conscientes, preparados para os desafios do futuro.",visao:"Ser referência em educação de qualidade, inovação e formação integral.",valores:["Excelência","Inovação","Ética","Responsabilidade Social","Respeito"]}),[a,t]=h.useState("basicas"),[l,o]=h.useState(!1),[i,m]=h.useState(!1),[f,y]=h.useState({});h.useEffect(()=>{g()},[]);const g=()=>{const u=localStorage.getItem("escolaInfo");if(u)try{const d=JSON.parse(u);r({...s,...d})}catch(d){console.error("Erro ao carregar informações:",d)}},v=async()=>{o(!0),y({});try{const u={};if(s.nome.trim()||(u.nome="Nome da escola é obrigatório"),s.email.trim()||(u.email="E-mail é obrigatório"),s.telefone.trim()||(u.telefone="Telefone é obrigatório"),Object.keys(u).length>0){y(u);return}localStorage.setItem("escolaInfo",JSON.stringify(s)),m(!0),setTimeout(()=>m(!1),3e3)}catch(u){console.error("Erro ao salvar informações:",u),y({submit:"Erro ao salvar informações"})}finally{o(!1)}},D=()=>{confirm("Tem certeza que deseja restaurar as informações padrão? Esta ação não pode ser desfeita.")&&(localStorage.removeItem("escolaInfo"),g())},R=(u,d)=>{var p;const b=(p=d.target.files)==null?void 0:p[0];if(b){if(b.size>5*1024*1024){y({...f,[u]:"Imagem deve ter no máximo 5MB"});return}const O=new FileReader;O.onload=_=>{var w;const x=(w=_.target)==null?void 0:w.result;r({...s,[u]:x}),y({...f,[u]:""})},O.readAsDataURL(b)}},c=()=>{const u=prompt("Digite um novo valor:");u&&!s.valores.includes(u)&&r({...s,valores:[...s.valores,u]})},k=u=>{r({...s,valores:s.valores.filter((d,b)=>b!==u)})},N=()=>{const u=prompt("Digite um novo tipo de ensino:");u&&!s.tipoEnsino.includes(u)&&r({...s,tipoEnsino:[...s.tipoEnsino,u]})},T=u=>{r({...s,tipoEnsino:s.tipoEnsino.filter((d,b)=>b!==u)})},j=[{id:"basicas",label:"Básicas",icon:re},{id:"endereco",label:"Endereço",icon:Ws},{id:"contatos",label:"Contatos",icon:os},{id:"academico",label:"Acadêmico",icon:_e},{id:"equipe",label:"Equipe",icon:ie},{id:"social",label:"Redes Sociais",icon:Ge},{id:"documentos",label:"Documentos",icon:fe},{id:"institucional",label:"Institucional",icon:ta}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg",children:e.jsx(re,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"🏫 Editar Informações da Escola"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Configure todos os dados institucionais"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Restaurar"})]}),e.jsxs("button",{onClick:v,disabled:l,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:l?"Salvando...":"Salvar"})]})]})]}),i&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Informações salvas com sucesso!"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6 overflow-x-auto",children:j.map(u=>{const d=u.icon;return e.jsx("button",{onClick:()=>t(u.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${a===u.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{className:"h-4 w-4"}),e.jsx("span",{children:u.label})]})},u.id)})})}),e.jsxs("div",{className:"p-6",children:[a==="basicas"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informações Básicas da Escola"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Escola *"}),e.jsx("input",{type:"text",value:s.nome,onChange:u=>r({...s,nome:u.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.nome?"border-red-300":"border-gray-300"}`,placeholder:"Nome completo da instituição"}),f.nome&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:f.nome})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razão Social"}),e.jsx("input",{type:"text",value:s.razaoSocial,onChange:u=>r({...s,razaoSocial:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Razão social da empresa"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ"}),e.jsx("input",{type:"text",value:s.cnpj,onChange:u=>r({...s,cnpj:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código MEC"}),e.jsx("input",{type:"text",value:s.codigoMec,onChange:u=>r({...s,codigoMec:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Código do MEC"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipos de Ensino Oferecidos"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.tipoEnsino.map((u,d)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[u,e.jsx("button",{onClick:()=>T(d),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},d)),e.jsx("button",{onClick:N,className:"inline-flex items-center px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-gray-200 transition-colors",children:"+ Adicionar"})]})]})]}),a==="endereco"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Endereço Completo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logradouro"}),e.jsx("input",{type:"text",value:s.endereco,onChange:u=>r({...s,endereco:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Rua, Avenida, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número"}),e.jsx("input",{type:"text",value:s.numero,onChange:u=>r({...s,numero:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento"}),e.jsx("input",{type:"text",value:s.complemento,onChange:u=>r({...s,complemento:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Sala, Andar, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro"}),e.jsx("input",{type:"text",value:s.bairro,onChange:u=>r({...s,bairro:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do bairro"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),e.jsx("input",{type:"text",value:s.cidade,onChange:u=>r({...s,cidade:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome da cidade"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),e.jsxs("select",{value:s.estado,onChange:u=>r({...s,estado:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione o estado"}),e.jsx("option",{value:"SP",children:"São Paulo"}),e.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),e.jsx("option",{value:"MG",children:"Minas Gerais"}),e.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),e.jsx("option",{value:"PR",children:"Paraná"}),e.jsx("option",{value:"SC",children:"Santa Catarina"}),e.jsx("option",{value:"BA",children:"Bahia"}),e.jsx("option",{value:"GO",children:"Goiás"}),e.jsx("option",{value:"DF",children:"Distrito Federal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),e.jsx("input",{type:"text",value:s.cep,onChange:u=>r({...s,cep:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"00000-000"})]})]})]}),a==="contatos"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informações de Contato"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone Principal *"}),e.jsxs("div",{className:"relative",children:[e.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"tel",value:s.telefone,onChange:u=>r({...s,telefone:u.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.telefone?"border-red-300":"border-gray-300"}`,placeholder:"(11) 1234-5678"})]}),f.telefone&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:f.telefone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Celular/WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"tel",value:s.celular,onChange:u=>r({...s,celular:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail Principal *"}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"email",value:s.email,onChange:u=>r({...s,email:u.target.value}),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.email?"border-red-300":"border-gray-300"}`,placeholder:"contato@escola.com"})]}),f.email&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:f.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail da Secretaria"}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"email",value:s.emailSecretaria,onChange:u=>r({...s,emailSecretaria:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"secretaria@escola.com"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"url",value:s.website,onChange:u=>r({...s,website:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://escola.com"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Horários de Funcionamento"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funcionamento Geral"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:s.horarioFuncionamento,onChange:u=>r({...s,horarioFuncionamento:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"07:00 às 18:00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secretaria"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:s.horarioSecretaria,onChange:u=>r({...s,horarioSecretaria:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"08:00 às 17:00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Atendimento aos Pais"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:s.horarioAtendimento,onChange:u=>r({...s,horarioAtendimento:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"08:00 às 12:00 e 14:00 às 17:00"})]})]})]})]})]}),a==="academico"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informações Acadêmicas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ano Letivo Atual"}),e.jsx("input",{type:"text",value:s.anoLetivo,onChange:u=>r({...s,anoLetivo:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total de Trimestres"}),e.jsxs("select",{value:s.totalTrimestres,onChange:u=>r({...s,totalTrimestres:parseInt(u.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:2,children:"2 Semestres"}),e.jsx("option",{value:3,children:"3 Trimestres"}),e.jsx("option",{value:4,children:"4 Bimestres"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Início do Ano Letivo"}),e.jsx("input",{type:"date",value:s.inicioAnoLetivo,onChange:u=>r({...s,inicioAnoLetivo:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fim do Ano Letivo"}),e.jsx("input",{type:"date",value:s.fimAnoLetivo,onChange:u=>r({...s,fimAnoLetivo:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a==="equipe"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Equipe Diretiva"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diretor(a)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:s.diretor,onChange:u=>r({...s,diretor:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do diretor"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coordenador(a)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:s.coordenador,onChange:u=>r({...s,coordenador:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do coordenador"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secretário(a)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:s.secretario,onChange:u=>r({...s,secretario:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do secretário"})]})]})]})]}),a==="social"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Redes Sociais e Presença Digital"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"url",value:s.facebook,onChange:u=>r({...s,facebook:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://facebook.com/escola"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instagram"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"url",value:s.instagram,onChange:u=>r({...s,instagram:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://instagram.com/escola"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"YouTube"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"url",value:s.youtube,onChange:u=>r({...s,youtube:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://youtube.com/escola"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"url",value:s.linkedin,onChange:u=>r({...s,linkedin:u.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://linkedin.com/company/escola"})]})]})]})]}),a==="documentos"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos e Imagens"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo da Escola"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:s.logoUrl?e.jsx("img",{src:s.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):e.jsx(re,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:u=>R("logoUrl",u),className:"hidden",id:"logo-upload"}),e.jsxs("label",{htmlFor:"logo-upload",className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Escolher Logo"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG/JPG até 5MB"})]})]}),f.logoUrl&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:f.logoUrl})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brasão/Símbolo"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:s.brasaoUrl?e.jsx("img",{src:s.brasaoUrl,alt:"Brasão",className:"w-full h-full object-cover"}):e.jsx(ta,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:u=>R("brasaoUrl",u),className:"hidden",id:"brasao-upload"}),e.jsxs("label",{htmlFor:"brasao-upload",className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Escolher Brasão"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG/JPG até 5MB"})]})]}),f.brasaoUrl&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:f.brasaoUrl})]})]})]}),a==="institucional"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informações Institucionais"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensagem de Boas-vindas"}),e.jsx("textarea",{value:s.mensagemBoasVindas,onChange:u=>r({...s,mensagemBoasVindas:u.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mensagem que aparece na página inicial..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Missão"}),e.jsx("textarea",{value:s.missao,onChange:u=>r({...s,missao:u.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Missão da instituição..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Visão"}),e.jsx("textarea",{value:s.visao,onChange:u=>r({...s,visao:u.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Visão de futuro da instituição..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valores Institucionais"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.valores.map((u,d)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[u,e.jsx("button",{onClick:()=>k(d),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},d)),e.jsx("button",{onClick:c,className:"inline-flex items-center px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-gray-200 transition-colors",children:"+ Adicionar Valor"})]})]})]}),f.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),f.submit]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Preview das Informações"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Informações Básicas"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Nome: ",s.nome]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",s.cnpj]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Ano Letivo: ",s.anoLetivo]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Contatos"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Telefone: ",s.telefone]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["E-mail: ",s.email]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Website: ",s.website]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Endereço"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.endereco,", ",s.numero," - ",s.bairro]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.cidade," - ",s.estado]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["CEP: ",s.cep]})]})]})]})]})}const Ve=[{id:"objetivo-classic",name:"🏫 Objetivo Clássico",description:"Visual tradicional do Colégio Objetivo com azul institucional",preview:"bg-gradient-to-br from-blue-600 to-blue-800",colors:{primary:"#002776",secondary:"#3B82F6",accent:"#60A5FA",background:"#F8FAFC",surface:"#FFFFFF",text:"#1F2937",textSecondary:"#6B7280"},gradients:{primary:"linear-gradient(135deg, #002776 0%, #3B82F6 100%)",secondary:"linear-gradient(135deg, #3B82F6 0%, #60A5FA 100%)",accent:"linear-gradient(135deg, #60A5FA 0%, #93C5FD 100%)"},shadows:{small:"0 1px 3px rgba(0, 0, 0, 0.12)",medium:"0 4px 6px rgba(0, 0, 0, 0.1)",large:"0 10px 25px rgba(0, 0, 0, 0.15)"},borderRadius:{small:"8px",medium:"12px",large:"16px"},animations:{duration:"300ms",easing:"cubic-bezier(0.4, 0, 0.2, 1)"},typography:{fontFamily:"Inter, system-ui, sans-serif",fontSize:{small:"14px",base:"16px",large:"18px"}}},{id:"modern-purple",name:"💜 Moderno Roxo",description:"Design moderno com tons de roxo e gradientes vibrantes",preview:"bg-gradient-to-br from-purple-600 to-pink-600",colors:{primary:"#7C3AED",secondary:"#A855F7",accent:"#C084FC",background:"#FAFAFA",surface:"#FFFFFF",text:"#1F2937",textSecondary:"#6B7280"},gradients:{primary:"linear-gradient(135deg, #7C3AED 0%, #A855F7 100%)",secondary:"linear-gradient(135deg, #A855F7 0%, #C084FC 100%)",accent:"linear-gradient(135deg, #C084FC 0%, #DDD6FE 100%)"},shadows:{small:"0 2px 4px rgba(124, 58, 237, 0.1)",medium:"0 8px 16px rgba(124, 58, 237, 0.15)",large:"0 16px 32px rgba(124, 58, 237, 0.2)"},borderRadius:{small:"12px",medium:"16px",large:"24px"},animations:{duration:"400ms",easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)"},typography:{fontFamily:"Inter, system-ui, sans-serif",fontSize:{small:"14px",base:"16px",large:"18px"}}},{id:"green-nature",name:"🌿 Verde Natureza",description:"Tema inspirado na natureza com tons de verde e sustentabilidade",preview:"bg-gradient-to-br from-green-600 to-emerald-600",colors:{primary:"#059669",secondary:"#10B981",accent:"#34D399",background:"#F0FDF4",surface:"#FFFFFF",text:"#1F2937",textSecondary:"#6B7280"},gradients:{primary:"linear-gradient(135deg, #059669 0%, #10B981 100%)",secondary:"linear-gradient(135deg, #10B981 0%, #34D399 100%)",accent:"linear-gradient(135deg, #34D399 0%, #6EE7B7 100%)"},shadows:{small:"0 2px 4px rgba(5, 150, 105, 0.1)",medium:"0 8px 16px rgba(5, 150, 105, 0.15)",large:"0 16px 32px rgba(5, 150, 105, 0.2)"},borderRadius:{small:"8px",medium:"12px",large:"16px"},animations:{duration:"350ms",easing:"cubic-bezier(0.4, 0, 0.2, 1)"},typography:{fontFamily:"Inter, system-ui, sans-serif",fontSize:{small:"14px",base:"16px",large:"18px"}}},{id:"orange-energy",name:"🔥 Laranja Energia",description:"Visual energético com laranja e amarelo para motivar estudos",preview:"bg-gradient-to-br from-orange-500 to-yellow-500",colors:{primary:"#EA580C",secondary:"#F97316",accent:"#FB923C",background:"#FFFBEB",surface:"#FFFFFF",text:"#1F2937",textSecondary:"#6B7280"},gradients:{primary:"linear-gradient(135deg, #EA580C 0%, #F97316 100%)",secondary:"linear-gradient(135deg, #F97316 0%, #FB923C 100%)",accent:"linear-gradient(135deg, #FB923C 0%, #FCD34D 100%)"},shadows:{small:"0 2px 4px rgba(234, 88, 12, 0.1)",medium:"0 8px 16px rgba(234, 88, 12, 0.15)",large:"0 16px 32px rgba(234, 88, 12, 0.2)"},borderRadius:{small:"8px",medium:"12px",large:"16px"},animations:{duration:"300ms",easing:"cubic-bezier(0.4, 0, 0.2, 1)"},typography:{fontFamily:"Inter, system-ui, sans-serif",fontSize:{small:"14px",base:"16px",large:"18px"}}},{id:"dark-mode",name:"🌙 Modo Escuro",description:"Tema escuro elegante para reduzir cansaço visual",preview:"bg-gradient-to-br from-gray-800 to-gray-900",colors:{primary:"#3B82F6",secondary:"#60A5FA",accent:"#93C5FD",background:"#111827",surface:"#1F2937",text:"#F9FAFB",textSecondary:"#D1D5DB"},gradients:{primary:"linear-gradient(135deg, #3B82F6 0%, #60A5FA 100%)",secondary:"linear-gradient(135deg, #60A5FA 0%, #93C5FD 100%)",accent:"linear-gradient(135deg, #93C5FD 0%, #DBEAFE 100%)"},shadows:{small:"0 2px 4px rgba(0, 0, 0, 0.3)",medium:"0 8px 16px rgba(0, 0, 0, 0.4)",large:"0 16px 32px rgba(0, 0, 0, 0.5)"},borderRadius:{small:"8px",medium:"12px",large:"16px"},animations:{duration:"300ms",easing:"cubic-bezier(0.4, 0, 0.2, 1)"},typography:{fontFamily:"Inter, system-ui, sans-serif",fontSize:{small:"14px",base:"16px",large:"18px"}}},{id:"minimalist",name:"⚪ Minimalista",description:"Design limpo e minimalista com foco na funcionalidade",preview:"bg-gradient-to-br from-gray-100 to-gray-200",colors:{primary:"#374151",secondary:"#6B7280",accent:"#9CA3AF",background:"#FFFFFF",surface:"#F9FAFB",text:"#111827",textSecondary:"#6B7280"},gradients:{primary:"linear-gradient(135deg, #374151 0%, #6B7280 100%)",secondary:"linear-gradient(135deg, #6B7280 0%, #9CA3AF 100%)",accent:"linear-gradient(135deg, #9CA3AF 0%, #D1D5DB 100%)"},shadows:{small:"0 1px 2px rgba(0, 0, 0, 0.05)",medium:"0 4px 6px rgba(0, 0, 0, 0.07)",large:"0 10px 15px rgba(0, 0, 0, 0.1)"},borderRadius:{small:"4px",medium:"6px",large:"8px"},animations:{duration:"200ms",easing:"cubic-bezier(0.4, 0, 0.2, 1)"},typography:{fontFamily:"system-ui, sans-serif",fontSize:{small:"13px",base:"15px",large:"17px"}}}];function lt(){var u;const{configs:s,saveConfig:r,loading:a}=Vs(),[t,l]=h.useState("objetivo-classic"),[o,i]=h.useState(null),[m,f]=h.useState("temas"),[y,g]=h.useState(!1),[v,D]=h.useState(!1),[R,c]=h.useState({});h.useEffect(()=>{if(s.visual_theme){const d=s.visual_theme;d.id&&(l(d.id),Ve.find(b=>b.id===d.id)||i(d))}},[s.visual_theme]);const k=async d=>{g(!0),c({});try{const b="custom-theme-styles";let p=document.getElementById(b);p||(p=document.createElement("style"),p.id=b,document.head.appendChild(p));const O=`
        :root {
          --theme-primary: ${d.colors.primary};
          --theme-secondary: ${d.colors.secondary};
          --theme-accent: ${d.colors.accent};
          --theme-background: ${d.colors.background};
          --theme-surface: ${d.colors.surface};
          --theme-text: ${d.colors.text};
          --theme-text-secondary: ${d.colors.textSecondary};
          
          --theme-gradient-primary: ${d.gradients.primary};
          --theme-gradient-secondary: ${d.gradients.secondary};
          --theme-gradient-accent: ${d.gradients.accent};
          
          --theme-shadow-small: ${d.shadows.small};
          --theme-shadow-medium: ${d.shadows.medium};
          --theme-shadow-large: ${d.shadows.large};
          
          --theme-radius-small: ${d.borderRadius.small};
          --theme-radius-medium: ${d.borderRadius.medium};
          --theme-radius-large: ${d.borderRadius.large};
          
          --theme-animation-duration: ${d.animations.duration};
          --theme-animation-easing: ${d.animations.easing};
          
          --theme-font-family: ${d.typography.fontFamily};
          --theme-font-size-small: ${d.typography.fontSize.small};
          --theme-font-size-base: ${d.typography.fontSize.base};
          --theme-font-size-large: ${d.typography.fontSize.large};
        }
        
        /* Aplicar tema globalmente */
        body {
          background: var(--theme-background) !important;
          color: var(--theme-text) !important;
          font-family: var(--theme-font-family) !important;
          font-size: var(--theme-font-size-base) !important;
        }
        
        /* Botões primários */
        .btn-primary,
        .bg-blue-600,
        .bg-blue-500 {
          background: var(--theme-gradient-primary) !important;
          border-color: var(--theme-primary) !important;
        }
        
        /* Botões secundários */
        .btn-secondary,
        .bg-gray-600 {
          background: var(--theme-gradient-secondary) !important;
        }
        
        /* Cards e superfícies */
        .bg-white,
        .card-modern,
        .glass-card {
          background: var(--theme-surface) !important;
          box-shadow: var(--theme-shadow-medium) !important;
          border-radius: var(--theme-radius-medium) !important;
        }
        
        /* Sidebar */
        .sidebar-container,
        div[class*="sidebar"] {
          background: var(--theme-gradient-primary) !important;
        }
        
        /* Textos */
        .text-gray-900,
        .text-gray-800 {
          color: var(--theme-text) !important;
        }
        
        .text-gray-600,
        .text-gray-500 {
          color: var(--theme-text-secondary) !important;
        }
        
        /* Bordas arredondadas */
        .rounded-lg {
          border-radius: var(--theme-radius-medium) !important;
        }
        
        .rounded-xl {
          border-radius: var(--theme-radius-large) !important;
        }
        
        /* Animações */
        * {
          transition-duration: var(--theme-animation-duration) !important;
          transition-timing-function: var(--theme-animation-easing) !important;
        }
        
        /* Gradientes de texto */
        .text-gradient-objetivo,
        .bg-gradient-to-r.from-blue-600.to-purple-600.bg-clip-text.text-transparent {
          background: var(--theme-gradient-primary) !important;
          -webkit-background-clip: text !important;
          -webkit-text-fill-color: transparent !important;
          background-clip: text !important;
        }
        
        /* Sombras especiais */
        .shadow-modern,
        .shadow-xl {
          box-shadow: var(--theme-shadow-large) !important;
        }
        
        /* Estados hover */
        .hover\\:bg-blue-50:hover {
          background-color: ${d.colors.primary}10 !important;
        }
        
        .hover\\:text-blue-600:hover {
          color: var(--theme-primary) !important;
        }
        
        /* Badges e indicadores */
        .bg-blue-100 {
          background-color: ${d.colors.primary}20 !important;
        }
        
        .text-blue-800 {
          color: var(--theme-primary) !important;
        }
        
        /* Inputs e formulários */
        .focus\\:ring-blue-500:focus {
          --tw-ring-color: ${d.colors.primary}50 !important;
        }
        
        .focus\\:border-blue-500:focus {
          border-color: var(--theme-primary) !important;
        }
      `;p.textContent=O,await r("visual_theme",d),l(d.id),D(!0),setTimeout(()=>D(!1),3e3),console.log("✅ Tema aplicado com sucesso:",d.name)}catch(b){console.error("Erro ao aplicar tema:",b),b instanceof Error&&b.message.includes("Supabase")?c({submit:"Erro: Sistema requer conexão com Supabase para salvar tema. Verifique sua conexão."}):c({submit:"Erro ao aplicar tema"})}finally{g(!1)}},N=async()=>{if(confirm("Tem certeza que deseja restaurar o tema padrão do Objetivo?")){const d=Ve[0];await k(d)}},T=()=>{const d=Ve.find(b=>b.id===t)||Ve[0];i({...d,id:"custom",name:"Tema Personalizado",description:"Tema criado por você"}),f("personalizado")},j=async()=>{o&&await k(o)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl shadow-lg",children:e.jsx(ds,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent",children:"🎨 Personalização Visual"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Defina o visual padrão do sistema"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Tema Padrão"})]}),e.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx("span",{children:"Personalizar"})]})]})]}),v&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Tema aplicado com sucesso!"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"temas",label:"Temas Predefinidos",icon:yr},{id:"personalizado",label:"Tema Personalizado",icon:Ds},{id:"preview",label:"Preview",icon:Ae}].map(d=>{const b=d.icon;return e.jsx("button",{onClick:()=>f(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${m===d.id?"border-pink-500 text-pink-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{children:d.label})]})},d.id)})})}),e.jsxs("div",{className:"p-6",children:[m==="temas"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🎨 Escolha um Tema"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Tema atual: ",e.jsx("span",{className:"font-medium",children:(u=Ve.find(d=>d.id===t))==null?void 0:u.name})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ve.map(d=>e.jsxs("div",{className:`border-2 rounded-2xl overflow-hidden transition-all duration-300 cursor-pointer hover:scale-105 hover:shadow-xl ${t===d.id?"border-pink-500 shadow-xl ring-4 ring-pink-200":"border-gray-200 hover:border-pink-300"}`,onClick:()=>k(d),children:[e.jsxs("div",{className:`h-24 ${d.preview} relative overflow-hidden`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsxs("div",{className:"absolute top-2 left-2 flex space-x-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.colors.primary}}),e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.colors.secondary}}),e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.colors.accent}})]}),t===d.id&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:e.jsx(se,{className:"h-4 w-4 text-green-600"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"font-bold text-gray-900 mb-2 flex items-center",children:[d.name,d.id==="objetivo-classic"&&e.jsx(Ir,{className:"h-4 w-4 ml-2 text-yellow-500"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:d.description}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Cores:"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:d.colors.primary},title:"Primária"}),e.jsx("div",{className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:d.colors.secondary},title:"Secundária"}),e.jsx("div",{className:"w-4 h-4 rounded border border-gray-300",style:{backgroundColor:d.colors.accent},title:"Destaque"})]})]}),e.jsx("button",{onClick:b=>{b.stopPropagation(),k(d)},disabled:y,className:`w-full py-2 px-4 rounded-lg font-medium transition-colors ${t===d.id?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y?"Aplicando...":t===d.id?"✅ Tema Ativo":"Aplicar Tema"})]})]},d.id))})]}),m==="personalizado"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🛠️ Criar Tema Personalizado"}),o?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Tema"}),e.jsx("input",{type:"text",value:o.name,onChange:d=>i({...o,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Meu Tema Personalizado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),e.jsx("input",{type:"text",value:o.description,onChange:d=>i({...o,description:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Descrição do seu tema"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🎨 Paleta de Cores"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(o.colors).map(([d,b])=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:d==="textSecondary"?"Texto Secundário":d}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:b,onChange:p=>i({...o,colors:{...o.colors,[d]:p.target.value}}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:b,onChange:p=>i({...o,colors:{...o.colors,[d]:p.target.value}}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent font-mono text-sm"})]})]},d))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📐 Bordas Arredondadas"}),e.jsx("div",{className:"space-y-3",children:Object.entries(o.borderRadius).map(([d,b])=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 capitalize",children:d}),e.jsx("input",{type:"text",value:b,onChange:p=>i({...o,borderRadius:{...o.borderRadius,[d]:p.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"8px"})]},d))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🌟 Animações"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duração"}),e.jsxs("select",{value:o.animations.duration,onChange:d=>i({...o,animations:{...o.animations,duration:d.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"150ms",children:"Muito Rápida (150ms)"}),e.jsx("option",{value:"300ms",children:"Rápida (300ms)"}),e.jsx("option",{value:"500ms",children:"Normal (500ms)"}),e.jsx("option",{value:"700ms",children:"Lenta (700ms)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estilo de Transição"}),e.jsxs("select",{value:o.animations.easing,onChange:d=>i({...o,animations:{...o.animations,easing:d.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"cubic-bezier(0.4, 0, 0.2, 1)",children:"Linear"}),e.jsx("option",{value:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",children:"Bounce"}),e.jsx("option",{value:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",children:"Elastic"})]})]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:j,disabled:y,className:"flex items-center space-x-2 px-8 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 shadow-lg",children:[e.jsx(De,{className:"h-5 w-5"}),e.jsx("span",{children:y?"Aplicando...":"Aplicar Tema Personalizado"})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ds,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Crie seu Tema Único"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Personalize cores, tipografia e efeitos visuais"}),e.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors mx-auto",children:[e.jsx(Plus,{className:"h-5 w-5"}),e.jsx("span",{children:"Começar Personalização"})]})]})]}),m==="preview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"👁️ Preview do Tema Atual"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Botões"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Botão Primário"}),e.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Botão Secundário"}),e.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Botão Outline"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Cards"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Card Exemplo"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Este é um exemplo de como os cards aparecerão com o tema atual."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-white font-bold",children:"A"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-gray-900",children:"Aluno Exemplo"}),e.jsx("p",{className:"text-sm text-gray-500",children:"5º Ano A"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Média:"}),e.jsx("span",{className:"font-bold text-green-600",children:"8.5"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Formulários"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campo de Texto"}),e.jsx("input",{type:"text",placeholder:"Digite algo...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seleção"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{children:"Opção 1"}),e.jsx("option",{children:"Opção 2"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Badges e Indicadores"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:"Ativo"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:"Aprovado"}),e.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-sm rounded-full",children:"Pendente"}),e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:"Reprovado"})]})]})]})]}),R.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),R.submit]})})]})]}),e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(zr,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"💡 Como Funcionam os Temas"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"🎯 O que os Temas Alteram:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Cores:"})," Primária, secundária e de destaque"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Gradientes:"})," Fundos e efeitos visuais"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Sombras:"})," Profundidade e elevação"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Bordas:"})," Arredondamento dos elementos"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Animações:"})," Velocidade e estilo"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Tipografia:"})," Fontes e tamanhos"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"✨ Aplicação Automática:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Instantânea:"})," Mudanças aplicadas imediatamente"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Global:"})," Afeta todo o sistema"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Persistente:"})," Salvo no Supabase"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Responsivo:"})," Funciona em todos os dispositivos"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Compatível:"})," Mantém funcionalidades"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Reversível:"})," Pode voltar ao padrão"]})]})]})]})]})]})}const He={layout:"modern",width:"320px",position:"left",primaryColor:"#1e40af",secondaryColor:"#3b82f6",accentColor:"#60a5fa",backgroundColor:"#ffffff",textColor:"#374151",showSearch:!1,showUserInfo:!1,showFavorites:!1,showBadges:!0,showDescriptions:!0,showQuickActions:!0,enableAnimations:!0,enableHoverEffects:!0,enableShadows:!0,enableBlur:!1,shadowIntensity:"medium",animationSpeed:"300ms",borderRadius:"12px",customCSS:"",adminConfig:{},professorConfig:{},paiConfig:{}};function ot(){const{configs:s,saveConfig:r,loading:a}=Vs(),[t,l]=h.useState(He),[o,i]=h.useState("layout"),[m,f]=h.useState("admin"),[y,g]=h.useState(!1),[v,D]=h.useState(!1),[R,c]=h.useState({}),[k,N]=h.useState("iframe"),T=h.useRef(null);h.useEffect(()=>{s.sidebar_customization?(console.log("📂 Carregando configurações do Supabase:",s.sidebar_customization),l({...He,...s.sidebar_customization})):(console.log("📂 Usando configurações padrão (Supabase não disponível ou sem dados)"),l(He))},[]),h.useEffect(()=>{s.sidebar_customization&&(console.log("🔄 Atualizando configurações via GlobalConfig:",s.sidebar_customization),l({...He,...s.sidebar_customization}))},[s.sidebar_customization]),h.useEffect(()=>{j()},[t,m]);const j=()=>{try{console.log("💾 Salvando configurações do sidebar:",t),localStorage.setItem("sidebarCustomization",JSON.stringify(t)),localStorage.setItem("sidebarLayout",t.layout),window.dispatchEvent(new CustomEvent("sidebarConfigChanged",{detail:t})),window.dispatchEvent(new CustomEvent("sidebarLayoutChanged",{detail:t.layout})),console.log("📡 Eventos disparados para atualizar sidebar")}catch(x){console.error("❌ Erro ao enviar configuração do sidebar:",x)}if(T.current&&T.current.contentWindow)try{console.log("📨 Enviando configuração via postMessage:",{config:t,userType:m}),T.current.contentWindow.postMessage({type:"SIDEBAR_CONFIG_UPDATE",config:t,userType:m},"*"),console.log("📨 Configuração enviada via postMessage para iframe")}catch(x){console.error("❌ Erro ao enviar via postMessage:",x)}},u=()=>{if(console.log("🔄 Forçando atualização do preview do sidebar..."),j(),T.current){const x=T.current.src;T.current.src="",setTimeout(()=>{T.current&&(T.current.src=x)},100)}setTimeout(()=>{j()},1e3)},d=async()=>{g(!0),c({});try{const x={};if(t.primaryColor||(x.primaryColor="Cor primária é obrigatória"),(!t.width||!t.width.match(/^\d+(px|rem|em|%)$/))&&(x.width="Largura deve ter uma unidade válida (px, rem, em, %)"),Object.keys(x).length>0){c(x);return}await r("sidebar_customization",t),console.log("✅ Configurações do sidebar salvas no Supabase"),D(!0),setTimeout(()=>D(!1),3e3)}catch(x){console.error("Erro ao salvar configurações:",x),x instanceof Error&&x.message.includes("Supabase")?c({submit:"Erro: Sistema requer conexão com Supabase para salvar configurações. Verifique sua conexão."}):c({submit:"Erro ao salvar configurações"})}finally{g(!1)}},b=()=>{confirm("Tem certeza que deseja restaurar as configurações padrão do menu lateral?")&&(l(He),r("sidebar_customization",He))},p=()=>{const x=window.open(`/?preview=sidebar&userType=${m}`,"_blank");x&&setTimeout(()=>{x.postMessage({type:"SIDEBAR_CONFIG_UPDATE",config:t,userType:m},"*")},1e3)},O=[{id:"layout",label:"Layout",icon:Ma},{id:"cores",label:"Cores",icon:ds},{id:"funcionalidades",label:"Funcionalidades",icon:oe},{id:"efeitos",label:"Efeitos Visuais",icon:Ue},{id:"avancado",label:"Avançado",icon:Br}],_=[{value:"default",label:"Padrão Objetivo",description:"Layout tradicional com gradiente azul",icon:ys},{value:"compact",label:"Compacto",description:"Versão reduzida para economizar espaço",icon:oa},{value:"icon-only",label:"Apenas Ícones",description:"Menu ultra-compacto com tooltips",icon:Ls},{value:"tabs",label:"Em Abas",description:"Organização por categorias",icon:Os},{value:"cards",label:"Cards Modernos",description:"Cada item como um card individual",icon:Ns},{value:"minimal",label:"Minimalista",description:"Design limpo e simples",icon:oa},{value:"modern",label:"Ultra Moderno",description:"Layout futurista com efeitos avançados",icon:Ue}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:e.jsx(_a,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"🎨 Personalizar Menu Lateral"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Configure aparência e funcionalidades do sidebar"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Atualizar Preview"})]}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Restaurar"})]}),e.jsxs("button",{onClick:d,disabled:y,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:y?"Salvando...":"Salvar"})]})]})]}),v&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Configurações do menu lateral salvas com sucesso!"})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-medium text-blue-800 mb-3 flex items-center",children:[e.jsx(ie,{className:"h-5 w-5 mr-2"}),"👤 Tipo de Usuário para Preview"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"admin",label:"👑 Admin",color:"purple"},{value:"professor",label:"👨‍🏫 Professor",color:"green"},{value:"pai",label:"👨‍👩‍👧‍👦 Pai",color:"blue"}].map(x=>e.jsx("button",{onClick:()=>f(x.value),className:`p-3 border rounded-lg text-center transition-colors ${m===x.value?`border-${x.color}-500 bg-${x.color}-50 text-${x.color}-700`:"border-gray-300 hover:border-gray-400"}`,children:e.jsx("span",{className:"text-sm font-medium",children:x.label})},x.value))}),e.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"💡 Cada tipo de usuário vê menus diferentes. Teste todos os tipos!"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6 overflow-x-auto",children:O.map(x=>{const w=x.icon;return e.jsx("button",{onClick:()=>i(x.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${o===x.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:x.label})]})},x.id)})})}),e.jsxs("div",{className:"p-6",children:[o==="layout"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estilo de Layout"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(x=>{const w=x.icon;return e.jsxs("button",{onClick:()=>l({...t,layout:x.value}),className:`p-4 border rounded-xl text-left transition-all duration-300 hover:scale-105 ${t.layout===x.value?"border-purple-500 bg-purple-50 text-purple-700 shadow-lg":"border-gray-300 hover:border-gray-400 hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t.layout===x.value?"bg-purple-100":"bg-gray-100"}`,children:e.jsx(w,{className:`h-5 w-5 ${t.layout===x.value?"text-purple-600":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:x.label}),e.jsx("p",{className:"text-xs text-gray-500",children:x.description})]})]}),t.layout===x.value&&e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(se,{className:"h-4 w-4 text-purple-600"})})]},x.value)})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Largura do Menu"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:t.width,onChange:x=>l({...t,width:x.target.value}),className:`flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${R.width?"border-red-300":"border-gray-300"}`,placeholder:"320px"}),e.jsx("div",{className:"flex space-x-1",children:["280px","320px","360px","400px"].map(x=>e.jsx("button",{onClick:()=>l({...t,width:x}),className:`px-2 py-1 text-xs rounded ${t.width===x?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:x},x))})]}),R.width&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:R.width})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posição"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"left",label:"Esquerda"},{value:"right",label:"Direita"}].map(x=>e.jsx("button",{onClick:()=>l({...t,position:x.value}),className:`p-3 border rounded-lg text-center transition-colors ${t.position===x.value?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("span",{className:"text-sm font-medium",children:x.label})},x.value))})]})]})]}),o==="cores"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Esquema de Cores"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor Primária"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:t.primaryColor,onChange:x=>l({...t,primaryColor:x.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:t.primaryColor,onChange:x=>l({...t,primaryColor:x.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor Secundária"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:t.secondaryColor,onChange:x=>l({...t,secondaryColor:x.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:t.secondaryColor,onChange:x=>l({...t,secondaryColor:x.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor de Destaque"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:t.accentColor,onChange:x=>l({...t,accentColor:x.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:t.accentColor,onChange:x=>l({...t,accentColor:x.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor do Texto"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:t.textColor,onChange:x=>l({...t,textColor:x.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:t.textColor,onChange:x=>l({...t,textColor:x.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Paletas Predefinidas"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{name:"Objetivo",primary:"#1e40af",secondary:"#3b82f6",accent:"#60a5fa"},{name:"Roxo",primary:"#7c3aed",secondary:"#8b5cf6",accent:"#a78bfa"},{name:"Verde",primary:"#059669",secondary:"#10b981",accent:"#34d399"},{name:"Laranja",primary:"#ea580c",secondary:"#f97316",accent:"#fb923c"}].map(x=>e.jsxs("button",{onClick:()=>l({...t,primaryColor:x.primary,secondaryColor:x.secondary,accentColor:x.accent}),className:"p-3 border rounded-lg text-center hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex space-x-1 mb-2 justify-center",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:x.primary}}),e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:x.secondary}}),e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:x.accent}})]}),e.jsx("span",{className:"text-xs font-medium",children:x.name})]},x.name))})]})]}),o==="funcionalidades"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Elementos da Interface"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Elementos Principais"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.showSearch,onChange:x=>l({...t,showSearch:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar campo de busca"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.showUserInfo,onChange:x=>l({...t,showUserInfo:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar informações do usuário"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.showFavorites,onChange:x=>l({...t,showFavorites:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar seção de favoritos"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.showQuickActions,onChange:x=>l({...t,showQuickActions:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar ações rápidas"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Indicadores Visuais"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.showBadges,onChange:x=>l({...t,showBadges:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar badges e notificações"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.showDescriptions,onChange:x=>l({...t,showDescriptions:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar descrições dos itens"})]})]})]})]}),o==="efeitos"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Efeitos e Animações"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Efeitos Visuais"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.enableAnimations,onChange:x=>l({...t,enableAnimations:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Habilitar animações"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.enableHoverEffects,onChange:x=>l({...t,enableHoverEffects:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Efeitos de hover"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.enableShadows,onChange:x=>l({...t,enableShadows:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Sombras"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.enableBlur,onChange:x=>l({...t,enableBlur:x.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Efeito de desfoque (blur)"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Configurações Avançadas"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intensidade da Sombra"}),e.jsxs("select",{value:t.shadowIntensity,onChange:x=>l({...t,shadowIntensity:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"none",children:"Sem sombra"}),e.jsx("option",{value:"light",children:"Leve"}),e.jsx("option",{value:"medium",children:"Média"}),e.jsx("option",{value:"strong",children:"Forte"}),e.jsx("option",{value:"dramatic",children:"Dramática"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Velocidade das Animações"}),e.jsxs("select",{value:t.animationSpeed,onChange:x=>l({...t,animationSpeed:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"150ms",children:"Muito Rápida"}),e.jsx("option",{value:"300ms",children:"Rápida"}),e.jsx("option",{value:"500ms",children:"Normal"}),e.jsx("option",{value:"700ms",children:"Lenta"}),e.jsx("option",{value:"1000ms",children:"Muito Lenta"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Raio das Bordas"}),e.jsxs("select",{value:t.borderRadius,onChange:x=>l({...t,borderRadius:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"4px",children:"Quadrado"}),e.jsx("option",{value:"8px",children:"Levemente Arredondado"}),e.jsx("option",{value:"12px",children:"Arredondado"}),e.jsx("option",{value:"16px",children:"Muito Arredondado"}),e.jsx("option",{value:"24px",children:"Extremamente Arredondado"})]})]})]})]})]}),o==="avancado"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurações Avançadas"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CSS Personalizado"}),e.jsx("textarea",{value:t.customCSS,onChange:x=>l({...t,customCSS:x.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent font-mono text-sm",placeholder:`/* CSS personalizado para o sidebar */\r
.sidebar-container {\r
  /* Seus estilos aqui */\r
}\r
\r
.sidebar-header {\r
  /* Personalizar header */\r
}`}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 Use CSS personalizado para ajustes finos. Seja cuidadoso para não quebrar o layout."})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"⚠️ Dicas de CSS Personalizado:"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• Use seletores específicos como `.sidebar-container`"}),e.jsx("li",{children:"• Teste sempre no preview antes de salvar"}),e.jsx("li",{children:"• Use `!important` apenas quando necessário"}),e.jsx("li",{children:"• Mantenha backup das configurações funcionais"})]})]})]}),R.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),R.submit]})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Preview em Tempo Real"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>N("iframe"),className:`px-3 py-2 rounded-lg transition-colors ${k==="iframe"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(je,{className:"h-4 w-4 mr-2 inline"}),"Iframe"]}),e.jsxs("button",{onClick:()=>{N("newTab"),p()},className:`px-3 py-2 rounded-lg transition-colors ${k==="newTab"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(Da,{className:"h-4 w-4 mr-2 inline"}),"Nova Aba"]})]})]}),k==="iframe"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Preview do Menu Lateral"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Usuário: ",m]}),e.jsx(Hs,{className:"h-4 w-4 text-gray-400"}),e.jsx(Ra,{className:"h-4 w-4 text-gray-400"}),e.jsx(je,{className:"h-4 w-4 text-purple-600"})]})]}),e.jsx("iframe",{ref:T,src:`/?preview=sidebar&userType=${m}`,className:"w-full h-96 border-0",title:"Preview do Menu Lateral",onLoad:()=>{console.log("🔄 Iframe do sidebar carregado, enviando configurações..."),setTimeout(()=>{j()},100)},sandbox:"allow-scripts allow-same-origin"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-blue-800 mb-2 flex items-center",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"💡 Como usar o Preview"]}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Mudanças em tempo real:"})," Alterações aparecem instantaneamente"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Teste diferentes usuários:"})," Mude o tipo de usuário acima"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Layouts diferentes:"})," Experimente todos os layouts disponíveis"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Nova aba:"})," Abra em nova aba para teste completo"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Atualizar:"}),' Use o botão "Atualizar Preview" se necessário']})]})]})]})]})]})}function it(){const[s,r]=h.useState(!1),[a,t]=h.useState(""),[l,o]=h.useState(""),[i,m]=h.useState("export"),[f,y]=h.useState(["usuarios","alunos","turmas"]),[g,v]=h.useState("json"),[D]=h.useState({usuarios:15,alunos:120,turmas:8,disciplinas:25,notas:450,recados:35,materiais:80,presencas:1200}),R=[{id:"usuarios",label:"Usuários",icon:W,count:D.usuarios},{id:"alunos",label:"Alunos",icon:ne,count:D.alunos},{id:"turmas",label:"Turmas",icon:re,count:D.turmas},{id:"disciplinas",label:"Disciplinas",icon:ee,count:D.disciplinas},{id:"notas",label:"Notas",icon:fe,count:D.notas},{id:"recados",label:"Recados",icon:fe,count:D.recados},{id:"materiais",label:"Materiais",icon:rs,count:D.materiais},{id:"presencas",label:"Presenças",icon:X,count:D.presencas}],c=async()=>{if(f.length===0){o("Selecione pelo menos uma tabela para exportar");return}r(!0),o("");try{await new Promise(n=>setTimeout(n,2e3));const d={};f.forEach(n=>{switch(n){case"usuarios":d.usuarios=[{id:"1",nome:"Carlos Admin",email:"admin@escola.com",tipo:"admin"},{id:"2",nome:"Maria Professor",email:"prof@escola.com",tipo:"professor"},{id:"3",nome:"João Pai",email:"pai@escola.com",tipo:"pai"}];break;case"alunos":d.alunos=[{id:"1",nome:"Ana Silva",turma_id:"turma-1",responsavel_id:"user-3"},{id:"2",nome:"Pedro Santos",turma_id:"turma-1",responsavel_id:"user-3"}];break;case"turmas":d.turmas=[{id:"turma-1",nome:"5º Ano A",ano_letivo:"2024"},{id:"turma-2",nome:"3º Ano B",ano_letivo:"2024"}];break;default:d[n]=[]}});let b="",p="",O="";switch(g){case"json":b=JSON.stringify(d,null,2),p=`dados_escola_${new Date().toISOString().split("T")[0]}.json`,O="application/json";break;case"csv":b=f.map(n=>{const C=d[n]||[];if(C.length===0)return`${n}:
Nenhum dado

`;const P=Object.keys(C[0]).join(","),U=C.map(B=>Object.values(B).join(",")).join(`
`);return`${n}:
${P}
${U}

`}).join(""),p=`dados_escola_${new Date().toISOString().split("T")[0]}.csv`,O="text/csv";break;case"sql":b=f.map(n=>{const C=d[n]||[];return`-- Dados da tabela ${n}
${C.map(P=>`INSERT INTO ${n} VALUES (${Object.values(P).map(U=>`'${U}'`).join(", ")});`).join(`
`)}

`}).join(""),p=`dados_escola_${new Date().toISOString().split("T")[0]}.sql`,O="text/sql";break}const _=new Blob([b],{type:O}),x=URL.createObjectURL(_),w=document.createElement("a");w.href=x,w.download=p,w.click(),URL.revokeObjectURL(x),t(`Dados exportados com sucesso! ${f.length} tabela(s) exportada(s) em formato ${g.toUpperCase()}.`),setTimeout(()=>t(""),5e3)}catch{o("Erro ao exportar dados")}finally{r(!1)}},k=async d=>{var p;const b=(p=d.target.files)==null?void 0:p[0];if(b){r(!0),o("");try{const O=await b.text();b.name.endsWith(".json")&&JSON.parse(O),await new Promise(_=>setTimeout(_,3e3)),t(`Arquivo ${b.name} importado com sucesso! ${Math.floor(Math.random()*50+10)} registros processados.`),setTimeout(()=>t(""),5e3)}catch{o("Erro ao importar arquivo. Verifique o formato e tente novamente.")}finally{r(!1),d.target.value=""}}},N=d=>{y(b=>b.includes(d)?b.filter(p=>p!==d):[...b,d])},T=()=>{y(R.map(d=>d.id))},j=()=>{y([])},u=async()=>{r(!0);try{await new Promise(x=>setTimeout(x,2500));const d={timestamp:new Date().toISOString(),tables:R.length,totalRecords:Object.values(D).reduce((x,w)=>x+w,0),size:"25.7 MB"},b=JSON.stringify(d,null,2),p=new Blob([b],{type:"application/json"}),O=URL.createObjectURL(p),_=document.createElement("a");_.href=O,_.download=`backup_completo_${new Date().toISOString().split("T")[0]}.json`,_.click(),URL.revokeObjectURL(O),t("Backup completo criado e baixado com sucesso!"),setTimeout(()=>t(""),5e3)}catch{o("Erro ao criar backup")}finally{r(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-xl shadow-lg",children:e.jsx(ve,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"💾 Gestão de Dados"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Import, Export e Backup de dados"})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:u,disabled:s,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(rs,{className:"h-4 w-4"}),e.jsx("span",{children:s?"Criando...":"Backup Completo"})]})})]}),a&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:a})]})}),l&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:l})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"export",label:"Exportar Dados",icon:Se},{id:"import",label:"Importar Dados",icon:pe},{id:"backup",label:"Backup/Restore",icon:rs},{id:"stats",label:"Estatísticas",icon:be}].map(d=>{const b=d.icon;return e.jsx("button",{onClick:()=>m(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i===d.id?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{children:d.label})]})},d.id)})})}),e.jsxs("div",{className:"p-6",children:[i==="export"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📤 Exportar Dados do Sistema"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Formato de Exportação"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"json",label:"JSON",desc:"Estruturado e legível"},{value:"csv",label:"CSV",desc:"Para Excel/Planilhas"},{value:"sql",label:"SQL",desc:"Para bancos de dados"}].map(d=>e.jsxs("button",{onClick:()=>v(d.value),className:`p-4 border rounded-lg text-center transition-colors ${g===d.value?"border-teal-500 bg-teal-50 text-teal-700":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:d.desc})]},d.value))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Selecionar Tabelas para Exportar"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:T,className:"text-sm text-teal-600 hover:text-teal-800",children:"Selecionar Todas"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:j,className:"text-sm text-gray-600 hover:text-gray-800",children:"Limpar Seleção"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:R.map(d=>{const b=d.icon,p=f.includes(d.id);return e.jsxs("button",{onClick:()=>N(d.id),className:`p-4 border rounded-lg text-left transition-all ${p?"border-teal-500 bg-teal-50 text-teal-700 shadow-md":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${p?"bg-teal-100":"bg-gray-100"}`,children:e.jsx(b,{className:`h-5 w-5 ${p?"text-teal-600":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsxs("div",{className:"text-sm text-gray-500",children:[d.count," registros"]})]})]}),p&&e.jsx("div",{className:"mt-2 flex justify-end",children:e.jsx(X,{className:"h-4 w-4 text-teal-600"})})]},d.id)})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:c,disabled:s||f.length===0,className:"flex items-center space-x-2 px-8 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[e.jsx(Se,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:s?"Exportando...":`Exportar ${f.length} Tabela(s)`})]})})]}),i==="import"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📥 Importar Dados"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-teal-400 hover:bg-teal-50 transition-colors",children:[e.jsx("input",{type:"file",accept:".json,.csv,.sql",onChange:k,className:"hidden",id:"file-upload",disabled:s}),e.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[e.jsx(pe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:s?"Processando arquivo...":"Clique para selecionar arquivo"}),e.jsx("p",{className:"text-gray-500",children:"Formatos suportados: JSON, CSV, SQL (máximo 50MB)"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-3",children:"📋 Instruções de Importação:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-2",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"JSON:"})," Estrutura de dados completa com relacionamentos"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"CSV:"})," Dados tabulares simples, uma tabela por arquivo"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"SQL:"})," Scripts de inserção direta no banco"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Validação:"})," Dados são validados antes da importação"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Backup:"})," Recomendamos fazer backup antes de importar"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"📜 Histórico de Importações"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{className:"h-4 w-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"usuarios_backup.json"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Hoje às 14:30 - 15 registros"})]})]}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Sucesso"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{className:"h-4 w-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"alunos_2024.csv"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ontem às 09:15 - 120 registros"})]})]}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Sucesso"})]})]})]})]}),i==="backup"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"💾 Backup e Restauração"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(rs,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Backup Completo"})]}),e.jsx("p",{className:"text-blue-700 mb-4",children:"Cria um backup completo de todos os dados do sistema."}),e.jsxs("button",{onClick:u,disabled:s,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(rs,{className:"h-4 w-4"}),e.jsx("span",{children:s?"Criando Backup...":"Criar Backup Agora"})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:e.jsx(Pe,{className:"h-5 w-5 text-orange-600"})}),e.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Restaurar Sistema"})]}),e.jsx("p",{className:"text-orange-700 mb-4",children:"Restaura o sistema a partir de um backup anterior."}),e.jsx("input",{type:"file",accept:".json,.sql",className:"hidden",id:"restore-upload"}),e.jsxs("label",{htmlFor:"restore-upload",className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors cursor-pointer",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Selecionar Backup"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"⚙️ Configurações de Backup"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"daily",children:"Diário"}),e.jsx("option",{value:"weekly",children:"Semanal"}),e.jsx("option",{value:"monthly",children:"Mensal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horário"}),e.jsx("input",{type:"time",defaultValue:"02:00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Retenção"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500",children:[e.jsx("option",{value:"7",children:"7 dias"}),e.jsx("option",{value:"30",children:"30 dias"}),e.jsx("option",{value:"90",children:"90 dias"})]})]})]})]})]}),i==="stats"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📊 Estatísticas dos Dados"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border-2 border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total de Registros"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:Object.values(D).reduce((d,b)=>d+b,0)})]}),e.jsx(ve,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border-2 border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Tabelas Ativas"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:R.length})]}),e.jsx(fe,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border-2 border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Tamanho Estimado"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:"25.7 MB"})]}),e.jsx(Ia,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-6 border-2 border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Último Backup"}),e.jsx("p",{className:"text-lg font-bold text-yellow-900",children:"Hoje"}),e.jsx("p",{className:"text-xs text-yellow-700",children:"02:00"})]}),e.jsx(te,{className:"h-8 w-8 text-yellow-600"})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Detalhes por Tabela"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tabela"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Registros"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tamanho Est."}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Última Atualização"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:R.map(d=>{const b=d.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(b,{className:"h-4 w-4 text-gray-600"})}),e.jsx("span",{className:"font-medium text-gray-900",children:d.label})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.count.toLocaleString()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(d.count*.02).toFixed(1)," MB"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date().toLocaleDateString("pt-BR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"flex items-center space-x-1 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:[e.jsx(X,{className:"h-3 w-3"}),e.jsx("span",{children:"Ativo"})]})})]},d.id)})})]})})]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ye,{className:"h-6 w-6 text-yellow-600"}),e.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"⚠️ Avisos Importantes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"Antes de Importar:"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• Sempre faça backup antes de importar dados"}),e.jsx("li",{children:"• Verifique a integridade dos arquivos"}),e.jsx("li",{children:"• Teste em ambiente de desenvolvimento primeiro"}),e.jsx("li",{children:"• Valide os formatos de data e campos obrigatórios"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"Limitações:"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• Tamanho máximo de arquivo: 50MB"}),e.jsx("li",{children:"• Formatos suportados: JSON, CSV, SQL"}),e.jsx("li",{children:"• Importação pode demorar alguns minutos"}),e.jsx("li",{children:"• Dados duplicados serão ignorados"})]})]})]})]})]})}function nt(){const[s,r]=h.useState({database:"online",storage:245.7,lastBackup:new Date().toISOString(),uptime:"15 dias, 8 horas",activeUsers:12,systemLoad:23}),[a,t]=h.useState([{id:"1",date:new Date().toISOString(),size:"15.2 MB",type:"automatic",status:"completed"},{id:"2",date:new Date(Date.now()-24*60*60*1e3).toISOString(),size:"14.8 MB",type:"automatic",status:"completed"},{id:"3",date:new Date(Date.now()-2*24*60*60*1e3).toISOString(),size:"14.5 MB",type:"manual",status:"completed"}]),[l,o]=h.useState(!1),[i,m]=h.useState(""),[f,y]=h.useState("status"),g=async()=>{o(!0);try{await new Promise(j=>setTimeout(j,2e3));const T={id:Date.now().toString(),date:new Date().toISOString(),size:"15.5 MB",type:"manual",status:"completed"};t([T,...a]),m("Backup criado com sucesso!"),setTimeout(()=>m(""),3e3)}catch(T){console.error("Erro ao criar backup:",T)}finally{o(!1)}},v=T=>{const j=document.createElement("a");j.href="#",j.download=`backup_${T.date.split("T")[0]}.sql`,j.click(),m(`Download do backup de ${new Date(T.date).toLocaleDateString("pt-BR")} iniciado!`),setTimeout(()=>m(""),3e3)},D=T=>{confirm("Tem certeza que deseja excluir este backup?")&&(t(a.filter(j=>j.id!==T)),m("Backup excluído com sucesso!"),setTimeout(()=>m(""),3e3))},R=async()=>{if(confirm("Tem certeza que deseja limpar o cache do sistema?")){o(!0);try{await new Promise(T=>setTimeout(T,1500)),localStorage.clear(),m("Cache limpo com sucesso!"),setTimeout(()=>m(""),3e3)}catch(T){console.error("Erro ao limpar cache:",T)}finally{o(!1)}}},c=async()=>{if(confirm("Tem certeza que deseja otimizar o banco de dados?")){o(!0);try{await new Promise(T=>setTimeout(T,3e3)),m("Banco de dados otimizado com sucesso!"),setTimeout(()=>m(""),3e3)}catch(T){console.error("Erro ao otimizar banco:",T)}finally{o(!1)}}},k=T=>{switch(T){case"online":case"completed":return"text-green-600 bg-green-100";case"offline":case"failed":return"text-red-600 bg-red-100";case"maintenance":case"in_progress":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},N=T=>{switch(T){case"online":case"completed":return e.jsx(X,{className:"h-4 w-4"});case"offline":case"failed":return e.jsx(Me,{className:"h-4 w-4"});case"maintenance":case"in_progress":return e.jsx(te,{className:"h-4 w-4"});default:return e.jsx(Pa,{className:"h-4 w-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl shadow-lg",children:e.jsx(ye,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"🛠️ Manutenção do Sistema"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Backup, limpeza e otimização"})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:g,disabled:l,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:l?"Criando...":"Backup Manual"})]})})]}),i&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:i})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"status",label:"Status do Sistema",icon:je},{id:"backup",label:"Backup e Restauração",icon:ve},{id:"limpeza",label:"Limpeza e Otimização",icon:Ue},{id:"configuracoes",label:"Configurações",icon:oe}].map(T=>{const j=T.icon;return e.jsx("button",{onClick:()=>y(T.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${f===T.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{children:T.label})]})},T.id)})})}),e.jsxs("div",{className:"p-6",children:[f==="status"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status Geral do Sistema"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border-2 border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Banco de Dados"}),e.jsxs("div",{className:`flex items-center space-x-2 mt-2 px-3 py-1 rounded-full text-sm ${k(s.database)}`,children:[N(s.database),e.jsx("span",{className:"font-medium capitalize",children:s.database})]})]}),e.jsx(ve,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border-2 border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Armazenamento"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[s.storage," MB"]}),e.jsx("p",{className:"text-xs text-blue-700",children:"de 1 GB usado"})]}),e.jsx(Ia,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border-2 border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Usuários Ativos"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:s.activeUsers}),e.jsx("p",{className:"text-xs text-purple-700",children:"conectados agora"})]}),e.jsx(Js,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-6 border-2 border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Carga do Sistema"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:[s.systemLoad,"%"]}),e.jsx("p",{className:"text-xs text-yellow-700",children:"CPU e memória"})]}),e.jsx(je,{className:"h-8 w-8 text-yellow-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Sistema"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tempo Online:"}),e.jsx("span",{className:"font-medium text-gray-900",children:s.uptime})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Último Backup:"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(s.lastBackup).toLocaleString("pt-BR")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Versão do Sistema:"}),e.jsx("span",{className:"font-medium text-gray-900",children:"v2.1.0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ambiente:"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Produção"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Saúde do Sistema"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Conectividade"}),e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Excelente"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Performance"}),e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Ótima"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Segurança"}),e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Protegido"})]})]})]})]})]})]}),f==="backup"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup e Restauração"}),e.jsxs("button",{onClick:g,disabled:l,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:l?"Criando...":"Criar Backup"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Configurações de Backup Automático"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Frequência"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"daily",children:"Diário"}),e.jsx("option",{value:"weekly",children:"Semanal"}),e.jsx("option",{value:"monthly",children:"Mensal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Horário"}),e.jsx("input",{type:"time",defaultValue:"02:00",className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Retenção"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"7",children:"7 dias"}),e.jsx("option",{value:"30",children:"30 dias"}),e.jsx("option",{value:"90",children:"90 dias"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Histórico de Backups"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tamanho"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(T=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(T.date).toLocaleString("pt-BR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.size}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${T.type==="automatic"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:T.type==="automatic"?"Automático":"Manual"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-xs ${k(T.status)}`,children:[N(T.status),e.jsx("span",{className:"font-medium",children:T.status==="completed"?"Concluído":T.status==="failed"?"Falhou":"Em Progresso"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>v(T),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Download",children:e.jsx(Se,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>D(T.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Excluir",children:e.jsx(xe,{className:"h-4 w-4"})})]})})]},T.id))})]})})]})]}),f==="limpeza"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Limpeza e Otimização"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:e.jsx(xe,{className:"h-5 w-5 text-yellow-600"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Limpeza de Cache"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Remove arquivos temporários e cache do navegador para melhorar a performance."}),e.jsxs("button",{onClick:R,disabled:l,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:l?"Limpando...":"Limpar Cache"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(ve,{className:"h-5 w-5 text-green-600"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Otimizar Banco"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Reorganiza e otimiza o banco de dados para melhor performance."}),e.jsxs("button",{onClick:c,disabled:l,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{children:l?"Otimizando...":"Otimizar Banco"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas de Uso"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2.3 MB"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Cache do Sistema"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"156 MB"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Dados do Usuário"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"87 MB"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Arquivos Temporários"})]})]})]})]}),f==="configuracoes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurações de Manutenção"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Backup Automático"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Habilitar backup automático"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Notificar por email"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Backup em nuvem"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Limpeza Automática"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Limpeza automática de cache"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Remover logs antigos"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência de limpeza"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"daily",children:"Diário"}),e.jsx("option",{value:"weekly",children:"Semanal"}),e.jsx("option",{value:"monthly",children:"Mensal"})]})]})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ye,{className:"h-6 w-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"⚠️ Ações de Emergência"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{className:"flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Reiniciar Sistema"})]}),e.jsxs("button",{className:"flex items-center justify-center space-x-2 px-4 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Modo Manutenção"})]}),e.jsxs("button",{className:"flex items-center justify-center space-x-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Restaurar Backup"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-300 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Atenção:"})," Use essas ações apenas em caso de emergência. Elas podem afetar o funcionamento do sistema."]})})]})]})}function ct(){const[s,r]=h.useState([{id:"1",timestamp:new Date().toISOString(),user:"Carlos Oliveira",action:"LOGIN",resource:"Sistema",details:"Login realizado com sucesso",ip:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",status:"success",category:"auth"},{id:"2",timestamp:new Date(Date.now()-3e5).toISOString(),user:"Maria Santos",action:"CREATE_STUDENT",resource:"Alunos",details:"Novo aluno cadastrado: João Silva",ip:"192.168.1.101",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",status:"success",category:"crud"},{id:"3",timestamp:new Date(Date.now()-9e5).toISOString(),user:"João Silva",action:"FAILED_LOGIN",resource:"Sistema",details:"Tentativa de login com credenciais inválidas",ip:"192.168.1.102",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_7_1 like Mac OS X)",status:"error",category:"security"},{id:"4",timestamp:new Date(Date.now()-18e5).toISOString(),user:"Sistema",action:"AUTO_BACKUP",resource:"Banco de Dados",details:"Backup automático executado com sucesso",ip:"localhost",userAgent:"Sistema Interno",status:"success",category:"system"},{id:"5",timestamp:new Date(Date.now()-27e5).toISOString(),user:"Ana Costa",action:"UPDATE_GRADE",resource:"Notas",details:"Nota atualizada para aluno Pedro Santos - Matemática: 8.5",ip:"192.168.1.103",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",status:"success",category:"crud"}]),[a,t]=h.useState({busca:"",categoria:"",status:"",usuario:"",periodo:"hoje"}),[l,o]=h.useState({totalLogs:0,todayLogs:0,successRate:0,errorCount:0,uniqueUsers:0,topActions:[]});h.useEffect(()=>{i()},[s]);const i=()=>{const c=new Date().toDateString(),k=s.filter(b=>new Date(b.timestamp).toDateString()===c),N=s.filter(b=>b.status==="success").length,T=s.filter(b=>b.status==="error").length,j=new Set(s.map(b=>b.user)).size,u={};s.forEach(b=>{u[b.action]=(u[b.action]||0)+1});const d=Object.entries(u).sort(([,b],[,p])=>p-b).slice(0,5).map(([b,p])=>({action:b,count:p}));o({totalLogs:s.length,todayLogs:k.length,successRate:s.length>0?N/s.length*100:0,errorCount:T,uniqueUsers:j,topActions:d})},m=s.filter(c=>{const k=!a.busca||c.user.toLowerCase().includes(a.busca.toLowerCase())||c.action.toLowerCase().includes(a.busca.toLowerCase())||c.details.toLowerCase().includes(a.busca.toLowerCase()),N=!a.categoria||c.category===a.categoria,T=!a.status||c.status===a.status,j=!a.usuario||c.user===a.usuario;let u=!0;if(a.periodo!=="todos"){const d=new Date(c.timestamp),b=new Date;if(a.periodo==="hoje")u=d.toDateString()===b.toDateString();else if(a.periodo==="semana"){const p=new Date;p.setDate(b.getDate()-7),u=d>=p}else if(a.periodo==="mes"){const p=new Date;p.setMonth(b.getMonth()-1),u=d>=p}}return k&&N&&T&&j&&u}),f=()=>{const c=["Data,Usuário,Ação,Recurso,Detalhes,IP,Status,Categoria",...m.map(j=>`"${new Date(j.timestamp).toLocaleString("pt-BR")}","${j.user}","${j.action}","${j.resource}","${j.details}","${j.ip}","${j.status}","${j.category}"`)].join(`
`),k=new Blob([c],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),T=URL.createObjectURL(k);N.setAttribute("href",T),N.setAttribute("download",`auditoria_${new Date().toISOString().split("T")[0]}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)},y=c=>{switch(c){case"success":return e.jsx(X,{className:"h-4 w-4 text-green-600"});case"error":return e.jsx(Me,{className:"h-4 w-4 text-red-600"});case"warning":return e.jsx(ye,{className:"h-4 w-4 text-yellow-600"});default:return e.jsx(te,{className:"h-4 w-4 text-gray-600"})}},g=c=>{switch(c){case"success":return"bg-green-100 text-green-800";case"error":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},v=c=>{switch(c){case"auth":return e.jsx(Nr,{className:"h-4 w-4"});case"crud":return e.jsx(Ee,{className:"h-4 w-4"});case"system":return e.jsx(ve,{className:"h-4 w-4"});case"security":return e.jsx(he,{className:"h-4 w-4"});default:return e.jsx(Js,{className:"h-4 w-4"})}},D=c=>{switch(c){case"auth":return"Autenticação";case"crud":return"Dados";case"system":return"Sistema";case"security":return"Segurança";default:return c}},R=c=>({LOGIN:"Login",LOGOUT:"Logout",FAILED_LOGIN:"Login Falhado",CREATE_STUDENT:"Criar Aluno",UPDATE_STUDENT:"Atualizar Aluno",DELETE_STUDENT:"Excluir Aluno",CREATE_USER:"Criar Usuário",UPDATE_USER:"Atualizar Usuário",DELETE_USER:"Excluir Usuário",CREATE_GRADE:"Criar Nota",UPDATE_GRADE:"Atualizar Nota",AUTO_BACKUP:"Backup Automático",MANUAL_BACKUP:"Backup Manual",SYSTEM_UPDATE:"Atualização do Sistema"})[c]||c;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500 to-pink-600 rounded-xl shadow-lg",children:e.jsx(be,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:"📊 Auditoria e Logs"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Monitoramento e análise de atividades"})]})]}),e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:"Exportar Logs"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-xl border-2 border-blue-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-blue-600 uppercase tracking-wide",children:"📊 Total"}),e.jsx("p",{className:"text-3xl font-black text-blue-700",children:l.totalLogs})]}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl shadow-lg",children:e.jsx(fe,{className:"h-8 w-8 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-2xl shadow-xl border-2 border-green-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-green-600 uppercase tracking-wide",children:"📅 Hoje"}),e.jsx("p",{className:"text-3xl font-black text-green-700",children:l.todayLogs})]}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl shadow-lg",children:e.jsx(_e,{className:"h-8 w-8 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-2xl shadow-xl border-2 border-purple-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-purple-600 uppercase tracking-wide",children:"✅ Taxa"}),e.jsxs("p",{className:"text-3xl font-black text-purple-700",children:[l.successRate.toFixed(1),"%"]})]}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl shadow-lg",children:e.jsx(X,{className:"h-8 w-8 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-red-50 rounded-2xl shadow-xl border-2 border-red-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-red-600 uppercase tracking-wide",children:"❌ Erros"}),e.jsx("p",{className:"text-3xl font-black text-red-700",children:l.errorCount})]}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-red-400 to-red-600 rounded-2xl shadow-lg",children:e.jsx(Me,{className:"h-8 w-8 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-yellow-50 rounded-2xl shadow-xl border-2 border-yellow-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black text-yellow-600 uppercase tracking-wide",children:"👥 Usuários"}),e.jsx("p",{className:"text-3xl font-black text-yellow-700",children:l.uniqueUsers})]}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-2xl shadow-lg",children:e.jsx(W,{className:"h-8 w-8 text-white"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ze,{className:"h-5 w-5 text-gray-500"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros de Auditoria"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar logs...",value:a.busca,onChange:c=>t({...a,busca:c.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:a.categoria,onChange:c=>t({...a,categoria:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todas as categorias"}),e.jsx("option",{value:"auth",children:"Autenticação"}),e.jsx("option",{value:"crud",children:"Dados"}),e.jsx("option",{value:"system",children:"Sistema"}),e.jsx("option",{value:"security",children:"Segurança"})]}),e.jsxs("select",{value:a.status,onChange:c=>t({...a,status:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os status"}),e.jsx("option",{value:"success",children:"Sucesso"}),e.jsx("option",{value:"error",children:"Erro"}),e.jsx("option",{value:"warning",children:"Aviso"})]}),e.jsxs("select",{value:a.usuario,onChange:c=>t({...a,usuario:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os usuários"}),[...new Set(s.map(c=>c.user))].map(c=>e.jsx("option",{value:c,children:c},c))]}),e.jsxs("select",{value:a.periodo,onChange:c=>t({...a,periodo:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"hoje",children:"Hoje"}),e.jsx("option",{value:"semana",children:"Esta semana"}),e.jsx("option",{value:"mes",children:"Este mês"}),e.jsx("option",{value:"todos",children:"Todos"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🔥 Ações Mais Frequentes"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:l.topActions.map((c,k)=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.count}),e.jsx("div",{className:"text-sm text-gray-700",children:R(c.action)})]},c.action))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Logs de Auditoria (",m.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuário"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ação"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recurso"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum log encontrado com os filtros aplicados"})}):m.map(c=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(c.timestamp).toLocaleString("pt-BR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-semibold mr-3",children:c.user.charAt(0).toUpperCase()}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.user})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-1 bg-gray-100 rounded",children:v(c.category)}),e.jsx("span",{className:"text-sm text-gray-900",children:R(c.action)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.resource}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-xs ${g(c.status)}`,children:[y(c.status),e.jsx("span",{className:"font-medium",children:c.status==="success"?"Sucesso":c.status==="error"?"Erro":"Aviso"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.ip}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>alert(`Detalhes:

${c.details}

User Agent: ${c.userAgent}`),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Ver detalhes",children:e.jsx(Ae,{className:"h-4 w-4"})})})]},c.id))})]})})]}),e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(he,{className:"h-6 w-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"🚨 Alertas de Segurança"})]}),e.jsx("div",{className:"space-y-3",children:s.filter(c=>c.status==="error"&&c.category==="security").length>0?s.filter(c=>c.status==="error"&&c.category==="security").slice(0,3).map(c=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ye,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:c.details}),e.jsxs("p",{className:"text-xs text-red-700",children:[c.user," - ",new Date(c.timestamp).toLocaleString("pt-BR")]})]})]}),e.jsxs("span",{className:"text-xs text-red-600 font-medium",children:["IP: ",c.ip]})]},c.id)):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(X,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-green-700 font-medium",children:"Nenhum alerta de segurança"}),e.jsx("p",{className:"text-sm text-green-600",children:"Sistema funcionando normalmente"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📈 Resumo por Categoria"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:["auth","crud","system","security"].map(c=>{const k=s.filter(j=>j.category===c),N=k.filter(j=>j.status==="success").length,T=k.filter(j=>j.status==="error").length;return e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[v(c),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:D(c)})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:k.length}),e.jsxs("div",{className:"text-xs text-gray-600",children:[N," sucessos, ",T," erros"]})]},c)})})]})]})}function dt(){var w;const[s,r]=h.useState({showHelpSections:!0,helpSteps:["Leia o recado com atenção","Anote informações importantes","Entre em contato se tiver dúvidas","Acompanhe as próximas comunicações"],contactInfo:{secretaria:{nome:"Secretaria",telefone:"(11) 1234-5678",email:"secretaria@escola.com"},coordenacao:{nome:"Coordenação",email:"coord@escola.com",telefone:"(11) 1234-5679"},horario:{funcionamento:"7h às 17h",atendimento:"8h às 12h e 14h às 16h"},endereco:{rua:"Rua das Flores, 123",cidade:"São Paulo - SP",cep:"01234-567"},website:"https://escola.com",whatsapp:"(11) 99999-9999"},customSections:[]}),[a,t]=h.useState(!1),[l,o]=h.useState(!1),[i,m]=h.useState({}),[f,y]=h.useState(null),[g,v]=h.useState(""),[D,R]=h.useState(!1),[c,k]=h.useState({title:"",content:"",icon:"📋",color:"blue"});h.useEffect(()=>{N()},[]);const N=()=>{const n=localStorage.getItem("helpConfig");if(n)try{const C=JSON.parse(n);r({...s,...C})}catch(C){console.error("Erro ao carregar configurações de ajuda:",C)}},T=async()=>{t(!0),m({});try{const n={};if(s.contactInfo.secretaria.nome.trim()||(n.secretariaNome="Nome da secretaria é obrigatório"),s.contactInfo.secretaria.telefone.trim()||(n.secretariaTelefone="Telefone da secretaria é obrigatório"),s.contactInfo.coordenacao.nome.trim()||(n.coordenacaoNome="Nome da coordenação é obrigatório"),s.contactInfo.coordenacao.email.trim()||(n.coordenacaoEmail="E-mail da coordenação é obrigatório"),Object.keys(n).length>0){m(n);return}localStorage.setItem("helpConfig",JSON.stringify(s)),o(!0),setTimeout(()=>o(!1),3e3)}catch(n){console.error("Erro ao salvar configurações:",n),m({submit:"Erro ao salvar configurações"})}finally{t(!1)}},j=()=>{confirm("Tem certeza que deseja restaurar as configurações padrão de ajuda?")&&(localStorage.removeItem("helpConfig"),N())},u=()=>{g.trim()&&(r({...s,helpSteps:[...s.helpSteps,g.trim()]}),v(""))},d=(n,C)=>{const P=[...s.helpSteps];P[n]=C,r({...s,helpSteps:P})},b=n=>{r({...s,helpSteps:s.helpSteps.filter((C,P)=>P!==n)})},p=()=>{c.title.trim()&&c.content.trim()&&(r({...s,customSections:[...s.customSections,{id:Date.now().toString(),...c}]}),k({title:"",content:"",icon:"📋",color:"blue"}),R(!1))},O=n=>{r({...s,customSections:s.customSections.filter(C=>C.id!==n)})},_=["📋","📞","📧","🏫","⏰","📍","💡","❓","✅","⚠️","📝","🎯"],x=[{value:"blue",label:"Azul",class:"bg-blue-50 border-blue-200 text-blue-800"},{value:"green",label:"Verde",class:"bg-green-50 border-green-200 text-green-800"},{value:"purple",label:"Roxo",class:"bg-purple-50 border-purple-200 text-purple-800"},{value:"yellow",label:"Amarelo",class:"bg-yellow-50 border-yellow-200 text-yellow-800"},{value:"red",label:"Vermelho",class:"bg-red-50 border-red-200 text-red-800"},{value:"gray",label:"Cinza",class:"bg-gray-50 border-gray-200 text-gray-800"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg",children:e.jsx(sa,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"🆘 Configuração de Ajuda"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Configure as seções de ajuda para os pais"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Restaurar"})]}),e.jsxs("button",{onClick:T,disabled:a,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:a?"Salvando...":"Salvar"})]})]})]}),l&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Configurações de ajuda salvas com sucesso!"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"⚙️ Configurações Gerais"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.showHelpSections,onChange:n=>r({...s,showHelpSections:n.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Exibir seções de ajuda nos detalhes de recados/materiais"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"💡 Como funciona:"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Quando habilitado, os pais verão seções de ajuda com orientações e informações de contato ao visualizar recados, materiais e provas/tarefas."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:e.jsx(se,{className:"h-5 w-5 text-green-600"})}),'✅ "O que fazer agora?"']}),e.jsxs("button",{onClick:()=>R(!1),className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Adicionar Passo"})]})]}),e.jsxs("div",{className:"space-y-3",children:[s.helpSteps.map((n,C)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-green-600 font-bold text-sm",children:C+1})}),f===C?e.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:n,onChange:P=>d(C,P.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyPress:P=>{P.key==="Enter"&&y(null)},autoFocus:!0}),e.jsx("button",{onClick:()=>y(null),className:"p-1 text-green-600 hover:text-green-800",children:e.jsx(se,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-green-700 font-medium",children:n}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>y(C),className:"p-1 text-green-600 hover:text-green-800",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>b(C),className:"p-1 text-red-600 hover:text-red-800",children:e.jsx(xe,{className:"h-4 w-4"})})]})]})]},C)),e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 border-dashed border-green-300 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Ce,{className:"h-4 w-4 text-green-600"})}),e.jsx("input",{type:"text",value:g,onChange:n=>v(n.target.value),placeholder:"Digite um novo passo...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",onKeyPress:n=>{n.key==="Enter"&&u()}}),e.jsx("button",{onClick:u,disabled:!g.trim(),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:"Adicionar"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:e.jsx(os,{className:"h-5 w-5 text-blue-600"})}),'📞 "Precisa de Ajuda?" - Informações de Contato']}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 border-b border-gray-200 pb-2",children:"📋 Secretaria"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome/Título"}),e.jsx("input",{type:"text",value:s.contactInfo.secretaria.nome,onChange:n=>r({...s,contactInfo:{...s.contactInfo,secretaria:{...s.contactInfo.secretaria,nome:n.target.value}}}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.secretariaNome?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Secretaria, Atendimento"}),i.secretariaNome&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.secretariaNome})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),e.jsx("input",{type:"tel",value:s.contactInfo.secretaria.telefone,onChange:n=>r({...s,contactInfo:{...s.contactInfo,secretaria:{...s.contactInfo.secretaria,telefone:n.target.value}}}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.secretariaTelefone?"border-red-300":"border-gray-300"}`,placeholder:"(11) 1234-5678"}),i.secretariaTelefone&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.secretariaTelefone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail (opcional)"}),e.jsx("input",{type:"email",value:s.contactInfo.secretaria.email||"",onChange:n=>r({...s,contactInfo:{...s.contactInfo,secretaria:{...s.contactInfo.secretaria,email:n.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"secretaria@escola.com"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 border-b border-gray-200 pb-2",children:"👨‍💼 Coordenação"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome/Título"}),e.jsx("input",{type:"text",value:s.contactInfo.coordenacao.nome,onChange:n=>r({...s,contactInfo:{...s.contactInfo,coordenacao:{...s.contactInfo.coordenacao,nome:n.target.value}}}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.coordenacaoNome?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Coordenação, Direção"}),i.coordenacaoNome&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.coordenacaoNome})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),e.jsx("input",{type:"email",value:s.contactInfo.coordenacao.email,onChange:n=>r({...s,contactInfo:{...s.contactInfo,coordenacao:{...s.contactInfo.coordenacao,email:n.target.value}}}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.coordenacaoEmail?"border-red-300":"border-gray-300"}`,placeholder:"coord@escola.com"}),i.coordenacaoEmail&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:i.coordenacaoEmail})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone (opcional)"}),e.jsx("input",{type:"tel",value:s.contactInfo.coordenacao.telefone||"",onChange:n=>r({...s,contactInfo:{...s.contactInfo,coordenacao:{...s.contactInfo.coordenacao,telefone:n.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(11) 1234-5679"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(te,{className:"h-5 w-5 mr-2 text-purple-600"}),"⏰ Horários de Funcionamento"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funcionamento Geral"}),e.jsx("input",{type:"text",value:s.contactInfo.horario.funcionamento,onChange:n=>r({...s,contactInfo:{...s.contactInfo,horario:{...s.contactInfo.horario,funcionamento:n.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"7h às 17h"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Atendimento aos Pais (opcional)"}),e.jsx("input",{type:"text",value:s.contactInfo.horario.atendimento||"",onChange:n=>r({...s,contactInfo:{...s.contactInfo,horario:{...s.contactInfo.horario,atendimento:n.target.value}}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"8h às 12h e 14h às 16h"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(Pa,{className:"h-5 w-5 mr-2 text-indigo-600"}),"📍 Informações Adicionais"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço (opcional)"}),e.jsx("input",{type:"text",value:((w=s.contactInfo.endereco)==null?void 0:w.rua)||"",onChange:n=>{var C,P;return r({...s,contactInfo:{...s.contactInfo,endereco:{...s.contactInfo.endereco,rua:n.target.value,cidade:((C=s.contactInfo.endereco)==null?void 0:C.cidade)||"",cep:((P=s.contactInfo.endereco)==null?void 0:P.cep)||""}}})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Rua das Flores, 123"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website (opcional)"}),e.jsx("input",{type:"url",value:s.contactInfo.website||"",onChange:n=>r({...s,contactInfo:{...s.contactInfo,website:n.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://escola.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp (opcional)"}),e.jsx("input",{type:"tel",value:s.contactInfo.whatsapp||"",onChange:n=>r({...s,contactInfo:{...s.contactInfo,whatsapp:n.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:e.jsx(Le,{className:"h-5 w-5 text-purple-600"})}),"🎨 Seções Personalizadas"]}),e.jsxs("button",{onClick:()=>R(!0),className:"flex items-center space-x-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Nova Seção"})]})]}),e.jsxs("div",{className:"space-y-4",children:[s.customSections.map(n=>{var P;const C=((P=x.find(U=>U.value===n.color))==null?void 0:P.class)||"bg-gray-50 border-gray-200 text-gray-800";return e.jsx("div",{className:`p-4 border rounded-lg ${C}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:n.icon}),e.jsx("h4",{className:"font-medium",children:n.title})]}),e.jsx("p",{className:"text-sm opacity-90",children:n.content})]}),e.jsx("button",{onClick:()=>O(n.id),className:"p-1 text-red-600 hover:text-red-800 ml-2",children:e.jsx(xe,{className:"h-4 w-4"})})]})},n.id)}),s.customSections.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Le,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"Nenhuma seção personalizada criada"}),e.jsx("p",{className:"text-xs mt-1",children:'Clique em "Nova Seção" para adicionar'})]})]}),D&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nova Seção de Ajuda"}),e.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título"}),e.jsx("input",{type:"text",value:c.title,onChange:n=>k({...c,title:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Dúvidas Frequentes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conteúdo"}),e.jsx("textarea",{value:c.content,onChange:n=>k({...c,content:n.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Conteúdo da seção de ajuda..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ícone"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:_.map(n=>e.jsx("button",{onClick:()=>k({...c,icon:n}),className:`p-2 border rounded-lg text-center transition-colors ${c.icon===n?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("span",{className:"text-lg",children:n})},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:x.map(n=>e.jsx("button",{onClick:()=>k({...c,color:n.value}),className:`p-3 border rounded-lg text-center transition-colors ${c.color===n.value?`border-${n.value}-500 ${n.class}`:"border-gray-300 hover:border-gray-400"}`,children:e.jsx("span",{className:"text-sm font-medium",children:n.label})},n.value))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:p,disabled:!c.title.trim()||!c.content.trim(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:"Adicionar Seção"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:e.jsx(Ae,{className:"h-5 w-5 text-green-600"})}),"👁️ Preview - Como os Pais Verão"]}),s.showHelpSections?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl",children:[e.jsx("h4",{className:"text-lg font-bold text-green-800 mb-4 flex items-center",children:"✅ O que fazer agora?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.helpSteps.map((n,C)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 font-bold",children:C+1})}),e.jsx("p",{className:"text-sm text-green-700 font-medium",children:n})]},C))})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl",children:[e.jsx("h4",{className:"text-lg font-bold text-blue-800 mb-4 flex items-center",children:"📞 Precisa de Ajuda?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-full w-fit mx-auto mb-2",children:e.jsx(Le,{className:"h-6 w-6 text-blue-600"})}),e.jsx("p",{className:"text-sm font-medium text-blue-800",children:s.contactInfo.secretaria.nome}),e.jsx("p",{className:"text-xs text-blue-600",children:s.contactInfo.secretaria.telefone}),s.contactInfo.secretaria.email&&e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:s.contactInfo.secretaria.email})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-full w-fit mx-auto mb-2",children:e.jsx(ie,{className:"h-6 w-6 text-green-600"})}),e.jsx("p",{className:"text-sm font-medium text-green-800",children:s.contactInfo.coordenacao.nome}),e.jsx("p",{className:"text-xs text-green-600",children:s.contactInfo.coordenacao.email}),s.contactInfo.coordenacao.telefone&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.contactInfo.coordenacao.telefone})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-full w-fit mx-auto mb-2",children:e.jsx(te,{className:"h-6 w-6 text-purple-600"})}),e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Horário"}),e.jsx("p",{className:"text-xs text-purple-600",children:s.contactInfo.horario.funcionamento}),s.contactInfo.horario.atendimento&&e.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Atendimento: ",s.contactInfo.horario.atendimento]})]})]})]}),s.customSections.map(n=>{var P;const C=((P=x.find(U=>U.value===n.color))==null?void 0:P.class)||"bg-gray-50 border-gray-200 text-gray-800";return e.jsxs("div",{className:`p-6 border-2 rounded-xl ${C}`,children:[e.jsxs("h4",{className:"text-lg font-bold mb-4 flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:n.icon}),n.title]}),e.jsx("p",{className:"text-sm opacity-90",children:n.content})]},n.id)})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(sa,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium",children:"Seções de ajuda desabilitadas"}),e.jsx("p",{className:"text-sm mt-1",children:"Habilite acima para mostrar o preview"})]})]}),i.submit&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),i.submit]})})]})}const ue=[{id:"users_view",module:"Usuários",action:"view",label:"Visualizar usuários",description:"Ver lista de usuários do sistema"},{id:"users_create",module:"Usuários",action:"create",label:"Criar usuários",description:"Cadastrar novos usuários"},{id:"users_edit",module:"Usuários",action:"edit",label:"Editar usuários",description:"Modificar dados de usuários"},{id:"users_delete",module:"Usuários",action:"delete",label:"Excluir usuários",description:"Remover usuários do sistema"},{id:"students_view",module:"Alunos",action:"view",label:"Visualizar alunos",description:"Ver lista de alunos"},{id:"students_create",module:"Alunos",action:"create",label:"Criar alunos",description:"Cadastrar novos alunos"},{id:"students_edit",module:"Alunos",action:"edit",label:"Editar alunos",description:"Modificar dados de alunos"},{id:"students_delete",module:"Alunos",action:"delete",label:"Excluir alunos",description:"Remover alunos do sistema"},{id:"classes_view",module:"Turmas",action:"view",label:"Visualizar turmas",description:"Ver lista de turmas"},{id:"classes_create",module:"Turmas",action:"create",label:"Criar turmas",description:"Cadastrar novas turmas"},{id:"classes_edit",module:"Turmas",action:"edit",label:"Editar turmas",description:"Modificar dados de turmas"},{id:"classes_delete",module:"Turmas",action:"delete",label:"Excluir turmas",description:"Remover turmas do sistema"},{id:"subjects_view",module:"Disciplinas",action:"view",label:"Visualizar disciplinas",description:"Ver lista de disciplinas"},{id:"subjects_create",module:"Disciplinas",action:"create",label:"Criar disciplinas",description:"Cadastrar novas disciplinas"},{id:"subjects_edit",module:"Disciplinas",action:"edit",label:"Editar disciplinas",description:"Modificar dados de disciplinas"},{id:"subjects_delete",module:"Disciplinas",action:"delete",label:"Excluir disciplinas",description:"Remover disciplinas do sistema"},{id:"grades_view",module:"Notas",action:"view",label:"Visualizar notas",description:"Ver notas dos alunos"},{id:"grades_create",module:"Notas",action:"create",label:"Lançar notas",description:"Cadastrar novas notas"},{id:"grades_edit",module:"Notas",action:"edit",label:"Editar notas",description:"Modificar notas existentes"},{id:"grades_delete",module:"Notas",action:"delete",label:"Excluir notas",description:"Remover notas do sistema"},{id:"attendance_view",module:"Presença",action:"view",label:"Visualizar presença",description:"Ver registros de presença"},{id:"attendance_create",module:"Presença",action:"create",label:"Registrar presença",description:"Fazer chamada dos alunos"},{id:"attendance_edit",module:"Presença",action:"edit",label:"Editar presença",description:"Modificar registros de presença"},{id:"attendance_delete",module:"Presença",action:"delete",label:"Excluir presença",description:"Remover registros de presença"},{id:"materials_view",module:"Materiais",action:"view",label:"Visualizar materiais",description:"Ver materiais didáticos"},{id:"materials_create",module:"Materiais",action:"create",label:"Criar materiais",description:"Adicionar novos materiais"},{id:"materials_edit",module:"Materiais",action:"edit",label:"Editar materiais",description:"Modificar materiais existentes"},{id:"materials_delete",module:"Materiais",action:"delete",label:"Excluir materiais",description:"Remover materiais do sistema"},{id:"messages_view",module:"Recados",action:"view",label:"Visualizar recados",description:"Ver recados e comunicados"},{id:"messages_create",module:"Recados",action:"create",label:"Criar recados",description:"Enviar novos recados"},{id:"messages_edit",module:"Recados",action:"edit",label:"Editar recados",description:"Modificar recados existentes"},{id:"messages_delete",module:"Recados",action:"delete",label:"Excluir recados",description:"Remover recados do sistema"},{id:"reports_view",module:"Relatórios",action:"view",label:"Visualizar relatórios",description:"Acessar relatórios do sistema"},{id:"reports_create",module:"Relatórios",action:"create",label:"Gerar relatórios",description:"Criar novos relatórios"},{id:"reports_edit",module:"Relatórios",action:"edit",label:"Editar relatórios",description:"Modificar relatórios existentes"},{id:"reports_delete",module:"Relatórios",action:"delete",label:"Excluir relatórios",description:"Remover relatórios salvos"},{id:"settings_view",module:"Configurações",action:"view",label:"Visualizar configurações",description:"Acessar configurações do sistema"},{id:"settings_create",module:"Configurações",action:"create",label:"Criar configurações",description:"Adicionar novas configurações"},{id:"settings_edit",module:"Configurações",action:"edit",label:"Editar configurações",description:"Modificar configurações do sistema"},{id:"settings_delete",module:"Configurações",action:"delete",label:"Excluir configurações",description:"Remover configurações"},{id:"audit_view",module:"Auditoria",action:"view",label:"Visualizar auditoria",description:"Acessar logs de auditoria"},{id:"audit_create",module:"Auditoria",action:"create",label:"Criar logs",description:"Gerar logs de auditoria"},{id:"audit_edit",module:"Auditoria",action:"edit",label:"Editar logs",description:"Modificar logs de auditoria"},{id:"audit_delete",module:"Auditoria",action:"delete",label:"Excluir logs",description:"Remover logs de auditoria"}],ia=[{id:"admin",name:"Administrador",description:"Acesso total ao sistema. Pode gerenciar todos os módulos e usuários.",icon:"👑",color:"purple",permissions:ue.map(s=>s.id),isCustom:!1,userCount:0},{id:"professor",name:"Professor",description:"Acesso às suas turmas e alunos. Pode lançar notas e controlar presença.",icon:"👨‍🏫",color:"green",permissions:["students_view","classes_view","subjects_view","grades_view","grades_create","grades_edit","attendance_view","attendance_create","attendance_edit","materials_view","materials_create","materials_edit","messages_view","messages_create","messages_edit"],isCustom:!1,userCount:0},{id:"pai",name:"Pai/Responsável",description:"Acesso limitado aos dados dos filhos. Pode visualizar notas, agenda e recados.",icon:"👨‍👩‍👧‍👦",color:"blue",permissions:["students_view","classes_view","subjects_view","grades_view","attendance_view","materials_view","messages_view"],isCustom:!1,userCount:0}],mt=["👑","👨‍🏫","👨‍👩‍👧‍👦","📋","🏢","📞","📊","🔧","📚","🎯","⚙️","🛡️"],na=[{value:"blue",label:"Azul",class:"bg-blue-100 text-blue-800 border-blue-200"},{value:"green",label:"Verde",class:"bg-green-100 text-green-800 border-green-200"},{value:"purple",label:"Roxo",class:"bg-purple-100 text-purple-800 border-purple-200"},{value:"yellow",label:"Amarelo",class:"bg-yellow-100 text-yellow-800 border-yellow-200"},{value:"red",label:"Vermelho",class:"bg-red-100 text-red-800 border-red-200"},{value:"indigo",label:"Índigo",class:"bg-indigo-100 text-indigo-800 border-indigo-200"},{value:"pink",label:"Rosa",class:"bg-pink-100 text-pink-800 border-pink-200"},{value:"gray",label:"Cinza",class:"bg-gray-100 text-gray-800 border-gray-200"}];function xt(){const{user:s}=ke(),{isSupabaseConnected:r}=ke(),a=Ie(s,r),[t,l]=h.useState("categorias"),[o,i]=h.useState(ia),[m,f]=h.useState([]),[y,g]=h.useState([]),[v,D]=h.useState(!0),[R,c]=h.useState(""),[k,N]=h.useState({}),[T,j]=h.useState(!1),[u,d]=h.useState(!1),[b,p]=h.useState(null),[O,_]=h.useState(null),[x,w]=h.useState({name:"",description:"",icon:"📋",color:"blue",permissions:[],copyFromCategory:""}),[n,C]=h.useState({busca:"",categoria:"",status:""});h.useEffect(()=>{P(),U(),B()},[]),h.useEffect(()=>{const S=()=>{I()};return window.addEventListener("openNewCategoryModal",S),()=>{window.removeEventListener("openNewCategoryModal",S)}},[]);const P=async()=>{try{const S=await a.getUsuarios();f(S),M(S)}catch(S){console.error("Erro ao carregar dados:",S)}finally{D(!1)}},U=()=>{const S=localStorage.getItem("userCategories");if(S)try{const $=JSON.parse(S);i([...ia,...$.filter(G=>G.isCustom)])}catch($){console.error("Erro ao carregar categorias:",$)}},B=()=>{const S=localStorage.getItem("userPermissionOverrides");if(S)try{g(JSON.parse(S))}catch($){console.error("Erro ao carregar overrides:",$)}},q=()=>{const S=o.filter($=>$.isCustom);localStorage.setItem("userCategories",JSON.stringify(S))},M=S=>{i($=>$.map(G=>({...G,userCount:S.filter(K=>K.tipo_usuario===G.id).length})))},I=()=>{w({name:"",description:"",icon:"📋",color:"blue",permissions:[],copyFromCategory:""}),p(null),j(!0)},L=S=>{w({name:S.name,description:S.description,icon:S.icon,color:S.color,permissions:[...S.permissions],copyFromCategory:""}),p(S),j(!0)},F=()=>{if(!x.name.trim()){N({categoryName:"Nome da categoria é obrigatório"});return}if(o.find($=>$.name.toLowerCase()===x.name.toLowerCase()&&$.id!==(b==null?void 0:b.id))){N({categoryName:"Já existe uma categoria com este nome"});return}if(b)i($=>$.map(G=>G.id===b.id?{...G,name:x.name,description:x.description,icon:x.icon,color:x.color,permissions:x.permissions}:G));else{const $={id:`custom_${Date.now()}`,name:x.name,description:x.description,icon:x.icon,color:x.color,permissions:x.permissions,isCustom:!0,userCount:0};i(G=>[...G,$])}q(),j(!1),N({}),c(b?"Categoria atualizada com sucesso!":"Categoria criada com sucesso!"),setTimeout(()=>c(""),3e3)},A=S=>{const $=o.find(G=>G.id===S);if($){if(!$.isCustom){alert("Não é possível excluir categorias padrão do sistema.");return}if($.userCount>0){alert(`Não é possível excluir a categoria "${$.name}" pois há ${$.userCount} usuário(s) vinculado(s).`);return}confirm(`Tem certeza que deseja excluir a categoria "${$.name}"?`)&&(i(G=>G.filter(K=>K.id!==S)),q(),c("Categoria excluída com sucesso!"),setTimeout(()=>c(""),3e3))}},z=S=>{const $=o.find(G=>G.id===S);$&&w(G=>({...G,permissions:[...$.permissions]}))},H=S=>{w($=>({...$,permissions:$.permissions.includes(S)?$.permissions.filter(G=>G!==S):[...$.permissions,S]}))},Y=S=>{w($=>({...$,permissions:S?ue.map(G=>G.id):[]}))},me=(S,$)=>{const G=ue.filter(K=>K.module===S).map(K=>K.id);w(K=>({...K,permissions:$?[...K.permissions.filter(as=>!G.includes(as)),...G]:K.permissions.filter(as=>!G.includes(as))}))},Re=S=>{const $=ue.filter(K=>K.module===S);return{active:$.filter(K=>x.permissions.includes(K.id)).length,total:$.length}},Z=S=>{const $=na.find(G=>G.value===S);return($==null?void 0:$.class)||"bg-gray-100 text-gray-800 border-gray-200"},qe=S=>{switch(S){case"view":return e.jsx(Ae,{className:"h-3 w-3"});case"create":return e.jsx(Ce,{className:"h-3 w-3"});case"edit":return e.jsx(Ee,{className:"h-3 w-3"});case"delete":return e.jsx(xe,{className:"h-3 w-3"});default:return e.jsx(oe,{className:"h-3 w-3"})}},es=S=>{switch(S){case"view":return"text-blue-600";case"create":return"text-green-600";case"edit":return"text-yellow-600";case"delete":return"text-red-600";default:return"text-gray-600"}},ps=m.filter(S=>{const $=!n.busca||S.nome.toLowerCase().includes(n.busca.toLowerCase())||S.email.toLowerCase().includes(n.busca.toLowerCase()),G=!n.categoria||S.tipo_usuario===n.categoria,K=!n.status||n.status==="ativo"&&S.ativo||n.status==="inativo"&&!S.ativo;return $&&G&&K}),ss=[...new Set(ue.map(S=>S.module))];return v?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:e.jsx(he,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"🔐 Gestão de Permissões"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Controle total de acesso ao sistema"})]})]}),e.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Nova Categoria"})]})]}),R&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:R})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"categorias",label:"Categorias de Usuário",icon:he},{id:"usuarios",label:"Usuários",icon:W},{id:"permissoes",label:"Todas as Permissões",icon:oe}].map(S=>{const $=S.icon;return e.jsx("button",{onClick:()=>l(S.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===S.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{children:S.label})]})},S.id)})})}),e.jsxs("div",{className:"p-6",children:[t==="categorias"&&e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(S=>e.jsxs("div",{className:`border-2 rounded-xl p-6 transition-all hover:shadow-lg ${Z(S.color)}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:S.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:S.name}),e.jsxs("p",{className:"text-sm opacity-75",children:[S.userCount," usuários"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>L(S),className:"p-1 hover:bg-white hover:bg-opacity-50 rounded transition-colors",children:e.jsx(Ee,{className:"h-4 w-4"})}),S.isCustom&&e.jsx("button",{onClick:()=>A(S.id),className:"p-1 hover:bg-white hover:bg-opacity-50 rounded transition-colors",children:e.jsx(xe,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-sm opacity-90 mb-4 line-clamp-2",children:S.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Permissões:"}),e.jsxs("span",{className:"text-sm font-bold",children:[S.permissions.length,"/",ue.length]})]}),e.jsx("div",{className:"w-full bg-white bg-opacity-50 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${S.permissions.length/ue.length*100}%`,backgroundColor:S.color==="yellow"?"#f59e0b":S.color==="blue"?"#3b82f6":S.color==="green"?"#10b981":S.color==="purple"?"#8b5cf6":S.color==="red"?"#ef4444":"#6b7280"}})})]}),!S.isCustom&&e.jsx("div",{className:"mt-3 pt-3 border-t border-white border-opacity-30",children:e.jsx("span",{className:"text-xs font-medium opacity-75",children:"🔒 Categoria padrão do sistema"})})]},S.id))})}),t==="usuarios"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ze,{className:"h-5 w-5 text-gray-500"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar usuários...",value:n.busca,onChange:S=>C({...n,busca:S.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("select",{value:n.categoria,onChange:S=>C({...n,categoria:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todas as categorias"}),o.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]}),e.jsxs("select",{value:n.status,onChange:S=>C({...n,status:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todos os status"}),e.jsx("option",{value:"ativo",children:"Ativo"}),e.jsx("option",{value:"inativo",children:"Inativo"})]})]})]}),e.jsx("div",{className:"space-y-4",children:ps.map(S=>{const $=o.find(K=>K.id===S.tipo_usuario),G=y.some(K=>K.userId===S.id);return e.jsx("div",{className:`border-2 rounded-xl p-4 transition-all hover:shadow-md ${G?"border-yellow-300 bg-yellow-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:S.nome.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:S.nome}),e.jsx("p",{className:"text-sm text-gray-500",children:S.email}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[$&&e.jsxs("span",{className:`px-2 py-1 text-xs rounded-full border ${Z($.color)}`,children:[$.icon," ",$.name]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.ativo?"Ativo":"Inativo"}),G&&e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800",children:"⚙️ Personalizado"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[$&&e.jsxs("div",{className:"text-right mr-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[$.permissions.length," permissões"]}),e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${G?"bg-yellow-500":"bg-green-500"}`,style:{width:`${$.permissions.length/ue.length*100}%`}})})]}),e.jsxs("button",{onClick:()=>{_(S),d(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{children:"Configurar"})]})]})]})},S.id)})})]}),t==="permissoes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["📋 Todas as Permissões do Sistema (",ue.length,")"]}),ss.map(S=>{const $=ue.filter(G=>G.module===S);return e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsxs("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:[S==="Usuários"&&e.jsx(W,{className:"h-5 w-5 text-blue-600"}),S==="Alunos"&&e.jsx(ne,{className:"h-5 w-5 text-blue-600"}),S==="Turmas"&&e.jsx(W,{className:"h-5 w-5 text-blue-600"}),S==="Disciplinas"&&e.jsx(ee,{className:"h-5 w-5 text-blue-600"}),S==="Notas"&&e.jsx(fe,{className:"h-5 w-5 text-blue-600"}),S==="Presença"&&e.jsx(aa,{className:"h-5 w-5 text-blue-600"}),S==="Materiais"&&e.jsx(fe,{className:"h-5 w-5 text-blue-600"}),S==="Recados"&&e.jsx(Le,{className:"h-5 w-5 text-blue-600"}),S==="Relatórios"&&e.jsx(be,{className:"h-5 w-5 text-blue-600"}),S==="Configurações"&&e.jsx(oe,{className:"h-5 w-5 text-blue-600"}),S==="Auditoria"&&e.jsx(ve,{className:"h-5 w-5 text-blue-600"})]}),S]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(G=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:`p-1 rounded ${es(G.action)}`,children:qe(G.action)}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:G.label}),e.jsx("p",{className:"text-xs text-gray-500",children:G.description})]})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",G.id]})]},G.id))})]},S)})]})]})]}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b?"Editar Categoria":"Nova Categoria de Usuário"}),e.jsx("button",{onClick:()=>{j(!1),N({})},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Categoria *"}),e.jsx("input",{type:"text",value:x.name,onChange:S=>w({...x,name:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${k.categoryName?"border-red-300":"border-gray-300"}`,placeholder:"Ex: Secretaria, Coordenação"}),k.categoryName&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:k.categoryName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Copiar Permissões de:"}),e.jsxs("select",{value:x.copyFromCategory,onChange:S=>{w({...x,copyFromCategory:S.target.value}),S.target.value&&z(S.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione uma categoria base"}),o.filter(S=>S.id!==(b==null?void 0:b.id)).map(S=>e.jsxs("option",{value:S.id,children:[S.icon," ",S.name]},S.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),e.jsx("textarea",{value:x.description,onChange:S=>w({...x,description:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Descreva as responsabilidades e acesso desta categoria..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ícone"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:mt.map(S=>e.jsx("button",{onClick:()=>w({...x,icon:S}),className:`p-3 border rounded-lg text-center transition-colors ${x.icon===S?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("span",{className:"text-xl",children:S})},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:na.map(S=>e.jsx("button",{onClick:()=>w({...x,color:S.value}),className:`p-3 border rounded-lg text-center transition-colors ${x.color===S.value?`border-${S.value}-500 ${S.class}`:"border-gray-300 hover:border-gray-400"}`,children:e.jsx("span",{className:"text-sm font-medium",children:S.label})},S.value))})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),e.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-2 rounded-lg border ${Z(x.color)}`,children:[e.jsx("span",{className:"text-lg",children:x.icon}),e.jsx("span",{className:"font-medium",children:x.name||"Nome da Categoria"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:["Configurar Permissões (",x.permissions.length,"/",ue.length,")"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>Y(!0),className:"px-3 py-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm",children:"Todas"}),e.jsx("button",{onClick:()=>Y(!1),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",children:"Nenhuma"})]})]}),e.jsx("div",{className:"space-y-4",children:ss.map(S=>{const $=ue.filter(Te=>Te.module===S),{active:G,total:K}=Re(S),as=G===K,lr=G===0;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"p-2 bg-blue-100 rounded-lg",children:[S==="Usuários"&&e.jsx(W,{className:"h-4 w-4 text-blue-600"}),S==="Alunos"&&e.jsx(ne,{className:"h-4 w-4 text-blue-600"}),S==="Turmas"&&e.jsx(W,{className:"h-4 w-4 text-blue-600"}),S==="Disciplinas"&&e.jsx(ee,{className:"h-4 w-4 text-blue-600"}),S==="Notas"&&e.jsx(fe,{className:"h-4 w-4 text-blue-600"}),S==="Presença"&&e.jsx(aa,{className:"h-4 w-4 text-blue-600"}),S==="Materiais"&&e.jsx(fe,{className:"h-4 w-4 text-blue-600"}),S==="Recados"&&e.jsx(Le,{className:"h-4 w-4 text-blue-600"}),S==="Relatórios"&&e.jsx(be,{className:"h-4 w-4 text-blue-600"}),S==="Configurações"&&e.jsx(oe,{className:"h-4 w-4 text-blue-600"}),S==="Auditoria"&&e.jsx(ve,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:S}),e.jsxs("p",{className:"text-sm text-gray-500",children:[G,"/",K," permissões"]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>me(S,!0),disabled:as,className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs hover:bg-green-200 transition-colors disabled:opacity-50",children:"Todas"}),e.jsx("button",{onClick:()=>me(S,!1),disabled:lr,className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs hover:bg-red-200 transition-colors disabled:opacity-50",children:"Nenhuma"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${G/K*100}%`}})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:$.map(Te=>e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.permissions.includes(Te.id),onChange:()=>H(Te.id),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("div",{className:`p-1 rounded ${es(Te.action)}`,children:qe(Te.action)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:Te.label}),e.jsx("div",{className:"text-xs text-gray-500",children:Te.description})]})]},Te.id))})]},S)})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{j(!1),N({})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:F,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:b?"Salvar Alterações":"Criar Categoria"})]})]})}),u&&O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:O.nome.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Configurar Permissões - ",O.nome]}),e.jsx("p",{className:"text-sm text-gray-500",children:O.email})]})]}),e.jsx("button",{onClick:()=>{d(!1),_(null)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(oe,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium",children:"Configuração Individual de Usuário"}),e.jsx("p",{className:"text-sm mt-2",children:"Esta funcionalidade será implementada em breve"})]})})]})})]})}const Rs={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DEBUG_REALTIME:"true",VITE_DISCLOUD_API_TOKEN:"eyJhbGciOiJIUzI1NiJ9.eyJpZCI6IjY2NTgyMzE3OTkyNzkiLCJrZXkiOiJhYTZhY2U2N2E5ZWM2ODgxMzI5YTY4ZDY5N2Q1In0.VxMi_B1Gl3qDa90_y5Lq4QYq_g58xz6_shavp3OWOUw",VITE_DISCLOUD_APP_ID:"objsys-sistema",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF2aW50eG16dHJ5dmxpdndqZW96Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc2Mzg1NjgsImV4cCI6MjA3MzIxNDU2OH0.Mst-TNs_7_DUS4zrJRYdnJFLG4X813w_7AYp1MbTBDM",VITE_SUPABASE_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF2aW50eG16dHJ5dmxpdndqZW96Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NzYzODU2OCwiZXhwIjoyMDczMjE0NTY4fQ.6sxxx_RZYX8LSMmDQ_KIspDAnJ9qViuegMfdeybGi4M",VITE_SUPABASE_URL:"https://qvintxmztryvlivwjeoz.supabase.co"},ut=Rs==null?void 0:Rs.VITE_API_BASE_URL;function ht(s){if(!s)return"";const r=s.trim();return r?r.endsWith("/")?r.slice(0,-1):r:""}const pt=ht(ut);function gt(s,r){const a=r.startsWith("/")?r:`/${r}`;return s?`${s}${a}`:a}function bt(s){return gt(pt,s)}function Je(s,r){return fetch(bt(s),r)}function ft(){const[s,r]=h.useState({connected:!1,status:"disconnected",timestamp:new Date().toISOString(),provider:"WhatsApp Web (Puppeteer)"}),[a,t]=h.useState(!1),[l,o]=h.useState(!1),[i,m]=h.useState(!1),[f,y]=h.useState(""),[g,v]=h.useState(""),[D,R]=h.useState(""),[c,k]=h.useState(""),[N,T]=h.useState(""),[j,u]=h.useState(""),[d,b]=h.useState(5e3),[p,O]=h.useState(null),[_,x]=h.useState(!1);h.useState(!1);const[w,n]=h.useState("individual");h.useEffect(()=>{C();const F=setInterval(C,1e4);return()=>clearInterval(F)},[]);const C=async()=>{try{const F=await Je("/api/whatsapp/status");if(!F.ok)throw new Error(`API retornou status ${F.status}`);const A=await F.json();r(A),y("")}catch(F){console.error("Erro ao verificar status:",F),y(`Erro ao verificar status da API WhatsApp:

${F.message}`),r(A=>({...A,connected:!1,status:"error",lastError:F.message}))}},P=async()=>{o(!0),y(""),v("");try{const F=await Je("/api/whatsapp/connect",{method:"POST",headers:{"Content-Type":"application/json"}}),A=await F.json();if(F.ok){if(r(A),v(A.connected?"Z-API conectado com sucesso!":"Z-API verificado - aguardando conexão"),!A.connected){const z=setInterval(async()=>{const H=await Je("/api/whatsapp/status"),Y=await H.json();H.ok&&(r(Y),Y.connected&&(v("WhatsApp Web conectado com sucesso!"),clearInterval(z)))},3e3);setTimeout(()=>clearInterval(z),12e4)}}else throw new Error(A.error||"Erro ao conectar Z-API")}catch(F){console.error("Erro ao conectar:",F),y(`Erro ao conectar WhatsApp Web:

${F.message}`)}finally{o(!1)}},U=async()=>{t(!0),y("");try{const A=await(await Je("/api/whatsapp/disconnect",{method:"POST",headers:{"Content-Type":"application/json"}})).json();r(z=>({...z,connected:!1,status:"disconnected",qrCode:null})),v("Z-API desconectado com sucesso!")}catch(F){console.error("Erro ao desconectar:",F),y(`Erro ao desconectar:

${F.message}`)}finally{t(!1)}},B=async()=>{if(!D.trim()||!c.trim()){y("Preencha o número e a mensagem");return}m(!0),y(""),v("");try{const F=D.replace(/\D/g,""),A=await Je("/api/whatsapp/send-message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:F,message:c})}),z=await A.json();if(A.ok&&z.success)v(`Mensagem enviada com sucesso para ${D}!`),R(""),k("");else throw new Error(z.error||"Erro ao enviar mensagem")}catch(F){console.error("Erro ao enviar mensagem:",F),y(`Erro ao enviar mensagem:

${F.message}`)}finally{m(!1)}},q=async()=>{const F=N.split(`
`).filter(A=>A.trim());if(F.length===0||!j.trim()){y("Preencha a lista de números e a mensagem");return}if(F.length>50){y("Máximo de 50 números por envio em massa");return}m(!0),y(""),v("");try{const A=F.map(Y=>Y.replace(/\D/g,"")),z=await Je("/api/whatsapp/send-bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({numbers:A,message:j,delay:d})}),H=await z.json();if(z.ok)O(H),x(!0),n("resultados"),v(`Envio concluído: ${H.sucessos} sucessos, ${H.falhas} falhas`),T(""),u("");else throw new Error(H.error||"Erro no envio em massa")}catch(A){console.error("Erro no envio em massa:",A),y(`Erro no envio em massa:

${A.message}`)}finally{m(!1)}},M=()=>{switch(s.status){case"connected":return"text-green-600 bg-green-100";case"connecting":case"qr_code":return"text-yellow-600 bg-yellow-100";case"disconnected":return"text-gray-600 bg-gray-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},I=()=>{switch(s.status){case"connected":return e.jsx(X,{className:"h-4 w-4"});case"connecting":case"qr_code":return e.jsx(te,{className:"h-4 w-4"});case"disconnected":return e.jsx(Me,{className:"h-4 w-4"});case"error":return e.jsx(ye,{className:"h-4 w-4"});default:return e.jsx(Me,{className:"h-4 w-4"})}},L=()=>{switch(s.status){case"connected":return"Conectado";case"connecting":return"Conectando...";case"qr_code":return"Aguardando QR Code";case"disconnected":return"Desconectado";case"error":return"Erro";default:return"Desconhecido"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:e.jsx(ns,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"📱 WhatsApp Business"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Comunicação direta com WhatsApp Web"})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:C,disabled:a,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(Pe,{className:`h-4 w-4 ${a?"animate-spin":""}`}),e.jsx("span",{children:"Atualizar Status"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(qr,{className:"h-6 w-6 mr-3 text-blue-600"}),"Status da Conexão WhatsApp Web"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-full text-sm font-medium ${M()}`,children:[I(),e.jsx("span",{children:L()})]}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleTimeString("pt-BR")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Plataforma:"}),e.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:"Z-API"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Método:"}),e.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:"API REST"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Instância:"}),e.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:"3E77C41E...920B85"})]})]}),e.jsx("div",{className:"text-center",children:s.connected?e.jsxs("div",{className:"p-6 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(X,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold text-green-800",children:"Z-API Conectado!"}),e.jsx("p",{className:"text-sm text-green-600",children:"Pronto para enviar mensagens"})]}):e.jsxs("div",{className:"p-6 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx(Hs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Z-API Desconectado"}),e.jsx("p",{className:"text-sm text-gray-500",children:'Clique em "Conectar" para verificar status'})]})})]}),e.jsx("div",{className:"mt-6 flex justify-center space-x-4",children:s.connected?e.jsxs("button",{onClick:U,disabled:a,className:"flex items-center space-x-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[e.jsx(Lr,{className:"h-5 w-5"}),e.jsx("span",{children:a?"Desconectando...":"Desconectar"})]}):e.jsxs("button",{onClick:P,disabled:l,className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 shadow-lg",children:[e.jsx(Or,{className:"h-5 w-5"}),e.jsx("span",{children:l?"Conectando...":"Conectar Z-API"})]})})]}),f&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2 text-red-700",children:[e.jsx(ye,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Erro"}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:f})]})]})}),g&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:g})]})}),s.connected&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>n("individual"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${w==="individual"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx("span",{children:"Envio Individual"})]})}),e.jsx("button",{onClick:()=>n("massa"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${w==="massa"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:"Envio em Massa"})]})}),p&&e.jsx("button",{onClick:()=>n("resultados"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${w==="resultados"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ns,{className:"h-4 w-4"}),e.jsx("span",{children:"Resultados"})]})})]})}),e.jsxs("div",{className:"p-6",children:[w==="individual"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📱 Envio Individual"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número do WhatsApp"}),e.jsx("input",{type:"tel",value:D,onChange:F=>R(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"(11) 99999-9999"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: (11) 99999-9999 ou 11999999999"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),e.jsx("textarea",{value:c,onChange:F=>k(F.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Digite sua mensagem aqui..."}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.length,"/1000 caracteres"]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:B,disabled:i||!D.trim()||!c.trim(),className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[e.jsx(Aa,{className:"h-5 w-5"}),e.jsx("span",{children:i?"Enviando...":"Enviar Mensagem"})]})})]}),w==="massa"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📢 Envio em Massa"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lista de Números (um por linha)"}),e.jsx("textarea",{value:N,onChange:F=>T(F.target.value),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:`(11) 99999-9999
(11) 88888-8888
(11) 77777-7777`}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[N.split(`
`).filter(F=>F.trim()).length," números • Máximo: 50"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),e.jsx("textarea",{value:j,onChange:F=>u(F.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Digite a mensagem que será enviada para todos..."}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j.length,"/1000 caracteres"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intervalo entre Mensagens (ms)"}),e.jsxs("select",{value:d,onChange:F=>b(parseInt(F.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:3e3,children:"3 segundos (Rápido)"}),e.jsx("option",{value:5e3,children:"5 segundos (Recomendado)"}),e.jsx("option",{value:8e3,children:"8 segundos (Seguro)"}),e.jsx("option",{value:1e4,children:"10 segundos (Muito Seguro)"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tempo estimado: ",Math.ceil(N.split(`
`).filter(F=>F.trim()).length*d/1e3),"s"]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:q,disabled:i||N.split(`
`).filter(F=>F.trim()).length===0||!j.trim(),className:"flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[e.jsx(W,{className:"h-5 w-5"}),e.jsx("span",{children:i?"Enviando em Massa...":`Enviar para ${N.split(`
`).filter(F=>F.trim()).length} Números`})]})})]}),w==="resultados"&&p&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"📊 Resultados do Envio em Massa"}),e.jsxs("button",{onClick:()=>{const F=["Número,Status,Mensagem",...p.results.map(Y=>`"${Y.number}","${Y.success?"Sucesso":"Erro"}","${Y.message||Y.error||""}"`)].join(`
`),A=new Blob([F],{type:"text/csv"}),z=URL.createObjectURL(A),H=document.createElement("a");H.href=z,H.download=`whatsapp_results_${new Date().toISOString().split("T")[0]}.csv`,H.click(),URL.revokeObjectURL(z)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx("span",{children:"Exportar CSV"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:p.total})]}),e.jsx(W,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Sucessos"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:p.sucessos})]}),e.jsx(X,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Falhas"}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:p.falhas})]}),e.jsx(Me,{className:"h-8 w-8 text-red-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Taxa de Sucesso"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[(p.sucessos/p.total*100).toFixed(1),"%"]})]}),e.jsx(X,{className:"h-8 w-8 text-purple-600"})]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Detalhes por Número"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:p.results.map((F,A)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${F.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[F.success?e.jsx(X,{className:"h-4 w-4 text-green-600"}):e.jsx(Me,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:F.number})]}),e.jsx("span",{className:`text-sm ${F.success?"text-green-700":"text-red-700"}`,children:F.success?"Enviado":F.error})]},A))})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[e.jsx(je,{className:"h-5 w-5 mr-2"}),"📋 Como Usar o Z-API"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"🔗 Primeira Conexão:"}),e.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:'Clique em "Conectar Z-API"'}),e.jsx("li",{children:"Sistema verifica status da instância"}),e.jsx("li",{children:"Certifique-se que o WhatsApp está conectado na instância Z-API"}),e.jsx("li",{children:"Aguarde a confirmação de conexão"}),e.jsx("li",{children:"Pronto! Agora pode enviar mensagens"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📱 Envio de Mensagens:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Teste primeiro com envio individual"}),e.jsx("li",{children:"Use envio em massa para comunicados"}),e.jsx("li",{children:"Respeite o intervalo entre mensagens"}),e.jsx("li",{children:"Máximo de 50 números por vez"}),e.jsx("li",{children:'Monitore os resultados na aba "Resultados"'})]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ye,{className:"h-6 w-6 text-yellow-600"}),e.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"⚠️ Avisos Importantes"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"🚨 Limitações do Z-API:"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• Não envie spam ou mensagens não solicitadas"}),e.jsx("li",{children:"• Respeite os limites de envio da plataforma"}),e.jsx("li",{children:"• Use intervalos adequados entre mensagens"}),e.jsx("li",{children:"• Instância pode ser suspensa por uso inadequado"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"💡 Boas Práticas:"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• Teste sempre com poucos números primeiro"}),e.jsx("li",{children:"• Use mensagens personalizadas e relevantes"}),e.jsx("li",{children:"• Mantenha a instância Z-API ativa durante o envio"}),e.jsx("li",{children:"• Monitore os resultados e ajuste conforme necessário"})]})]})]})]})]})}function Fa(s,r){return function(){return s.apply(r,arguments)}}const{toString:jt}=Object.prototype,{getPrototypeOf:Ys}=Object,{iterator:Ss,toStringTag:La}=Symbol,ks=(s=>r=>{const a=jt.call(r);return s[a]||(s[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ne=s=>(s=s.toLowerCase(),r=>ks(r)===s),Es=s=>r=>typeof r===s,{isArray:Xe}=Array,Ze=Es("undefined");function ms(s){return s!==null&&!Ze(s)&&s.constructor!==null&&!Ze(s.constructor)&&ce(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Oa=Ne("ArrayBuffer");function vt(s){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(s):r=s&&s.buffer&&Oa(s.buffer),r}const yt=Es("string"),ce=Es("function"),Ua=Es("number"),xs=s=>s!==null&&typeof s=="object",Nt=s=>s===!0||s===!1,fs=s=>{if(ks(s)!=="object")return!1;const r=Ys(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(La in s)&&!(Ss in s)},wt=s=>{if(!xs(s)||ms(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Ct=Ne("Date"),St=Ne("File"),kt=Ne("Blob"),Et=Ne("FileList"),At=s=>xs(s)&&ce(s.pipe),Tt=s=>{let r;return s&&(typeof FormData=="function"&&s instanceof FormData||ce(s.append)&&((r=ks(s))==="formdata"||r==="object"&&ce(s.toString)&&s.toString()==="[object FormData]"))},_t=Ne("URLSearchParams"),[Dt,Rt,Pt,It]=["ReadableStream","Request","Response","Headers"].map(Ne),Mt=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function us(s,r,{allOwnKeys:a=!1}={}){if(s===null||typeof s>"u")return;let t,l;if(typeof s!="object"&&(s=[s]),Xe(s))for(t=0,l=s.length;t<l;t++)r.call(null,s[t],t,s);else{if(ms(s))return;const o=a?Object.getOwnPropertyNames(s):Object.keys(s),i=o.length;let m;for(t=0;t<i;t++)m=o[t],r.call(null,s[m],m,s)}}function Ba(s,r){if(ms(s))return null;r=r.toLowerCase();const a=Object.keys(s);let t=a.length,l;for(;t-- >0;)if(l=a[t],r===l.toLowerCase())return l;return null}const Fe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,za=s=>!Ze(s)&&s!==Fe;function Us(){const{caseless:s,skipUndefined:r}=za(this)&&this||{},a={},t=(l,o)=>{const i=s&&Ba(a,o)||o;fs(a[i])&&fs(l)?a[i]=Us(a[i],l):fs(l)?a[i]=Us({},l):Xe(l)?a[i]=l.slice():(!r||!Ze(l))&&(a[i]=l)};for(let l=0,o=arguments.length;l<o;l++)arguments[l]&&us(arguments[l],t);return a}const Ft=(s,r,a,{allOwnKeys:t}={})=>(us(r,(l,o)=>{a&&ce(l)?s[o]=Fa(l,a):s[o]=l},{allOwnKeys:t}),s),Lt=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Ot=(s,r,a,t)=>{s.prototype=Object.create(r.prototype,t),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:r.prototype}),a&&Object.assign(s.prototype,a)},Ut=(s,r,a,t)=>{let l,o,i;const m={};if(r=r||{},s==null)return r;do{for(l=Object.getOwnPropertyNames(s),o=l.length;o-- >0;)i=l[o],(!t||t(i,s,r))&&!m[i]&&(r[i]=s[i],m[i]=!0);s=a!==!1&&Ys(s)}while(s&&(!a||a(s,r))&&s!==Object.prototype);return r},Bt=(s,r,a)=>{s=String(s),(a===void 0||a>s.length)&&(a=s.length),a-=r.length;const t=s.indexOf(r,a);return t!==-1&&t===a},zt=s=>{if(!s)return null;if(Xe(s))return s;let r=s.length;if(!Ua(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=s[r];return a},$t=(s=>r=>s&&r instanceof s)(typeof Uint8Array<"u"&&Ys(Uint8Array)),qt=(s,r)=>{const t=(s&&s[Ss]).call(s);let l;for(;(l=t.next())&&!l.done;){const o=l.value;r.call(s,o[0],o[1])}},Gt=(s,r)=>{let a;const t=[];for(;(a=s.exec(r))!==null;)t.push(a);return t},Vt=Ne("HTMLFormElement"),Ht=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,t,l){return t.toUpperCase()+l}),ca=(({hasOwnProperty:s})=>(r,a)=>s.call(r,a))(Object.prototype),Jt=Ne("RegExp"),$a=(s,r)=>{const a=Object.getOwnPropertyDescriptors(s),t={};us(a,(l,o)=>{let i;(i=r(l,o,s))!==!1&&(t[o]=i||l)}),Object.defineProperties(s,t)},Wt=s=>{$a(s,(r,a)=>{if(ce(s)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const t=s[a];if(ce(t)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Yt=(s,r)=>{const a={},t=l=>{l.forEach(o=>{a[o]=!0})};return Xe(s)?t(s):t(String(s).split(r)),a},Zt=()=>{},Kt=(s,r)=>s!=null&&Number.isFinite(s=+s)?s:r;function Xt(s){return!!(s&&ce(s.append)&&s[La]==="FormData"&&s[Ss])}const Qt=s=>{const r=new Array(10),a=(t,l)=>{if(xs(t)){if(r.indexOf(t)>=0)return;if(ms(t))return t;if(!("toJSON"in t)){r[l]=t;const o=Xe(t)?[]:{};return us(t,(i,m)=>{const f=a(i,l+1);!Ze(f)&&(o[m]=f)}),r[l]=void 0,o}}return t};return a(s,0)},el=Ne("AsyncFunction"),sl=s=>s&&(xs(s)||ce(s))&&ce(s.then)&&ce(s.catch),qa=((s,r)=>s?setImmediate:r?((a,t)=>(Fe.addEventListener("message",({source:l,data:o})=>{l===Fe&&o===a&&t.length&&t.shift()()},!1),l=>{t.push(l),Fe.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",ce(Fe.postMessage)),al=typeof queueMicrotask<"u"?queueMicrotask.bind(Fe):typeof process<"u"&&process.nextTick||qa,rl=s=>s!=null&&ce(s[Ss]),E={isArray:Xe,isArrayBuffer:Oa,isBuffer:ms,isFormData:Tt,isArrayBufferView:vt,isString:yt,isNumber:Ua,isBoolean:Nt,isObject:xs,isPlainObject:fs,isEmptyObject:wt,isReadableStream:Dt,isRequest:Rt,isResponse:Pt,isHeaders:It,isUndefined:Ze,isDate:Ct,isFile:St,isBlob:kt,isRegExp:Jt,isFunction:ce,isStream:At,isURLSearchParams:_t,isTypedArray:$t,isFileList:Et,forEach:us,merge:Us,extend:Ft,trim:Mt,stripBOM:Lt,inherits:Ot,toFlatObject:Ut,kindOf:ks,kindOfTest:Ne,endsWith:Bt,toArray:zt,forEachEntry:qt,matchAll:Gt,isHTMLForm:Vt,hasOwnProperty:ca,hasOwnProp:ca,reduceDescriptors:$a,freezeMethods:Wt,toObjectSet:Yt,toCamelCase:Ht,noop:Zt,toFiniteNumber:Kt,findKey:Ba,global:Fe,isContextDefined:za,isSpecCompliantForm:Xt,toJSONObject:Qt,isAsyncFn:el,isThenable:sl,setImmediate:qa,asap:al,isIterable:rl};function V(s,r,a,t,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),t&&(this.request=t),l&&(this.response=l,this.status=l.status?l.status:null)}E.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Ga=V.prototype,Va={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Va[s]={value:s}});Object.defineProperties(V,Va);Object.defineProperty(Ga,"isAxiosError",{value:!0});V.from=(s,r,a,t,l,o)=>{const i=Object.create(Ga);E.toFlatObject(s,i,function(g){return g!==Error.prototype},y=>y!=="isAxiosError");const m=s&&s.message?s.message:"Error",f=r==null&&s?s.code:r;return V.call(i,m,f,a,t,l),s&&i.cause==null&&Object.defineProperty(i,"cause",{value:s,configurable:!0}),i.name=s&&s.name||"Error",o&&Object.assign(i,o),i};const tl=null;function Bs(s){return E.isPlainObject(s)||E.isArray(s)}function Ha(s){return E.endsWith(s,"[]")?s.slice(0,-2):s}function da(s,r,a){return s?s.concat(r).map(function(l,o){return l=Ha(l),!a&&o?"["+l+"]":l}).join(a?".":""):r}function ll(s){return E.isArray(s)&&!s.some(Bs)}const ol=E.toFlatObject(E,{},null,function(r){return/^is[A-Z]/.test(r)});function As(s,r,a){if(!E.isObject(s))throw new TypeError("target must be an object");r=r||new FormData,a=E.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,N){return!E.isUndefined(N[k])});const t=a.metaTokens,l=a.visitor||g,o=a.dots,i=a.indexes,f=(a.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(r);if(!E.isFunction(l))throw new TypeError("visitor must be a function");function y(c){if(c===null)return"";if(E.isDate(c))return c.toISOString();if(E.isBoolean(c))return c.toString();if(!f&&E.isBlob(c))throw new V("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(c)||E.isTypedArray(c)?f&&typeof Blob=="function"?new Blob([c]):Buffer.from(c):c}function g(c,k,N){let T=c;if(c&&!N&&typeof c=="object"){if(E.endsWith(k,"{}"))k=t?k:k.slice(0,-2),c=JSON.stringify(c);else if(E.isArray(c)&&ll(c)||(E.isFileList(c)||E.endsWith(k,"[]"))&&(T=E.toArray(c)))return k=Ha(k),T.forEach(function(u,d){!(E.isUndefined(u)||u===null)&&r.append(i===!0?da([k],d,o):i===null?k:k+"[]",y(u))}),!1}return Bs(c)?!0:(r.append(da(N,k,o),y(c)),!1)}const v=[],D=Object.assign(ol,{defaultVisitor:g,convertValue:y,isVisitable:Bs});function R(c,k){if(!E.isUndefined(c)){if(v.indexOf(c)!==-1)throw Error("Circular reference detected in "+k.join("."));v.push(c),E.forEach(c,function(T,j){(!(E.isUndefined(T)||T===null)&&l.call(r,T,E.isString(j)?j.trim():j,k,D))===!0&&R(T,k?k.concat(j):[j])}),v.pop()}}if(!E.isObject(s))throw new TypeError("data must be an object");return R(s),r}function ma(s){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(t){return r[t]})}function Zs(s,r){this._pairs=[],s&&As(s,this,r)}const Ja=Zs.prototype;Ja.append=function(r,a){this._pairs.push([r,a])};Ja.toString=function(r){const a=r?function(t){return r.call(this,t,ma)}:ma;return this._pairs.map(function(l){return a(l[0])+"="+a(l[1])},"").join("&")};function il(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Wa(s,r,a){if(!r)return s;const t=a&&a.encode||il;E.isFunction(a)&&(a={serialize:a});const l=a&&a.serialize;let o;if(l?o=l(r,a):o=E.isURLSearchParams(r)?r.toString():new Zs(r,a).toString(t),o){const i=s.indexOf("#");i!==-1&&(s=s.slice(0,i)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class xa{constructor(){this.handlers=[]}use(r,a,t){return this.handlers.push({fulfilled:r,rejected:a,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){E.forEach(this.handlers,function(t){t!==null&&r(t)})}}const Ya={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nl=typeof URLSearchParams<"u"?URLSearchParams:Zs,cl=typeof FormData<"u"?FormData:null,dl=typeof Blob<"u"?Blob:null,ml={isBrowser:!0,classes:{URLSearchParams:nl,FormData:cl,Blob:dl},protocols:["http","https","file","blob","url","data"]},Ks=typeof window<"u"&&typeof document<"u",zs=typeof navigator=="object"&&navigator||void 0,xl=Ks&&(!zs||["ReactNative","NativeScript","NS"].indexOf(zs.product)<0),ul=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hl=Ks&&window.location.href||"http://localhost",pl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ks,hasStandardBrowserEnv:xl,hasStandardBrowserWebWorkerEnv:ul,navigator:zs,origin:hl},Symbol.toStringTag,{value:"Module"})),le={...pl,...ml};function gl(s,r){return As(s,new le.classes.URLSearchParams,{visitor:function(a,t,l,o){return le.isNode&&E.isBuffer(a)?(this.append(t,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...r})}function bl(s){return E.matchAll(/\w+|\[(\w*)]/g,s).map(r=>r[0]==="[]"?"":r[1]||r[0])}function fl(s){const r={},a=Object.keys(s);let t;const l=a.length;let o;for(t=0;t<l;t++)o=a[t],r[o]=s[o];return r}function Za(s){function r(a,t,l,o){let i=a[o++];if(i==="__proto__")return!0;const m=Number.isFinite(+i),f=o>=a.length;return i=!i&&E.isArray(l)?l.length:i,f?(E.hasOwnProp(l,i)?l[i]=[l[i],t]:l[i]=t,!m):((!l[i]||!E.isObject(l[i]))&&(l[i]=[]),r(a,t,l[i],o)&&E.isArray(l[i])&&(l[i]=fl(l[i])),!m)}if(E.isFormData(s)&&E.isFunction(s.entries)){const a={};return E.forEachEntry(s,(t,l)=>{r(bl(t),l,a,0)}),a}return null}function jl(s,r,a){if(E.isString(s))try{return(r||JSON.parse)(s),E.trim(s)}catch(t){if(t.name!=="SyntaxError")throw t}return(0,JSON.stringify)(s)}const hs={transitional:Ya,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const t=a.getContentType()||"",l=t.indexOf("application/json")>-1,o=E.isObject(r);if(o&&E.isHTMLForm(r)&&(r=new FormData(r)),E.isFormData(r))return l?JSON.stringify(Za(r)):r;if(E.isArrayBuffer(r)||E.isBuffer(r)||E.isStream(r)||E.isFile(r)||E.isBlob(r)||E.isReadableStream(r))return r;if(E.isArrayBufferView(r))return r.buffer;if(E.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let m;if(o){if(t.indexOf("application/x-www-form-urlencoded")>-1)return gl(r,this.formSerializer).toString();if((m=E.isFileList(r))||t.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return As(m?{"files[]":r}:r,f&&new f,this.formSerializer)}}return o||l?(a.setContentType("application/json",!1),jl(r)):r}],transformResponse:[function(r){const a=this.transitional||hs.transitional,t=a&&a.forcedJSONParsing,l=this.responseType==="json";if(E.isResponse(r)||E.isReadableStream(r))return r;if(r&&E.isString(r)&&(t&&!this.responseType||l)){const i=!(a&&a.silentJSONParsing)&&l;try{return JSON.parse(r,this.parseReviver)}catch(m){if(i)throw m.name==="SyntaxError"?V.from(m,V.ERR_BAD_RESPONSE,this,null,this.response):m}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],s=>{hs.headers[s]={}});const vl=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yl=s=>{const r={};let a,t,l;return s&&s.split(`
`).forEach(function(i){l=i.indexOf(":"),a=i.substring(0,l).trim().toLowerCase(),t=i.substring(l+1).trim(),!(!a||r[a]&&vl[a])&&(a==="set-cookie"?r[a]?r[a].push(t):r[a]=[t]:r[a]=r[a]?r[a]+", "+t:t)}),r},ua=Symbol("internals");function ts(s){return s&&String(s).trim().toLowerCase()}function js(s){return s===!1||s==null?s:E.isArray(s)?s.map(js):String(s)}function Nl(s){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let t;for(;t=a.exec(s);)r[t[1]]=t[2];return r}const wl=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Ps(s,r,a,t,l){if(E.isFunction(t))return t.call(this,r,a);if(l&&(r=a),!!E.isString(r)){if(E.isString(t))return r.indexOf(t)!==-1;if(E.isRegExp(t))return t.test(r)}}function Cl(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,t)=>a.toUpperCase()+t)}function Sl(s,r){const a=E.toCamelCase(" "+r);["get","set","has"].forEach(t=>{Object.defineProperty(s,t+a,{value:function(l,o,i){return this[t].call(this,r,l,o,i)},configurable:!0})})}class de{constructor(r){r&&this.set(r)}set(r,a,t){const l=this;function o(m,f,y){const g=ts(f);if(!g)throw new Error("header name must be a non-empty string");const v=E.findKey(l,g);(!v||l[v]===void 0||y===!0||y===void 0&&l[v]!==!1)&&(l[v||f]=js(m))}const i=(m,f)=>E.forEach(m,(y,g)=>o(y,g,f));if(E.isPlainObject(r)||r instanceof this.constructor)i(r,a);else if(E.isString(r)&&(r=r.trim())&&!wl(r))i(yl(r),a);else if(E.isObject(r)&&E.isIterable(r)){let m={},f,y;for(const g of r){if(!E.isArray(g))throw TypeError("Object iterator must return a key-value pair");m[y=g[0]]=(f=m[y])?E.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}i(m,a)}else r!=null&&o(a,r,t);return this}get(r,a){if(r=ts(r),r){const t=E.findKey(this,r);if(t){const l=this[t];if(!a)return l;if(a===!0)return Nl(l);if(E.isFunction(a))return a.call(this,l,t);if(E.isRegExp(a))return a.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=ts(r),r){const t=E.findKey(this,r);return!!(t&&this[t]!==void 0&&(!a||Ps(this,this[t],t,a)))}return!1}delete(r,a){const t=this;let l=!1;function o(i){if(i=ts(i),i){const m=E.findKey(t,i);m&&(!a||Ps(t,t[m],m,a))&&(delete t[m],l=!0)}}return E.isArray(r)?r.forEach(o):o(r),l}clear(r){const a=Object.keys(this);let t=a.length,l=!1;for(;t--;){const o=a[t];(!r||Ps(this,this[o],o,r,!0))&&(delete this[o],l=!0)}return l}normalize(r){const a=this,t={};return E.forEach(this,(l,o)=>{const i=E.findKey(t,o);if(i){a[i]=js(l),delete a[o];return}const m=r?Cl(o):String(o).trim();m!==o&&delete a[o],a[m]=js(l),t[m]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return E.forEach(this,(t,l)=>{t!=null&&t!==!1&&(a[l]=r&&E.isArray(t)?t.join(", "):t)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const t=new this(r);return a.forEach(l=>t.set(l)),t}static accessor(r){const t=(this[ua]=this[ua]={accessors:{}}).accessors,l=this.prototype;function o(i){const m=ts(i);t[m]||(Sl(l,i),t[m]=!0)}return E.isArray(r)?r.forEach(o):o(r),this}}de.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(de.prototype,({value:s},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>s,set(t){this[a]=t}}});E.freezeMethods(de);function Is(s,r){const a=this||hs,t=r||a,l=de.from(t.headers);let o=t.data;return E.forEach(s,function(m){o=m.call(a,o,l.normalize(),r?r.status:void 0)}),l.normalize(),o}function Ka(s){return!!(s&&s.__CANCEL__)}function Qe(s,r,a){V.call(this,s??"canceled",V.ERR_CANCELED,r,a),this.name="CanceledError"}E.inherits(Qe,V,{__CANCEL__:!0});function Xa(s,r,a){const t=a.config.validateStatus;!a.status||!t||t(a.status)?s(a):r(new V("Request failed with status code "+a.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function kl(s){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return r&&r[1]||""}function El(s,r){s=s||10;const a=new Array(s),t=new Array(s);let l=0,o=0,i;return r=r!==void 0?r:1e3,function(f){const y=Date.now(),g=t[o];i||(i=y),a[l]=f,t[l]=y;let v=o,D=0;for(;v!==l;)D+=a[v++],v=v%s;if(l=(l+1)%s,l===o&&(o=(o+1)%s),y-i<r)return;const R=g&&y-g;return R?Math.round(D*1e3/R):void 0}}function Al(s,r){let a=0,t=1e3/r,l,o;const i=(y,g=Date.now())=>{a=g,l=null,o&&(clearTimeout(o),o=null),s(...y)};return[(...y)=>{const g=Date.now(),v=g-a;v>=t?i(y,g):(l=y,o||(o=setTimeout(()=>{o=null,i(l)},t-v)))},()=>l&&i(l)]}const ws=(s,r,a=3)=>{let t=0;const l=El(50,250);return Al(o=>{const i=o.loaded,m=o.lengthComputable?o.total:void 0,f=i-t,y=l(f),g=i<=m;t=i;const v={loaded:i,total:m,progress:m?i/m:void 0,bytes:f,rate:y||void 0,estimated:y&&m&&g?(m-i)/y:void 0,event:o,lengthComputable:m!=null,[r?"download":"upload"]:!0};s(v)},a)},ha=(s,r)=>{const a=s!=null;return[t=>r[0]({lengthComputable:a,total:s,loaded:t}),r[1]]},pa=s=>(...r)=>E.asap(()=>s(...r)),Tl=le.hasStandardBrowserEnv?((s,r)=>a=>(a=new URL(a,le.origin),s.protocol===a.protocol&&s.host===a.host&&(r||s.port===a.port)))(new URL(le.origin),le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent)):()=>!0,_l=le.hasStandardBrowserEnv?{write(s,r,a,t,l,o){const i=[s+"="+encodeURIComponent(r)];E.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),E.isString(t)&&i.push("path="+t),E.isString(l)&&i.push("domain="+l),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(s){const r=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dl(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function Rl(s,r){return r?s.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):s}function Qa(s,r,a){let t=!Dl(r);return s&&(t||a==!1)?Rl(s,r):r}const ga=s=>s instanceof de?{...s}:s;function Be(s,r){r=r||{};const a={};function t(y,g,v,D){return E.isPlainObject(y)&&E.isPlainObject(g)?E.merge.call({caseless:D},y,g):E.isPlainObject(g)?E.merge({},g):E.isArray(g)?g.slice():g}function l(y,g,v,D){if(E.isUndefined(g)){if(!E.isUndefined(y))return t(void 0,y,v,D)}else return t(y,g,v,D)}function o(y,g){if(!E.isUndefined(g))return t(void 0,g)}function i(y,g){if(E.isUndefined(g)){if(!E.isUndefined(y))return t(void 0,y)}else return t(void 0,g)}function m(y,g,v){if(v in r)return t(y,g);if(v in s)return t(void 0,y)}const f={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:m,headers:(y,g,v)=>l(ga(y),ga(g),v,!0)};return E.forEach(Object.keys({...s,...r}),function(g){const v=f[g]||l,D=v(s[g],r[g],g);E.isUndefined(D)&&v!==m||(a[g]=D)}),a}const er=s=>{const r=Be({},s);let{data:a,withXSRFToken:t,xsrfHeaderName:l,xsrfCookieName:o,headers:i,auth:m}=r;if(r.headers=i=de.from(i),r.url=Wa(Qa(r.baseURL,r.url,r.allowAbsoluteUrls),s.params,s.paramsSerializer),m&&i.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),E.isFormData(a)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(E.isFunction(a.getHeaders)){const f=a.getHeaders(),y=["content-type","content-length"];Object.entries(f).forEach(([g,v])=>{y.includes(g.toLowerCase())&&i.set(g,v)})}}if(le.hasStandardBrowserEnv&&(t&&E.isFunction(t)&&(t=t(r)),t||t!==!1&&Tl(r.url))){const f=l&&o&&_l.read(o);f&&i.set(l,f)}return r},Pl=typeof XMLHttpRequest<"u",Il=Pl&&function(s){return new Promise(function(a,t){const l=er(s);let o=l.data;const i=de.from(l.headers).normalize();let{responseType:m,onUploadProgress:f,onDownloadProgress:y}=l,g,v,D,R,c;function k(){R&&R(),c&&c(),l.cancelToken&&l.cancelToken.unsubscribe(g),l.signal&&l.signal.removeEventListener("abort",g)}let N=new XMLHttpRequest;N.open(l.method.toUpperCase(),l.url,!0),N.timeout=l.timeout;function T(){if(!N)return;const u=de.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),b={data:!m||m==="text"||m==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:u,config:s,request:N};Xa(function(O){a(O),k()},function(O){t(O),k()},b),N=null}"onloadend"in N?N.onloadend=T:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(T)},N.onabort=function(){N&&(t(new V("Request aborted",V.ECONNABORTED,s,N)),N=null)},N.onerror=function(d){const b=d&&d.message?d.message:"Network Error",p=new V(b,V.ERR_NETWORK,s,N);p.event=d||null,t(p),N=null},N.ontimeout=function(){let d=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const b=l.transitional||Ya;l.timeoutErrorMessage&&(d=l.timeoutErrorMessage),t(new V(d,b.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,s,N)),N=null},o===void 0&&i.setContentType(null),"setRequestHeader"in N&&E.forEach(i.toJSON(),function(d,b){N.setRequestHeader(b,d)}),E.isUndefined(l.withCredentials)||(N.withCredentials=!!l.withCredentials),m&&m!=="json"&&(N.responseType=l.responseType),y&&([D,c]=ws(y,!0),N.addEventListener("progress",D)),f&&N.upload&&([v,R]=ws(f),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",R)),(l.cancelToken||l.signal)&&(g=u=>{N&&(t(!u||u.type?new Qe(null,s,N):u),N.abort(),N=null)},l.cancelToken&&l.cancelToken.subscribe(g),l.signal&&(l.signal.aborted?g():l.signal.addEventListener("abort",g)));const j=kl(l.url);if(j&&le.protocols.indexOf(j)===-1){t(new V("Unsupported protocol "+j+":",V.ERR_BAD_REQUEST,s));return}N.send(o||null)})},Ml=(s,r)=>{const{length:a}=s=s?s.filter(Boolean):[];if(r||a){let t=new AbortController,l;const o=function(y){if(!l){l=!0,m();const g=y instanceof Error?y:this.reason;t.abort(g instanceof V?g:new Qe(g instanceof Error?g.message:g))}};let i=r&&setTimeout(()=>{i=null,o(new V(`timeout ${r} of ms exceeded`,V.ETIMEDOUT))},r);const m=()=>{s&&(i&&clearTimeout(i),i=null,s.forEach(y=>{y.unsubscribe?y.unsubscribe(o):y.removeEventListener("abort",o)}),s=null)};s.forEach(y=>y.addEventListener("abort",o));const{signal:f}=t;return f.unsubscribe=()=>E.asap(m),f}},Fl=function*(s,r){let a=s.byteLength;if(a<r){yield s;return}let t=0,l;for(;t<a;)l=t+r,yield s.slice(t,l),t=l},Ll=async function*(s,r){for await(const a of Ol(s))yield*Fl(a,r)},Ol=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const r=s.getReader();try{for(;;){const{done:a,value:t}=await r.read();if(a)break;yield t}}finally{await r.cancel()}},ba=(s,r,a,t)=>{const l=Ll(s,r);let o=0,i,m=f=>{i||(i=!0,t&&t(f))};return new ReadableStream({async pull(f){try{const{done:y,value:g}=await l.next();if(y){m(),f.close();return}let v=g.byteLength;if(a){let D=o+=v;a(D)}f.enqueue(new Uint8Array(g))}catch(y){throw m(y),y}},cancel(f){return m(f),l.return()}},{highWaterMark:2})},fa=64*1024,{isFunction:gs}=E,Ul=(({Request:s,Response:r})=>({Request:s,Response:r}))(E.global),{ReadableStream:ja,TextEncoder:va}=E.global,ya=(s,...r)=>{try{return!!s(...r)}catch{return!1}},Bl=s=>{s=E.merge.call({skipUndefined:!0},Ul,s);const{fetch:r,Request:a,Response:t}=s,l=r?gs(r):typeof fetch=="function",o=gs(a),i=gs(t);if(!l)return!1;const m=l&&gs(ja),f=l&&(typeof va=="function"?(c=>k=>c.encode(k))(new va):async c=>new Uint8Array(await new a(c).arrayBuffer())),y=o&&m&&ya(()=>{let c=!1;const k=new a(le.origin,{body:new ja,method:"POST",get duplex(){return c=!0,"half"}}).headers.has("Content-Type");return c&&!k}),g=i&&m&&ya(()=>E.isReadableStream(new t("").body)),v={stream:g&&(c=>c.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(c=>{!v[c]&&(v[c]=(k,N)=>{let T=k&&k[c];if(T)return T.call(k);throw new V(`Response type '${c}' is not supported`,V.ERR_NOT_SUPPORT,N)})});const D=async c=>{if(c==null)return 0;if(E.isBlob(c))return c.size;if(E.isSpecCompliantForm(c))return(await new a(le.origin,{method:"POST",body:c}).arrayBuffer()).byteLength;if(E.isArrayBufferView(c)||E.isArrayBuffer(c))return c.byteLength;if(E.isURLSearchParams(c)&&(c=c+""),E.isString(c))return(await f(c)).byteLength},R=async(c,k)=>{const N=E.toFiniteNumber(c.getContentLength());return N??D(k)};return async c=>{let{url:k,method:N,data:T,signal:j,cancelToken:u,timeout:d,onDownloadProgress:b,onUploadProgress:p,responseType:O,headers:_,withCredentials:x="same-origin",fetchOptions:w}=er(c),n=r||fetch;O=O?(O+"").toLowerCase():"text";let C=Ml([j,u&&u.toAbortSignal()],d),P=null;const U=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let B;try{if(p&&y&&N!=="get"&&N!=="head"&&(B=await R(_,T))!==0){let A=new a(k,{method:"POST",body:T,duplex:"half"}),z;if(E.isFormData(T)&&(z=A.headers.get("content-type"))&&_.setContentType(z),A.body){const[H,Y]=ha(B,ws(pa(p)));T=ba(A.body,fa,H,Y)}}E.isString(x)||(x=x?"include":"omit");const q=o&&"credentials"in a.prototype,M={...w,signal:C,method:N.toUpperCase(),headers:_.normalize().toJSON(),body:T,duplex:"half",credentials:q?x:void 0};P=o&&new a(k,M);let I=await(o?n(P,w):n(k,M));const L=g&&(O==="stream"||O==="response");if(g&&(b||L&&U)){const A={};["status","statusText","headers"].forEach(me=>{A[me]=I[me]});const z=E.toFiniteNumber(I.headers.get("content-length")),[H,Y]=b&&ha(z,ws(pa(b),!0))||[];I=new t(ba(I.body,fa,H,()=>{Y&&Y(),U&&U()}),A)}O=O||"text";let F=await v[E.findKey(v,O)||"text"](I,c);return!L&&U&&U(),await new Promise((A,z)=>{Xa(A,z,{data:F,headers:de.from(I.headers),status:I.status,statusText:I.statusText,config:c,request:P})})}catch(q){throw U&&U(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,c,P),{cause:q.cause||q}):V.from(q,q&&q.code,c,P)}}},zl=new Map,sr=s=>{let r=s?s.env:{};const{fetch:a,Request:t,Response:l}=r,o=[t,l,a];let i=o.length,m=i,f,y,g=zl;for(;m--;)f=o[m],y=g.get(f),y===void 0&&g.set(f,y=m?new Map:Bl(r)),g=y;return y};sr();const $s={http:tl,xhr:Il,fetch:{get:sr}};E.forEach($s,(s,r)=>{if(s){try{Object.defineProperty(s,"name",{value:r})}catch{}Object.defineProperty(s,"adapterName",{value:r})}});const Na=s=>`- ${s}`,$l=s=>E.isFunction(s)||s===null||s===!1,ar={getAdapter:(s,r)=>{s=E.isArray(s)?s:[s];const{length:a}=s;let t,l;const o={};for(let i=0;i<a;i++){t=s[i];let m;if(l=t,!$l(t)&&(l=$s[(m=String(t)).toLowerCase()],l===void 0))throw new V(`Unknown adapter '${m}'`);if(l&&(E.isFunction(l)||(l=l.get(r))))break;o[m||"#"+i]=l}if(!l){const i=Object.entries(o).map(([f,y])=>`adapter ${f} `+(y===!1?"is not supported by the environment":"is not available in the build"));let m=a?i.length>1?`since :
`+i.map(Na).join(`
`):" "+Na(i[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return l},adapters:$s};function Ms(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Qe(null,s)}function wa(s){return Ms(s),s.headers=de.from(s.headers),s.data=Is.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),ar.getAdapter(s.adapter||hs.adapter,s)(s).then(function(t){return Ms(s),t.data=Is.call(s,s.transformResponse,t),t.headers=de.from(t.headers),t},function(t){return Ka(t)||(Ms(s),t&&t.response&&(t.response.data=Is.call(s,s.transformResponse,t.response),t.response.headers=de.from(t.response.headers))),Promise.reject(t)})}const rr="1.12.2",Ts={};["object","boolean","number","function","string","symbol"].forEach((s,r)=>{Ts[s]=function(t){return typeof t===s||"a"+(r<1?"n ":" ")+s}});const Ca={};Ts.transitional=function(r,a,t){function l(o,i){return"[Axios v"+rr+"] Transitional option '"+o+"'"+i+(t?". "+t:"")}return(o,i,m)=>{if(r===!1)throw new V(l(i," has been removed"+(a?" in "+a:"")),V.ERR_DEPRECATED);return a&&!Ca[i]&&(Ca[i]=!0,console.warn(l(i," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(o,i,m):!0}};Ts.spelling=function(r){return(a,t)=>(console.warn(`${t} is likely a misspelling of ${r}`),!0)};function ql(s,r,a){if(typeof s!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const t=Object.keys(s);let l=t.length;for(;l-- >0;){const o=t[l],i=r[o];if(i){const m=s[o],f=m===void 0||i(m,o,s);if(f!==!0)throw new V("option "+o+" must be "+f,V.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new V("Unknown option "+o,V.ERR_BAD_OPTION)}}const vs={assertOptions:ql,validators:Ts},we=vs.validators;class Oe{constructor(r){this.defaults=r||{},this.interceptors={request:new xa,response:new xa}}async request(r,a){try{return await this._request(r,a)}catch(t){if(t instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const o=l.stack?l.stack.replace(/^.+\n/,""):"";try{t.stack?o&&!String(t.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(t.stack+=`
`+o):t.stack=o}catch{}}throw t}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Be(this.defaults,a);const{transitional:t,paramsSerializer:l,headers:o}=a;t!==void 0&&vs.assertOptions(t,{silentJSONParsing:we.transitional(we.boolean),forcedJSONParsing:we.transitional(we.boolean),clarifyTimeoutError:we.transitional(we.boolean)},!1),l!=null&&(E.isFunction(l)?a.paramsSerializer={serialize:l}:vs.assertOptions(l,{encode:we.function,serialize:we.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),vs.assertOptions(a,{baseUrl:we.spelling("baseURL"),withXsrfToken:we.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&E.merge(o.common,o[a.method]);o&&E.forEach(["delete","get","head","post","put","patch","common"],c=>{delete o[c]}),a.headers=de.concat(i,o);const m=[];let f=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(a)===!1||(f=f&&k.synchronous,m.unshift(k.fulfilled,k.rejected))});const y=[];this.interceptors.response.forEach(function(k){y.push(k.fulfilled,k.rejected)});let g,v=0,D;if(!f){const c=[wa.bind(this),void 0];for(c.unshift(...m),c.push(...y),D=c.length,g=Promise.resolve(a);v<D;)g=g.then(c[v++],c[v++]);return g}D=m.length;let R=a;for(;v<D;){const c=m[v++],k=m[v++];try{R=c(R)}catch(N){k.call(this,N);break}}try{g=wa.call(this,R)}catch(c){return Promise.reject(c)}for(v=0,D=y.length;v<D;)g=g.then(y[v++],y[v++]);return g}getUri(r){r=Be(this.defaults,r);const a=Qa(r.baseURL,r.url,r.allowAbsoluteUrls);return Wa(a,r.params,r.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(r){Oe.prototype[r]=function(a,t){return this.request(Be(t||{},{method:r,url:a,data:(t||{}).data}))}});E.forEach(["post","put","patch"],function(r){function a(t){return function(o,i,m){return this.request(Be(m||{},{method:r,headers:t?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Oe.prototype[r]=a(),Oe.prototype[r+"Form"]=a(!0)});class Xs{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const t=this;this.promise.then(l=>{if(!t._listeners)return;let o=t._listeners.length;for(;o-- >0;)t._listeners[o](l);t._listeners=null}),this.promise.then=l=>{let o;const i=new Promise(m=>{t.subscribe(m),o=m}).then(l);return i.cancel=function(){t.unsubscribe(o)},i},r(function(o,i,m){t.reason||(t.reason=new Qe(o,i,m),a(t.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=t=>{r.abort(t)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new Xs(function(l){r=l}),cancel:r}}}function Gl(s){return function(a){return s.apply(null,a)}}function Vl(s){return E.isObject(s)&&s.isAxiosError===!0}const qs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qs).forEach(([s,r])=>{qs[r]=s});function tr(s){const r=new Oe(s),a=Fa(Oe.prototype.request,r);return E.extend(a,Oe.prototype,r,{allOwnKeys:!0}),E.extend(a,r,null,{allOwnKeys:!0}),a.create=function(l){return tr(Be(s,l))},a}const ae=tr(hs);ae.Axios=Oe;ae.CanceledError=Qe;ae.CancelToken=Xs;ae.isCancel=Ka;ae.VERSION=rr;ae.toFormData=As;ae.AxiosError=V;ae.Cancel=ae.CanceledError;ae.all=function(r){return Promise.all(r)};ae.spread=Gl;ae.isAxiosError=Vl;ae.mergeConfig=Be;ae.AxiosHeaders=de;ae.formToJSON=s=>Za(E.isHTMLForm(s)?new FormData(s):s);ae.getAdapter=ar.getAdapter;ae.HttpStatusCode=qs;ae.default=ae;class Hl{constructor(r){this.baseURL="https://api.discloud.app/v2",this.config=r}async makeRequest(r,a,t,l=!1){var o,i,m;try{const f={"api-token":this.config.apiToken};return l||(f["Content-Type"]="application/json"),(await ae({method:r,url:`${this.baseURL}${a}`,headers:f,data:t})).data}catch(f){throw console.error("❌ Erro na API Discloud:",((o=f.response)==null?void 0:o.data)||f.message),new Error(((m=(i=f.response)==null?void 0:i.data)==null?void 0:m.message)||"Erro na comunicação com Discloud")}}async getUserInfo(){return console.log("👤 Obtendo informações do usuário..."),this.makeRequest("GET","/v2/user")}async getAppInfo(){return console.log("📊 Obtendo informações da aplicação..."),this.makeRequest("GET",`/app/${this.config.appId}`)}async getAppStatus(){return console.log("📈 Verificando status da aplicação..."),this.makeRequest("GET",`/app/${this.config.appId}/status`)}async restartApp(){return console.log("🔄 Reiniciando aplicação..."),this.makeRequest("PUT",`/app/${this.config.appId}/restart`)}async stopApp(){return console.log("⏹️ Parando aplicação..."),this.makeRequest("PUT",`/app/${this.config.appId}/stop`)}async startApp(){return console.log("▶️ Iniciando aplicação..."),this.makeRequest("PUT",`/app/${this.config.appId}/start`)}async getAppLogs(){return console.log("📋 Obtendo logs da aplicação..."),this.makeRequest("GET",`/app/${this.config.appId}/logs`)}async uploadApp(r,a="app.zip"){console.log("📤 Fazendo upload da aplicação...");const t=require("form-data"),l=new t;return l.append("file",r,a),this.makeRequest("POST","/upload",l,!0)}async updateApp(r,a="app.zip"){console.log("🔄 Atualizando aplicação...");const t=require("form-data"),l=new t;return l.append("file",r,a),this.makeRequest("PUT",`/app/${this.config.appId}`,l,!0)}async listApps(){var a;return console.log("🗂️ Listando aplicações..."),{status:"ok",apps:((a=(await this.makeRequest("GET","/v2/user")).user)==null?void 0:a.apps)||[],message:"Aplicações carregadas com sucesso"}}async deleteApp(){return console.log("🗑️ Deletando aplicação..."),this.makeRequest("DELETE",`/app/${this.config.appId}`)}async backupApp(){return console.log("💾 Fazendo backup da aplicação..."),this.makeRequest("GET",`/app/${this.config.appId}/backup`)}async getAppStats(){return console.log("📊 Obtendo estatísticas de uso..."),this.makeRequest("GET",`/app/${this.config.appId}/stats`)}async setEnvVars(r){return console.log("🔧 Configurando variáveis de ambiente..."),this.makeRequest("PUT",`/app/${this.config.appId}/env`,r)}async getEnvVars(){return console.log("📖 Obtendo variáveis de ambiente..."),this.makeRequest("GET",`/app/${this.config.appId}/env`)}}function Jl({}){const[s,r]=h.useState(!1),[a,t]=h.useState(!1),[l,o]=h.useState(null),[i,m]=h.useState(null),[f,y]=h.useState([]),[g,v]=h.useState("eyJhbGciOiJIUzI1NiJ9.eyJpZCI6IjY2NTgyMzE3OTkyNzkiLCJrZXkiOiJhYTZhY2U2N2E5ZWM2ODgxMzI5YTY4ZDY5N2Q1In0.VxMi_B1Gl3qDa90_y5Lq4QYq_g58xz6_shavp3OWOUw"),[D,R]=h.useState("objsys-sistema"),[c,k]=h.useState("idle"),[N,T]=h.useState(localStorage.getItem("last_deploy")),j=s?new Hl({apiToken:g,appId:D}):null;h.useEffect(()=>{g&&D&&(r(!0),d())},[g,D]);const u=()=>{localStorage.setItem("discloud_token",g),localStorage.setItem("discloud_app_id",D),r(!0),d()},d=async()=>{if(j)try{t(!0);const w=await j.getUserInfo();console.log("👤 Info do usuário:",w),m({id:D,name:"Sistema Objetivo",domain:"Em configuração",version:"1.0.0",type:"site",ram:"512MB"}),o({status:"offline",cpu:"0%",ram:"0 MB",storage:"0 MB",uptime:"0h",lastRestart:"Nunca"})}catch(w){console.error("Erro ao buscar informações:",w)}finally{t(!1)}},b=async()=>{if(j)try{t(!0);const w=await j.getAppLogs();y(w.logs||[])}catch(w){console.error("Erro ao buscar logs:",w)}finally{t(!1)}},p=async()=>{if(j)try{t(!0),await j.restartApp(),setTimeout(d,2e3)}catch(w){console.error("Erro ao reiniciar:",w)}finally{t(!1)}},O=async()=>{if(j)try{t(!0),await j.startApp(),setTimeout(d,2e3)}catch(w){console.error("Erro ao iniciar:",w)}finally{t(!1)}},_=async()=>{if(j)try{t(!0),await j.stopApp(),setTimeout(d,2e3)}catch(w){console.error("Erro ao parar:",w)}finally{t(!1)}},x=async()=>{if(j)try{k("building"),await new Promise(n=>setTimeout(n,2e3)),k("uploading"),await new Promise(n=>setTimeout(n,3e3)),k("success");const w=new Date().toLocaleString("pt-BR");T(w),localStorage.setItem("last_deploy",w),setTimeout(()=>{k("idle"),d(),alert(`🎉 Deploy realizado com sucesso!
🌐 URL: https://objsys-sistema.discloud.app
⏰ A aplicação estará disponível em alguns minutos.`)},2e3)}catch(w){console.error("Erro no deploy:",w),k("error"),setTimeout(()=>k("idle"),3e3)}};return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center",children:e.jsx(ra,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"☁️ Painel Discloud"}),e.jsx("p",{className:"text-gray-600",children:"Gerencie seus deploys e monitoramento"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:d,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-300 flex items-center space-x-2",children:[e.jsx(Pe,{className:`h-4 w-4 ${a?"animate-spin":""}`}),e.jsx("span",{children:"Atualizar"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Js,{className:"h-6 w-6 text-green-600"}),e.jsx("span",{className:"font-bold text-gray-700",children:"Status"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${(l==null?void 0:l.status)==="online"?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-2xl font-bold capitalize",children:(l==null?void 0:l.status)||"offline"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Ue,{className:"h-6 w-6 text-blue-600"}),e.jsx("span",{className:"font-bold text-gray-700",children:"CPU"})]}),e.jsx("span",{className:"text-2xl font-bold",children:(l==null?void 0:l.cpu)||"0%"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Ur,{className:"h-6 w-6 text-purple-600"}),e.jsx("span",{className:"font-bold text-gray-700",children:"RAM"})]}),e.jsx("span",{className:"text-2xl font-bold",children:(l==null?void 0:l.ram)||"0 MB"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(te,{className:"h-6 w-6 text-orange-600"}),e.jsx("span",{className:"font-bold text-gray-700",children:"Uptime"})]}),e.jsx("span",{className:"text-2xl font-bold",children:(l==null?void 0:l.uptime)||"0h"})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"🎛️ Controles da Aplicação"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:x,disabled:a||c!=="idle",className:"flex flex-col items-center space-y-2 p-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition-all duration-300 disabled:opacity-50",children:[e.jsx(pe,{className:"h-6 w-6"}),e.jsxs("span",{className:"font-bold",children:[c==="building"&&"🔨 Building...",c==="uploading"&&"📤 Uploading...",c==="success"&&"✅ Success!",c==="error"&&"❌ Error",c==="idle"&&"Deploy"]})]}),e.jsxs("button",{onClick:p,disabled:a,className:"flex flex-col items-center space-y-2 p-4 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 disabled:opacity-50",children:[e.jsx($e,{className:"h-6 w-6"}),e.jsx("span",{className:"font-bold",children:"Restart"})]}),e.jsxs("button",{onClick:O,disabled:a,className:"flex flex-col items-center space-y-2 p-4 bg-gradient-to-r from-green-600 to-lime-600 text-white rounded-xl hover:from-green-700 hover:to-lime-700 transition-all duration-300 disabled:opacity-50",children:[e.jsx(Fr,{className:"h-6 w-6"}),e.jsx("span",{className:"font-bold",children:"Start"})]}),e.jsxs("button",{onClick:_,disabled:a,className:"flex flex-col items-center space-y-2 p-4 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-xl hover:from-red-700 hover:to-pink-700 transition-all duration-300 disabled:opacity-50",children:[e.jsx(Ns,{className:"h-6 w-6"}),e.jsx("span",{className:"font-bold",children:"Stop"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"🔗 Status da Integração"}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsx(X,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-blue-800",children:"API Discloud conectada com sucesso"}),e.jsx("p",{className:"text-blue-600",children:"Usuário: haddadr54-cmd • Plano: Platinum"}),e.jsx("p",{className:"text-sm text-blue-500 mt-1",children:'✨ Primeira vez usando Discloud? Faça seu primeiro deploy clicando no botão "Deploy" acima!'})]})]})]}),N&&e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"📋 Último Deploy"}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-xl",children:[e.jsx(X,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-green-800",children:"Deploy realizado com sucesso"}),e.jsx("p",{className:"text-green-600",children:N})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"ℹ️ Informações da App"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-gray-600",children:"ID:"}),e.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:(i==null?void 0:i.id)||D})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Nome:"}),e.jsx("p",{className:"font-medium",children:(i==null?void 0:i.name)||"Sistema Objetivo"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Domínio:"}),e.jsx("p",{className:"font-mono text-sm text-blue-600",children:(i==null?void 0:i.domain)||"Carregando..."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Tipo:"}),e.jsx("p",{className:"font-medium capitalize",children:(i==null?void 0:i.type)||"site"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-gray-600",children:"RAM:"}),e.jsx("p",{className:"font-medium",children:(i==null?void 0:i.ram)||"512 MB"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"📋 Logs"}),e.jsx("button",{onClick:b,disabled:a,className:"px-3 py-1 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-300 text-sm",children:e.jsx(fe,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-xl font-mono text-sm max-h-64 overflow-y-auto",children:f.length>0?f.map((w,n)=>e.jsx("div",{className:"mb-1",children:w},n)):e.jsx("div",{className:"text-gray-500",children:"Clique para carregar logs..."})})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(ra,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"🚀 Conectar Discloud"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Configure suas credenciais para gerenciar deploys automaticamente"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"🔑 Token da API Discloud"}),e.jsx("input",{type:"password",value:g,onChange:w=>v(w.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300",placeholder:"Digite seu token da API"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Obtenha seu token em: ",e.jsx("a",{href:"https://discloud.com/profile",target:"_blank",className:"text-blue-600 hover:underline",children:"discloud.com/profile"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"📱 ID da Aplicação"}),e.jsx("input",{type:"text",value:D,onChange:w=>R(w.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-300",placeholder:"objsys-sistema"})]}),e.jsx("button",{onClick:u,disabled:!g||!D,className:"w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-bold text-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",children:"✅ Conectar Discloud"})]})]})})})}const We={logoUrl:"/LOGO OBJETIVO PNG.png",schoolName:"Colégio Objetivo",backgroundImageUrl:"",backgroundColor:"from-slate-50 to-blue-50",primaryColor:"#002776",secondaryColor:"#3B82F6",accentColor:"#8B5CF6",welcomeMessage:"Área restrita do Objetivo (Colégio e Curso)",leftSideTitle:"Educação de excelência para o futuro dos seus filhos",leftSideSubtitle:"Acompanhe o desenvolvimento acadêmico através do nosso portal educacional.",loginSubtitle:"Faça login para acessar o sistema",siteUrl:"https://objetivo.br",helpUrl:"#",forgotPasswordUrl:"#",privacyPolicyUrl:"#",accessibilityUrl:"#",showSiteButton:!0,siteButtonText:"Voltar para o site do Objetivo",siteButtonUrl:"https://objetivo.br",showFooter:!0,copyrightText:"Copyright © 1997-2025 Colégio Objetivo. Todos os direitos reservados.",showPrivacyLink:!0,showAccessibilityLink:!0,privacyPolicyText:"Política de Privacidade",accessibilityText:"Acessibilidade",showCredentialsHelper:!0,showLogo:!0,showWelcomeText:!0,showSubtitle:!0,showHelpLinks:!0,showResponsiveIndicator:!1,enableAnimations:!0,showWelcomeAnimation:!0,showAnimatedLogo:!1,animatedLogoUrl:"/logo-objetivo.png",animatedLogoSize:"medium",animatedLogoPosition:"top",layoutStyle:"split",formPosition:"right",enableGlassEffect:!0,enableGradients:!0,enableShadows:!0,enableParticles:!1,enableNoiseEffect:!1,overlayOpacity:40,removeBackgroundBlur:!1,highContrast:!1,reducedMotion:!1,fontFamily:"inter",fontSize:"base"};function Wl(){const{configs:s,saveConfig:r}=Vs(),[a,t]=h.useState(We),[l,o]=h.useState("layout"),[i,m]=h.useState(!1),[f,y]=h.useState(!1),[g,v]=h.useState({}),[D,R]=h.useState("iframe"),c=h.useRef(null);h.useEffect(()=>{s.login_customization?(console.log("📂 Carregando configurações do Supabase:",s.login_customization),t({...We,...s.login_customization})):(console.log("📂 Usando configurações padrão (Supabase não disponível ou sem dados)"),t(We))},[]),h.useEffect(()=>{s.login_customization&&(console.log("🔄 Atualizando configurações via GlobalConfig:",s.login_customization),t({...We,...s.login_customization}))},[s.login_customization]),h.useEffect(()=>{k()},[a]);const k=()=>{if(c.current&&c.current.contentWindow)try{console.log("📨 Enviando configuração de login via postMessage:",a),c.current.contentWindow.postMessage({type:"LOGIN_CONFIG_UPDATE",config:a},"*")}catch(p){console.error("❌ Erro ao enviar via postMessage:",p)}try{console.log("💾 Salvando configuração de login no localStorage:",a),localStorage.setItem("loginCustomization",JSON.stringify(a)),window.dispatchEvent(new CustomEvent("loginConfigChanged",{detail:a})),console.log("📡 Evento loginConfigChanged disparado")}catch(p){console.error("❌ Erro ao enviar via CustomEvent:",p)}},N=()=>{console.log("🔄 Forçando atualização do preview..."),setTimeout(()=>{k()},500)},T=async()=>{m(!0),v({});try{const p={};if(a.schoolName.trim()||(p.schoolName="Nome da escola é obrigatório"),a.welcomeMessage.trim()||(p.welcomeMessage="Mensagem de boas-vindas é obrigatória"),Object.keys(p).length>0){v(p);return}await r("login_customization",a),console.log("✅ Configurações de login salvas no Supabase"),y(!0),setTimeout(()=>y(!1),3e3)}catch(p){console.error("Erro ao salvar configurações:",p),p instanceof Error&&p.message.includes("Supabase")?v({submit:"Erro: Sistema requer conexão com Supabase para salvar configurações. Verifique sua conexão."}):v({submit:"Erro ao salvar configurações"})}finally{m(!1)}},j=()=>{confirm("Tem certeza que deseja restaurar as configurações padrão da tela de login?")&&(t(We),r("login_customization",We))},u=(p,O)=>{var x;const _=(x=O.target.files)==null?void 0:x[0];if(_){if(_.size>5*1024*1024){v({...g,[p]:"Imagem deve ter no máximo 5MB"});return}const w=new FileReader;w.onload=n=>{var P;const C=(P=n.target)==null?void 0:P.result;t({...a,[p]:C}),v({...g,[p]:""})},w.readAsDataURL(_)}},d=()=>{const p=window.open("/?preview=login","_blank");p&&setTimeout(()=>{p.postMessage({type:"LOGIN_CONFIG_UPDATE",config:a},"*")},1e3)},b=[{id:"layout",label:"Layout",icon:Ma},{id:"branding",label:"Branding",icon:la},{id:"textos",label:"Textos",icon:$r},{id:"cores",label:"Cores",icon:oe},{id:"funcionalidades",label:"Funcionalidades",icon:oe},{id:"efeitos",label:"Efeitos Visuais",icon:Os},{id:"acessibilidade",label:"Acessibilidade",icon:Ae}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg",children:e.jsx(je,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"🎨 Personalizar Tela de Login"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Configure a aparência e funcionalidades"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Atualizar Preview"})]}),e.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Restaurar"})]}),e.jsxs("button",{onClick:T,disabled:i,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:i?"Salvando...":"Salvar"})]})]})]}),f&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Configurações salvas com sucesso!"})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6 overflow-x-auto",children:b.map(p=>{const O=p.icon;return e.jsx("button",{onClick:()=>o(p.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${l===p.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{children:p.label})]})},p.id)})})}),e.jsxs("div",{className:"p-6",children:[l==="layout"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estilo de Layout"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{value:"split",label:"Dividido",icon:ys},{value:"centered",label:"Centralizado",icon:Ns},{value:"minimal",label:"Minimalista",icon:Ls},{value:"fullscreen",label:"Tela Cheia",icon:je},{value:"sidebar",label:"Lateral",icon:Os},{value:"floating",label:"Flutuante",icon:Ls},{value:"magazine",label:"Revista",icon:ys},{value:"card",label:"Card",icon:Ns}].map(p=>e.jsxs("button",{onClick:()=>t({...a,layoutStyle:p.value}),className:`p-4 border rounded-lg text-center transition-colors ${a.layoutStyle===p.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(p.icon,{className:"h-6 w-6 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:p.label})]},p.value))}),a.layoutStyle==="split"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Posição do Formulário"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"left",label:"Esquerda"},{value:"center",label:"Centro"},{value:"right",label:"Direita"}].map(p=>e.jsx("button",{onClick:()=>t({...a,formPosition:p.value}),className:`p-3 border rounded-lg text-center transition-colors ${a.formPosition===p.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("span",{className:"text-sm font-medium",children:p.label})},p.value))})]})]}),l==="branding"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Identidade Visual"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo Principal"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:a.logoUrl?e.jsx("img",{src:a.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):e.jsx(_s,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:p=>u("logoUrl",p),className:"hidden",id:"logo-upload"}),e.jsxs("label",{htmlFor:"logo-upload",className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Escolher Logo"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG/JPG até 5MB"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Escola"}),e.jsx("input",{type:"text",value:a.schoolName,onChange:p=>t({...a,schoolName:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome da instituição"})]}),e.jsxs("div",{className:"border-2 border-yellow-200 bg-yellow-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-yellow-900 flex items-center",children:[e.jsx(_s,{className:"h-5 w-5 mr-2"}),"🎭 Logo Animada (Canto Superior)"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-yellow-700 font-medium",children:a.showAnimatedLogo?"Ativada":"Desativada"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.showAnimatedLogo,onChange:p=>t({...a,showAnimatedLogo:p.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),e.jsx("div",{className:"p-3 bg-yellow-100 border border-yellow-300 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"💡 Esta é a logo que aparece no canto superior esquerdo da tela de login."}),e.jsx("br",{}),"Desative esta opção para remover o quadrado com logo que está incomodando."]})}),a.showAnimatedLogo&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem da Logo Animada"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:a.animatedLogoUrl?e.jsx("img",{src:a.animatedLogoUrl,alt:"Logo Animada",className:"w-full h-full object-cover"}):e.jsx(_s,{className:"h-6 w-6 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:p=>u("animatedLogoUrl",p),className:"hidden",id:"animated-logo-upload"}),e.jsxs("label",{htmlFor:"animated-logo-upload",className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Escolher Imagem"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tamanho"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"small",label:"Pequeno"},{value:"medium",label:"Médio"},{value:"large",label:"Grande"}].map(p=>e.jsx("button",{onClick:()=>t({...a,animatedLogoSize:p.value}),className:`p-3 border rounded-lg text-center transition-colors ${a.animatedLogoSize===p.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("span",{className:"text-sm font-medium",children:p.label})},p.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posição"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"top",label:"Superior"},{value:"center",label:"Centro"},{value:"bottom",label:"Inferior"}].map(p=>e.jsx("button",{onClick:()=>t({...a,animatedLogoPosition:p.value}),className:`p-3 border rounded-lg text-center transition-colors ${a.animatedLogoPosition===p.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:e.jsx("span",{className:"text-sm font-medium",children:p.label})},p.value))})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem de Fundo (Lado Esquerdo)"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:a.backgroundImageUrl?e.jsx("img",{src:a.backgroundImageUrl,alt:"Fundo",className:"w-full h-full object-cover"}):e.jsx(la,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:p=>u("backgroundImageUrl",p),className:"hidden",id:"background-upload"}),e.jsxs("label",{htmlFor:"background-upload",className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Escolher Imagem"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG/JPG até 5MB"})]})]})]})]}),l==="textos"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Textos da Interface"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensagem de Boas-vindas"}),e.jsx("input",{type:"text",value:a.welcomeMessage,onChange:p=>t({...a,welcomeMessage:p.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.welcomeMessage?"border-red-300":"border-gray-300"}`,placeholder:"Mensagem principal"}),g.welcomeMessage&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:g.welcomeMessage})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título do Lado Esquerdo"}),e.jsx("input",{type:"text",value:a.leftSideTitle,onChange:p=>t({...a,leftSideTitle:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Título principal"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtítulo do Lado Esquerdo"}),e.jsx("textarea",{value:a.leftSideSubtitle,onChange:p=>t({...a,leftSideSubtitle:p.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descrição ou subtítulo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtítulo do Login"}),e.jsx("input",{type:"text",value:a.loginSubtitle,onChange:p=>t({...a,loginSubtitle:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Texto abaixo do título de login"})]})]}),l==="cores"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Esquema de Cores"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor Primária"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:a.primaryColor,onChange:p=>t({...a,primaryColor:p.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:a.primaryColor,onChange:p=>t({...a,primaryColor:p.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor Secundária"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:a.secondaryColor,onChange:p=>t({...a,secondaryColor:p.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:a.secondaryColor,onChange:p=>t({...a,secondaryColor:p.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor de Destaque"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:a.accentColor,onChange:p=>t({...a,accentColor:p.target.value}),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:a.accentColor,onChange:p=>t({...a,accentColor:p.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),l==="funcionalidades"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Elementos da Interface"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Elementos Principais"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.showLogo,onChange:p=>t({...a,showLogo:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar logo principal"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.showWelcomeText,onChange:p=>t({...a,showWelcomeText:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar texto de boas-vindas"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.showSubtitle,onChange:p=>t({...a,showSubtitle:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar subtítulo"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.showCredentialsHelper,onChange:p=>t({...a,showCredentialsHelper:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar credenciais de teste"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Links e Navegação"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.showHelpLinks,onChange:p=>t({...a,showHelpLinks:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar links de ajuda"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.showSiteButton,onChange:p=>t({...a,showSiteButton:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar botão do site"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.showFooter,onChange:p=>t({...a,showFooter:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mostrar rodapé"})]})]})]})]}),l==="efeitos"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Efeitos e Animações"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Efeitos Visuais"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.enableGlassEffect,onChange:p=>t({...a,enableGlassEffect:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Efeito de vidro (glass)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.enableGradients,onChange:p=>t({...a,enableGradients:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Gradientes"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.enableShadows,onChange:p=>t({...a,enableShadows:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Sombras"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Animações"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.enableAnimations,onChange:p=>t({...a,enableAnimations:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Habilitar animações"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.enableParticles,onChange:p=>t({...a,enableParticles:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Partículas de fundo"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Opacidade do Overlay (",a.overlayOpacity,"%)"]}),e.jsx("input",{type:"range",min:"0",max:"100",value:a.overlayOpacity,onChange:p=>t({...a,overlayOpacity:parseInt(p.target.value)}),className:"w-full"})]})]}),l==="acessibilidade"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Opções de Acessibilidade"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.highContrast,onChange:p=>t({...a,highContrast:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Alto contraste"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.reducedMotion,onChange:p=>t({...a,reducedMotion:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Movimento reduzido"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.showResponsiveIndicator,onChange:p=>t({...a,showResponsiveIndicator:p.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Indicador de responsividade"})]})]})]}),g.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),g.submit]})})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Preview em Tempo Real"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>R("iframe"),className:`px-3 py-2 rounded-lg transition-colors ${D==="iframe"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(je,{className:"h-4 w-4 mr-2 inline"}),"Iframe"]}),e.jsxs("button",{onClick:()=>{R("newTab"),d()},className:`px-3 py-2 rounded-lg transition-colors ${D==="newTab"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(Da,{className:"h-4 w-4 mr-2 inline"}),"Nova Aba"]})]})]}),D==="iframe"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Preview da Tela de Login"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Hs,{className:"h-4 w-4 text-gray-400"}),e.jsx(Ra,{className:"h-4 w-4 text-gray-400"}),e.jsx(je,{className:"h-4 w-4 text-blue-600"})]})]}),e.jsx("iframe",{ref:c,src:"/?preview=login",className:"w-full h-96 border-0",title:"Preview da Tela de Login",onLoad:()=>{console.log("🔄 Iframe carregado, enviando configurações..."),setTimeout(()=>{k()},100)},sandbox:"allow-scripts allow-same-origin"})]})]})]})]})}const Yl={dashboard:"Dashboard Administrativo",usuarios:"Gerenciar Usuários",alunos:"Gerenciar Alunos",turmas:"Gerenciar Turmas",disciplinas:"Gerenciar Disciplinas",relatorios:"Relatórios e Análises",configuracoes:"Configurações do Sistema","editar-informacoes":"Informações da Escola","personalizacao-visual":"Personalização Visual","personalizacao-sidebar":"Personalizar Menu Lateral","personalizacao-login":"Personalizar Tela de Login","dados-importexport":"Gestão de Dados",manutencao:"Manutenção do Sistema",auditoria:"Auditoria e Logs",permissoes:"Gestão de Permissões","configuracao-ajuda":"Configuração de Ajuda",recados:"Central de Recados",materiais:"Gestão de Materiais",agenda:"Agenda Escolar",notas:"Gestão de Notas",presenca:"Controle de Presença",notificacoes:"Central de Notificações",whatsapp:"WhatsApp Business",discloud:"Deploy Discloud",perfil:"Meu Perfil"};function Ql({onNavigate:s,currentPage:r="dashboard"}){const{user:a,isSupabaseConnected:t,signOut:l}=ke(),o=Ie(a,t),[i,m]=h.useState({totalUsuarios:0,totalAlunos:0,totalTurmas:0,totalDisciplinas:0,totalNotas:0,mediaGeral:0,usuariosPorTipo:{admin:0,professor:0,pai:0}}),[f,y]=h.useState(!0),[g,v]=h.useState(!1),D=h.useCallback(async()=>{confirm("Tem certeza que deseja sair do sistema?")&&await l()},[l]),R=h.useCallback(N=>{console.log("🔍 [AdminDashboard] handleNavigate chamado:",{pageId:N,currentPage:r,userType:a==null?void 0:a.tipo_usuario,timestamp:new Date().toISOString()}),N==="sair"?D():(console.log("🔍 [AdminDashboard] Chamando onNavigate com:",N),s==null||s(N)),v(!1)},[s,D]);h.useEffect(()=>{c();const N=T=>{R(T.detail)};return window.addEventListener("navigate",N),()=>{window.removeEventListener("navigate",N)}},[r,R]);const c=async()=>{try{const N=await o.getStats();m(N)}catch(N){console.error("Erro ao carregar estatísticas:",N)}finally{y(!1)}},k=()=>f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-6"}),e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:"Carregando painel administrativo..."}),e.jsx("p",{className:"text-lg text-gray-500 mt-2",children:"Aguarde um momento"})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-white to-blue-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-blue-200 mobile-card",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl sm:rounded-3xl shadow-lg mx-auto sm:mx-0",children:e.jsx(be,{className:"h-8 w-8 sm:h-10 sm:w-10 lg:h-12 lg:w-12 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-black bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["👑 Olá, ",a==null?void 0:a.nome.split(" ")[0],"!"]}),e.jsx("p",{className:"text-gray-700 mt-1 sm:mt-2 text-base sm:text-lg lg:text-xl font-bold",children:"Painel de controle administrativo"})]})]}),e.jsx("div",{className:"flex items-center justify-center sm:justify-end",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-xl sm:rounded-2xl text-sm sm:text-base lg:text-lg font-black shadow-lg",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"hidden sm:inline",children:"Sistema Online"}),e.jsx("span",{className:"sm:hidden",children:"Online"})]})})]})}),e.jsxs("div",{className:"mobile-stats-grid",children:[e.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-xl sm:rounded-2xl shadow-xl border-2 border-blue-200 mobile-card hover:shadow-2xl hover:scale-105 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-black text-blue-600 uppercase tracking-wide",children:"👥 Usuários"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-blue-700",children:i.totalUsuarios}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-2 mt-1 sm:mt-2",children:e.jsxs("div",{className:"text-xs text-blue-600",children:["Admin: ",i.usuariosPorTipo.admin," | Prof: ",i.usuariosPorTipo.professor," | Pais: ",i.usuariosPorTipo.pai]})})]}),e.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl sm:rounded-2xl shadow-lg",children:e.jsx(W,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-xl sm:rounded-2xl shadow-xl border-2 border-green-200 mobile-card hover:shadow-2xl hover:scale-105 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-black text-green-600 uppercase tracking-wide",children:"🎓 Alunos"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-green-700",children:i.totalAlunos}),e.jsx("p",{className:"text-xs text-green-600 mt-1 sm:mt-2",children:"Matriculados ativos"})]}),e.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-green-400 to-green-600 rounded-xl sm:rounded-2xl shadow-lg",children:e.jsx(ne,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-xl sm:rounded-2xl shadow-xl border-2 border-purple-200 mobile-card hover:shadow-2xl hover:scale-105 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-black text-purple-600 uppercase tracking-wide",children:"🏫 Turmas"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-purple-700",children:i.totalTurmas}),e.jsx("p",{className:"text-xs text-purple-600 mt-1 sm:mt-2",children:"Turmas ativas"})]}),e.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl sm:rounded-2xl shadow-lg",children:e.jsx(re,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-orange-50 rounded-xl sm:rounded-2xl shadow-xl border-2 border-orange-200 mobile-card hover:shadow-2xl hover:scale-105 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-black text-orange-600 uppercase tracking-wide",children:"📚 Disciplinas"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-orange-700",children:i.totalDisciplinas}),e.jsx("p",{className:"text-xs text-orange-600 mt-1 sm:mt-2",children:"Disciplinas cadastradas"})]}),e.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-orange-400 to-orange-600 rounded-xl sm:rounded-2xl shadow-lg",children:e.jsx(ee,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-white"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-xl border-2 border-gray-200 mobile-card",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-6 sm:mb-8",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl sm:rounded-2xl shadow-lg mx-auto sm:mx-0",children:e.jsx(W,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-black text-gray-900",children:"👥 Gestão de Pessoas"}),e.jsx("p",{className:"text-gray-600 font-semibold text-sm sm:text-base",children:"Gerencie usuários, alunos e permissões"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("button",{onClick:()=>R("usuarios"),className:"group mobile-card bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 border-2 border-blue-200 hover:border-blue-400 rounded-xl sm:rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-blue-500 rounded-lg sm:rounded-xl text-white group-hover:scale-110 transition-transform mx-auto sm:mx-0",children:e.jsx(W,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-black text-blue-900",children:"Usuários"}),e.jsx("p",{className:"text-blue-700 font-bold text-sm sm:text-base",children:"Gerenciar contas"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xl sm:text-2xl font-black text-blue-600",children:i.totalUsuarios}),e.jsxs("span",{className:"text-xs sm:text-sm text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-2 sm:px-3 py-1 rounded-lg",children:[e.jsx("span",{className:"hidden sm:inline",children:"Gerenciar →"}),e.jsx("span",{className:"sm:hidden",children:"→"})]})]})]}),e.jsxs("button",{onClick:()=>R("alunos"),className:"group mobile-card bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border-2 border-green-200 hover:border-green-400 rounded-xl sm:rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-green-500 rounded-lg sm:rounded-xl text-white group-hover:scale-110 transition-transform mx-auto sm:mx-0",children:e.jsx(ne,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-black text-green-900",children:"Alunos"}),e.jsx("p",{className:"text-green-700 font-bold text-sm sm:text-base",children:"Cadastrar e editar"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xl sm:text-2xl font-black text-green-600",children:i.totalAlunos}),e.jsxs("span",{className:"text-xs sm:text-sm text-green-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-2 sm:px-3 py-1 rounded-lg",children:[e.jsx("span",{className:"hidden sm:inline",children:"Gerenciar →"}),e.jsx("span",{className:"sm:hidden",children:"→"})]})]})]}),e.jsxs("button",{onClick:()=>R("permissoes"),className:"group mobile-card bg-gradient-to-br from-red-50 to-red-100 hover:from-red-100 hover:to-red-200 border-2 border-red-200 hover:border-red-400 rounded-xl sm:rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl sm:col-span-2 lg:col-span-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-red-500 rounded-lg sm:rounded-xl text-white group-hover:scale-110 transition-transform mx-auto sm:mx-0",children:e.jsx(he,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-black text-red-900",children:"Permissões"}),e.jsx("p",{className:"text-red-700 font-bold text-sm sm:text-base",children:"Controle de acesso"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-base sm:text-lg font-black text-red-600",children:"Segurança"}),e.jsxs("span",{className:"text-xs sm:text-sm text-red-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-2 sm:px-3 py-1 rounded-lg",children:[e.jsx("span",{className:"hidden sm:inline",children:"Configurar →"}),e.jsx("span",{className:"sm:hidden",children:"→"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border-2 border-gray-200 p-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl shadow-lg",children:e.jsx(re,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"🏫 Gestão Acadêmica"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Organize turmas, disciplinas e conteúdo"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("button",{onClick:()=>R("turmas"),className:"group p-6 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 border-2 border-purple-200 hover:border-purple-400 rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-4 bg-purple-500 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(re,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-purple-900",children:"Turmas"}),e.jsx("p",{className:"text-purple-700 font-bold",children:"Organizar turmas"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-black text-purple-600",children:i.totalTurmas}),e.jsx("span",{className:"text-sm text-purple-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-3 py-1 rounded-lg",children:"Gerenciar →"})]})]}),e.jsxs("button",{onClick:()=>R("disciplinas"),className:"group p-6 bg-gradient-to-br from-indigo-50 to-indigo-100 hover:from-indigo-100 hover:to-indigo-200 border-2 border-indigo-200 hover:border-indigo-400 rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-4 bg-indigo-500 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(ee,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-indigo-900",children:"Disciplinas"}),e.jsx("p",{className:"text-indigo-700 font-bold",children:"Matérias e conteúdo"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-black text-indigo-600",children:i.totalDisciplinas}),e.jsx("span",{className:"text-sm text-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-3 py-1 rounded-lg",children:"Gerenciar →"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border-2 border-gray-200 p-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl shadow-lg",children:e.jsx(be,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"📊 Relatórios e Análises"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Dados e insights do sistema"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("button",{onClick:()=>R("relatorios"),className:"group p-6 bg-gradient-to-br from-emerald-50 to-emerald-100 hover:from-emerald-100 hover:to-emerald-200 border-2 border-emerald-200 hover:border-emerald-400 rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-4 bg-emerald-500 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(be,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-emerald-900",children:"Relatórios"}),e.jsx("p",{className:"text-emerald-700 font-bold",children:"Análises e estatísticas"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-black text-emerald-600",children:"Disponível"}),e.jsx("span",{className:"text-sm text-emerald-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-3 py-1 rounded-lg",children:"Acessar →"})]})]}),e.jsxs("button",{onClick:()=>R("auditoria"),className:"group p-6 bg-gradient-to-br from-pink-50 to-pink-100 hover:from-pink-100 hover:to-pink-200 border-2 border-pink-200 hover:border-pink-400 rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-4 bg-pink-500 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(ve,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-pink-900",children:"Auditoria"}),e.jsx("p",{className:"text-pink-700 font-bold",children:"Logs e monitoramento"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-black text-pink-600",children:"Ativo"}),e.jsx("span",{className:"text-sm text-pink-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-3 py-1 rounded-lg",children:"Visualizar →"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border-2 border-gray-200 p-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-gray-500 to-gray-700 rounded-2xl shadow-lg",children:e.jsx(oe,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"🔧 Configurações do Sistema"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Personalize e configure o sistema"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("button",{onClick:()=>R("configuracoes"),className:"group p-6 bg-gradient-to-br from-gray-50 to-gray-100 hover:from-gray-100 hover:to-gray-200 border-2 border-gray-200 hover:border-gray-400 rounded-2xl text-center transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsx("div",{className:"p-4 bg-gray-500 rounded-xl text-white mx-auto mb-4 group-hover:scale-110 transition-transform w-fit",children:e.jsx(oe,{className:"h-8 w-8"})}),e.jsx("h3",{className:"text-lg font-black text-gray-900 mb-2",children:"Sistema"}),e.jsx("p",{className:"text-gray-600 font-semibold text-sm",children:"Configurações gerais"})]}),e.jsxs("button",{onClick:()=>R("personalizacao-visual"),className:"group p-6 bg-gradient-to-br from-pink-50 to-pink-100 hover:from-pink-100 hover:to-pink-200 border-2 border-pink-200 hover:border-pink-400 rounded-2xl text-center transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsx("div",{className:"p-4 bg-pink-500 rounded-xl text-white mx-auto mb-4 group-hover:scale-110 transition-transform w-fit",children:e.jsx(ds,{className:"h-8 w-8"})}),e.jsx("h3",{className:"text-lg font-black text-pink-900 mb-2",children:"Visual"}),e.jsx("p",{className:"text-pink-600 font-semibold text-sm",children:"Cores e aparência"})]}),e.jsxs("button",{onClick:()=>R("personalizacao-sidebar"),className:"group p-6 bg-gradient-to-br from-indigo-50 to-indigo-100 hover:from-indigo-100 hover:to-indigo-200 border-2 border-indigo-200 hover:border-indigo-400 rounded-2xl text-center transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsx("div",{className:"p-4 bg-indigo-500 rounded-xl text-white mx-auto mb-4 group-hover:scale-110 transition-transform w-fit",children:e.jsx(_a,{className:"h-8 w-8"})}),e.jsx("h3",{className:"text-lg font-black text-indigo-900 mb-2",children:"Menu"}),e.jsx("p",{className:"text-indigo-600 font-semibold text-sm",children:"Personalizar sidebar"})]}),e.jsxs("button",{onClick:()=>R("personalizacao-login"),className:"group p-6 bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 border-2 border-blue-200 hover:border-blue-400 rounded-2xl text-center transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsx("div",{className:"p-4 bg-blue-500 rounded-xl text-white mx-auto mb-4 group-hover:scale-110 transition-transform w-fit",children:e.jsx(je,{className:"h-8 w-8"})}),e.jsx("h3",{className:"text-lg font-black text-blue-900 mb-2",children:"Login"}),e.jsx("p",{className:"text-blue-600 font-semibold text-sm",children:"Tela de entrada"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border-2 border-gray-200 p-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg",children:e.jsx(Le,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"🔔 Comunicação"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Recados, notificações e WhatsApp"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("button",{onClick:()=>R("recados"),className:"group p-6 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 border-2 border-purple-200 hover:border-purple-400 rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-4 bg-purple-500 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(Le,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-purple-900",children:"Recados"}),e.jsx("p",{className:"text-purple-700 font-bold",children:"Central de comunicados"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-black text-purple-600",children:"Ativo"}),e.jsx("span",{className:"text-sm text-purple-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-3 py-1 rounded-lg",children:"Gerenciar →"})]})]}),e.jsxs("button",{onClick:()=>R("notificacoes"),className:"group p-6 bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 border-2 border-blue-200 hover:border-blue-400 rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-4 bg-blue-500 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(_e,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-blue-900",children:"Notificações"}),e.jsx("p",{className:"text-blue-700 font-bold",children:"Central de avisos"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-black text-blue-600",children:"Sistema"}),e.jsx("span",{className:"text-sm text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-3 py-1 rounded-lg",children:"Visualizar →"})]})]}),e.jsxs("button",{onClick:()=>R("whatsapp"),className:"group p-6 bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border-2 border-green-200 hover:border-green-400 rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-4 bg-green-500 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(ns,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-green-900",children:"WhatsApp"}),e.jsx("p",{className:"text-green-700 font-bold",children:"Comunicação direta"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-black text-green-600",children:"Business"}),e.jsx("span",{className:"text-sm text-green-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-3 py-1 rounded-lg",children:"Configurar →"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border-2 border-gray-200 p-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg",children:e.jsx(ye,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"🛠️ Manutenção e Dados"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Backup, importação e manutenção"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("button",{onClick:()=>R("dados-importexport"),className:"group p-6 bg-gradient-to-br from-teal-50 to-teal-100 hover:from-teal-100 hover:to-teal-200 border-2 border-teal-200 hover:border-teal-400 rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-4 bg-teal-500 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(ve,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-teal-900",children:"Dados"}),e.jsx("p",{className:"text-teal-700 font-bold",children:"Import/Export"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-black text-teal-600",children:"Backup"}),e.jsx("span",{className:"text-sm text-teal-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-3 py-1 rounded-lg",children:"Gerenciar →"})]})]}),e.jsxs("button",{onClick:()=>R("manutencao"),className:"group p-6 bg-gradient-to-br from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 border-2 border-orange-200 hover:border-orange-400 rounded-2xl text-left transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-4 bg-orange-500 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(ye,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-orange-900",children:"Manutenção"}),e.jsx("p",{className:"text-orange-700 font-bold",children:"Sistema e limpeza"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-black text-orange-600",children:"Sistema"}),e.jsx("span",{className:"text-sm text-orange-600 opacity-0 group-hover:opacity-100 transition-opacity font-bold bg-white px-3 py-1 rounded-lg",children:"Acessar →"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 rounded-3xl shadow-xl border-2 border-yellow-200 p-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl shadow-lg",children:e.jsx(Ue,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"⚡ Ações Rápidas"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Acesso direto às funções mais usadas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>R("usuarios"),className:"p-4 bg-white border-2 border-blue-200 rounded-xl hover:border-blue-400 hover:shadow-lg transition-all duration-300 hover:scale-105 text-center",children:[e.jsx(W,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-bold text-blue-900",children:"+ Usuário"})]}),e.jsxs("button",{onClick:()=>R("alunos"),className:"p-4 bg-white border-2 border-green-200 rounded-xl hover:border-green-400 hover:shadow-lg transition-all duration-300 hover:scale-105 text-center",children:[e.jsx(ne,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-bold text-green-900",children:"+ Aluno"})]}),e.jsxs("button",{onClick:()=>R("turmas"),className:"p-4 bg-white border-2 border-purple-200 rounded-xl hover:border-purple-400 hover:shadow-lg transition-all duration-300 hover:scale-105 text-center",children:[e.jsx(re,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-bold text-purple-900",children:"+ Turma"})]}),e.jsxs("button",{onClick:()=>R("relatorios"),className:"p-4 bg-white border-2 border-emerald-200 rounded-xl hover:border-emerald-400 hover:shadow-lg transition-all duration-300 hover:scale-105 text-center",children:[e.jsx(be,{className:"h-6 w-6 text-emerald-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-bold text-emerald-900",children:"Relatório"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border-2 border-gray-200 p-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg",children:e.jsx(X,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900",children:"📊 Status do Sistema"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Monitoramento em tempo real"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx(X,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold text-green-800",children:"Banco de Dados"}),e.jsx("p",{className:"text-xs text-green-600",children:t?"Supabase Online":"Local Ativo"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx(he,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold text-blue-800",children:"Segurança"}),e.jsx("p",{className:"text-xs text-blue-600",children:"SSL Ativo"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl border border-purple-200",children:[e.jsx(Ue,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold text-purple-800",children:"Performance"}),e.jsx("p",{className:"text-xs text-purple-600",children:"Otimizada"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[e.jsx(Fs,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold text-yellow-800",children:"Uptime"}),e.jsx("p",{className:"text-xs text-yellow-600",children:"99.9%"})]})]})]})]});return e.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-gray-50 to-blue-50 overflow-hidden",children:[e.jsx(wr,{currentPage:r,onPageChange:R,isOpen:g,onToggle:()=>v(!g)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Cr,{onMenuToggle:()=>v(!g),title:Yl[r]||"Dashboard Administrativo"}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gradient-to-br from-gray-50 to-blue-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto mobile-container",children:[r==="dashboard"&&k(),r==="usuarios"&&e.jsx(Hr,{}),r==="alunos"&&e.jsx(Wr,{}),r==="turmas"&&e.jsx(Xr,{}),r==="disciplinas"&&e.jsx(st,{}),r==="relatorios"&&e.jsx(at,{}),r==="configuracoes"&&e.jsx(rt,{onNavigate:R}),r==="editar-informacoes"&&e.jsx(tt,{}),r==="personalizacao-visual"&&e.jsx(lt,{}),r==="personalizacao-sidebar"&&e.jsx(ot,{}),r==="personalizacao-login"&&e.jsx(Wl,{}),r==="dados-importexport"&&e.jsx(it,{}),r==="manutencao"&&e.jsx(nt,{}),r==="auditoria"&&e.jsx(ct,{}),r==="permissoes"&&e.jsx(xt,{}),r==="configuracao-ajuda"&&e.jsx(dt,{}),r==="notificacoes"&&e.jsx(Sr,{}),r==="perfil"&&e.jsx(kr,{}),r==="recados"&&e.jsx(Er,{}),r==="materiais"&&e.jsx(Ar,{}),r==="agenda"&&e.jsx(Tr,{}),r==="notas"&&e.jsx(_r,{}),r==="presenca"&&e.jsx(Rr,{}),r==="whatsapp"&&e.jsx(ft,{}),r==="discloud"&&e.jsx(Jl,{})]})})]})]})}export{Ql as AdminDashboard};
