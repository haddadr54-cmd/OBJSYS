import{u as z,d as W,r as n,j as e,M as U,X as H,h as re,a as v,U as J,A as q,n as le,v as oe,ah as ne,G as L,q as X,B as R,C as G,i as ie,b as Q,P as Y,a1 as ee,S as de,s as ce,a5 as I,T as se,e as Z,af as me}from"./index-BkKkyjN2.js";import{F as xe,L as te,H as K,N as he,A as ue,M as pe,R as ge,a as be,P as fe}from"./NotificacoesPage-BcBm0jKI.js";import{P as je}from"./PresencaPage-BZrnl-r7.js";function ae({isOpen:m,onClose:i,onSave:h}){var a,j;const{user:b,isSupabaseConnected:u}=z(),w=W(b,u),[p,N]=n.useState([]),[S,f]=n.useState([]),[s,r]=n.useState({destinatario_tipo:"turma",destinatario_id:"",aluno_id:"",titulo:"",conteudo:""}),[y,x]=n.useState(!1),[T,c]=n.useState(!1),[l,g]=n.useState({});n.useEffect(()=>{m&&b&&P()},[m,b]),n.useEffect(()=>{s.destinatario_tipo==="aluno"&&s.destinatario_id?k():s.destinatario_tipo!=="aluno"&&(f([]),r(t=>({...t,aluno_id:""})))},[s.destinatario_tipo,s.destinatario_id]);const P=async()=>{try{const t=await w.getTurmas();N(t)}catch(t){console.error("Erro ao carregar turmas:",t)}},k=async()=>{try{const $=(await w.getAlunos()).filter(o=>o.turma_id===s.destinatario_id);f($)}catch(t){console.error("Erro ao carregar alunos:",t)}},V=()=>{const t={};return s.titulo.trim()||(t.titulo="Título é obrigatório"),s.conteudo.trim()||(t.conteudo="Mensagem é obrigatória"),s.destinatario_tipo!=="geral"&&!s.destinatario_id&&(t.destinatario="Selecione o destinatário"),s.destinatario_tipo==="aluno"&&!s.aluno_id&&(t.destinatario="Selecione o aluno"),g(t),Object.keys(t).length===0},B=async()=>{if(V()){x(!0);try{await w.createRecado({titulo:s.titulo,conteudo:s.conteudo,destinatario_tipo:s.destinatario_tipo,destinatario_id:s.destinatario_tipo==="geral"?void 0:s.destinatario_tipo==="aluno"?s.aluno_id:s.destinatario_id,enviado_por:b.id}),c(!0),setTimeout(()=>{h(),i(),F()},1500)}catch(t){console.error("Erro ao enviar recado:",t),g({submit:"Erro ao enviar recado"})}finally{x(!1)}}},F=()=>{r({destinatario_tipo:"turma",destinatario_id:"",aluno_id:"",titulo:"",conteudo:""}),g({}),c(!1)};return m?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-full",children:e.jsx(U,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Enviar Recado"})]}),e.jsx("button",{onClick:()=>{i(),F()},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(H,{className:"h-5 w-5 text-gray-500"})})]}),T&&e.jsx("div",{className:"p-4 bg-green-50 border-b border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Recado enviado com sucesso!"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Destinatário *"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>r({...s,destinatario_tipo:"geral",destinatario_id:""}),className:`p-3 border rounded-lg text-center transition-colors ${s.destinatario_tipo==="geral"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(v,{className:"h-5 w-5 mx-auto mb-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Geral"})]}),e.jsxs("button",{type:"button",onClick:()=>r({...s,destinatario_tipo:"turma",destinatario_id:""}),className:`p-3 border rounded-lg text-center transition-colors ${s.destinatario_tipo==="turma"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(v,{className:"h-5 w-5 mx-auto mb-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Turma"})]}),e.jsxs("button",{type:"button",onClick:()=>r({...s,destinatario_tipo:"aluno",destinatario_id:""}),className:`p-3 border rounded-lg text-center transition-colors ${s.destinatario_tipo==="aluno"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(J,{className:"h-5 w-5 mx-auto mb-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Aluno"})]})]})]}),s.destinatario_tipo==="turma"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Selecionar Turma *"}),e.jsxs("select",{value:s.destinatario_id,onChange:t=>r({...s,destinatario_id:t.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.destinatario?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selecione uma turma"}),p.map(t=>e.jsx("option",{value:t.id,children:t.nome},t.id))]}),l.destinatario&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),l.destinatario]})]}),s.destinatario_tipo==="aluno"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Selecionar Turma *"}),e.jsxs("select",{value:s.destinatario_id,onChange:t=>r({...s,destinatario_id:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Selecione uma turma primeiro"}),p.map(t=>e.jsx("option",{value:t.id,children:t.nome},t.id))]})]}),s.destinatario_id&&S.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Selecionar Aluno *"}),e.jsxs("select",{value:s.aluno_id,onChange:t=>r({...s,aluno_id:t.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.destinatario?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Selecione um aluno"}),S.map(t=>e.jsx("option",{value:t.id,children:t.nome},t.id))]}),l.destinatario&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),l.destinatario]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assunto *"}),e.jsx("input",{type:"text",value:s.titulo,onChange:t=>r({...s,titulo:t.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.titulo?"border-red-300":"border-gray-300"}`,placeholder:"Digite o assunto do recado"}),l.titulo&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),l.titulo]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensagem *"}),e.jsx("textarea",{value:s.conteudo,onChange:t=>r({...s,conteudo:t.target.value}),rows:6,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.conteudo?"border-red-300":"border-gray-300"}`,placeholder:"Digite a mensagem do recado..."}),l.conteudo&&e.jsxs("p",{className:"text-red-600 text-xs mt-1 flex items-center",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),l.conteudo]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.conteudo.length,"/500 caracteres"]})]}),s.destinatario_tipo!=="geral"&&s.destinatario_id&&e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Destinatário:"}),e.jsx("div",{className:"flex items-center space-x-2",children:s.destinatario_tipo==="turma"?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-blue-700",children:["Turma: ",(a=p.find(t=>t.id===s.destinatario_id))==null?void 0:a.nome]})]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-blue-700",children:["Aluno: ",(j=S.find(t=>t.id===s.aluno_id))==null?void 0:j.nome]})]})})]}),s.destinatario_tipo==="geral"&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Recado será enviado para todos os pais e responsáveis"})]})}),p.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(U,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma turma atribuída"}),e.jsx("p",{className:"text-gray-500",children:"Você ainda não possui turmas atribuídas. Entre em contato com o administrador."})]}),l.submit&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),l.submit]})})]}),p.length>0&&e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{i(),F()},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsxs("button",{onClick:B,disabled:y||T,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:y?"Enviando...":"Enviar Recado"})]})]})]})}):null}function Ne({isOpen:m,onClose:i}){var g,P,k,V,B,F;const{user:h}=z(),{isSupabaseConnected:b}=z(),u=W(h,b),[w,p]=n.useState([]),[N,S]=n.useState([]),[f,s]=n.useState({busca:"",turma:""}),[r,y]=n.useState(null),[x,T]=n.useState(!1);n.useEffect(()=>{m&&h&&c()},[m,h]);const c=async()=>{T(!0);try{const a=await u.getTurmas();if(p(a),a.length>0){const j=a.map(d=>d.id),t=await u.getAlunos(),$=b?await oe():[],o=h.tipo_usuario==="professor"?t.filter(d=>j.includes(d.turma_id)):t,_=[];for(const d of o){const C=a.find(D=>D.id===d.turma_id),M=$.find(D=>D.id===d.responsavel_id);let A=[];try{b?A=await ne(d.id):A=(await u.getNotas()).filter(E=>E.aluno_id===d.id)}catch(D){console.error("Erro ao carregar notas do aluno:",D),A=[]}const O=A.length>0?A.reduce((D,E)=>D+(E.nota||0),0)/A.length:0;_.push({...d,turma:C,responsavel:M,notas:A,mediaGeral:O,totalPresencas:0,percentualPresenca:0})}S(_)}}catch(a){console.error("Erro ao carregar dados:",a)}finally{T(!1)}},l=N.filter(a=>{const j=!f.busca||a.nome.toLowerCase().includes(f.busca.toLowerCase()),t=!f.turma||a.turma_id===f.turma;return j&&t});return m?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:e.jsx(L,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Meus Alunos"})]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(H,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nome do aluno...",value:f.busca,onChange:a=>s({...f,busca:a.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:f.turma,onChange:a=>s({...f,turma:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Todas as turmas"}),w.map(a=>e.jsx("option",{value:a.id,children:a.nome},a.id))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Alunos"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:N.length})]}),e.jsx(L,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Turmas"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:w.length})]}),e.jsx(v,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Média Geral"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:N.length>0?(N.reduce((a,j)=>a+j.mediaGeral,0)/N.length).toFixed(1):"0.0"})]}),e.jsx(R,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Com Notas"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:N.filter(a=>a.notas&&a.notas.length>0).length})]}),e.jsx(G,{className:"h-8 w-8 text-yellow-600"})]})})]}),x?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):w.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(L,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma turma atribuída"}),e.jsx("p",{className:"text-gray-500",children:"Você ainda não possui turmas atribuídas. Entre em contato com o administrador."})]}):l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(X,{className:"h-8 w-8 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Nenhum aluno encontrado com os filtros aplicados"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(a=>{var j,t,$;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:a.nome.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.nome}),e.jsx("p",{className:"text-sm text-gray-500",children:(j=a.turma)==null?void 0:j.nome})]})]}),e.jsx("button",{onClick:()=>y(a),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",children:e.jsx(ie,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Média Geral:"}),e.jsx("span",{className:`text-sm font-bold ${a.mediaGeral>=7?"text-green-600":a.mediaGeral>=5?"text-yellow-600":"text-red-600"}`,children:a.mediaGeral.toFixed(1)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Notas:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:((t=a.notas)==null?void 0:t.length)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Responsável:"}),e.jsx("span",{className:"text-sm text-gray-900",children:(($=a.responsavel)==null?void 0:$.nome)||"Não informado"})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:()=>y(a),className:"w-full text-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Ver Perfil Completo"})})]},a.id)})})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:r.nome.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.nome}),e.jsx("p",{className:"text-sm text-gray-500",children:(g=r.turma)==null?void 0:g.nome})]})]}),e.jsx("button",{onClick:()=>y(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(H,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Básicas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Nome Completo"}),e.jsx("p",{className:"text-gray-900",children:r.nome})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Turma"}),e.jsx("p",{className:"text-gray-900",children:(P=r.turma)==null?void 0:P.nome})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Matrícula"}),e.jsx("p",{className:"text-gray-900",children:r.id.slice(0,8)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Data de Criação"}),e.jsx("p",{className:"text-gray-900",children:new Date(r.criado_em).toLocaleDateString("pt-BR")})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Responsável"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Nome"}),e.jsx("p",{className:"text-gray-900",children:((k=r.responsavel)==null?void 0:k.nome)||"Não informado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Email"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:((V=r.responsavel)==null?void 0:V.email)||"Não informado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Telefone"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:((B=r.responsavel)==null?void 0:B.telefone)||"Não informado"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Desempenho Acadêmico"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Média Geral"}),e.jsx("p",{className:`text-2xl font-bold ${r.mediaGeral>=7?"text-green-600":r.mediaGeral>=5?"text-yellow-600":"text-red-600"}`,children:r.mediaGeral.toFixed(1)})]}),e.jsx(R,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Notas"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:((F=r.notas)==null?void 0:F.length)||0})]}),e.jsx(G,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Presença"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[r.percentualPresenca,"%"]})]}),e.jsx(v,{className:"h-8 w-8 text-purple-600"})]})})]}),r.notas&&r.notas.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Histórico de Notas"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Disciplina"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nota"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Trimestre"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Comentário"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.notas.map(a=>{var j;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-gray-900",children:(j=a.disciplina)==null?void 0:j.nome}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:`font-medium ${(a.nota||0)>=7?"text-green-600":(a.nota||0)>=5?"text-yellow-600":"text-red-600"}`,children:(a.nota||0).toFixed(1)})}),e.jsxs("td",{className:"px-3 py-2 text-gray-600",children:[a.trimestre,"º"]}),e.jsx("td",{className:"px-3 py-2 text-gray-600",children:a.comentario||"-"})]},a.id)})})]})})]})]})]})]})})]})}):null}function ve({onPageChange:m}){const{user:i,isSupabaseConnected:h}=z(),b=W(i,h),[u,w]=n.useState([]),[p,N]=n.useState([]),[S,f]=n.useState([]),[s,r]=n.useState({busca:"",turma:""}),[y,x]=n.useState(!0),[T,c]=n.useState(!1),[l,g]=n.useState(!1),[P,k]=n.useState(!1),[V,B]=n.useState(null);n.useEffect(()=>{i&&F()},[i,h]);const F=async()=>{try{const[o,_,d]=await Promise.all([b.getTurmas(),b.getAlunos(),b.getPermissions().canViewAllUsers?b.getUsuarios():[]]),C=d.filter(M=>M.tipo_usuario==="pai");N(o),w(_),f(C)}catch(o){console.error("Erro ao carregar dados:",o)}finally{x(!1)}},a=async o=>{const d=j(o).responsavel;if(!(d!=null&&d.telefone)){alert("O responsável deste aluno não possui telefone cadastrado.");return}const C=`Olá ${d.nome}! Esta é uma mensagem do Professor ${i==null?void 0:i.nome} sobre seu filho(a) ${o.nome}.`;try{const M=d.telefone.replace(/\D/g,""),A=await fetch("https://api.z-api.io/instances/3E77C41E18874016EF0E2676AA920B85/token/485FD874492F6CFAAC3069AD/send-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:M,message:C})}),O=await A.json();A.ok&&!O.error?alert(`✅ Mensagem enviada com sucesso para ${d.nome} (responsável por ${o.nome})!`):alert(`❌ Erro ao enviar mensagem: ${O.message||O.error||"Erro desconhecido"}`)}catch(M){console.error("Erro ao enviar WhatsApp:",M),alert("❌ Erro ao enviar mensagem via WhatsApp")}},j=o=>{const _=p.find(C=>C.id===o.turma_id),d=S.find(C=>String(C.id)===String(o.responsavel_id));return{...o,turma:_,responsavel:d}},t=u.filter(o=>{const _=!s.busca||o.nome.toLowerCase().includes(s.busca.toLowerCase()),d=!s.turma||o.turma_id===s.turma;return _&&d}),$=o=>{B(o),k(!0)};return y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-6"}),e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:"Carregando seus alunos..."}),e.jsx("p",{className:"text-lg text-gray-500 mt-2",children:"Aguarde um momento"})]})}):e.jsxs("div",{className:"space-y-6 sm:space-y-8 lg:space-y-12",children:[e.jsx("div",{className:"bg-gradient-to-br from-white via-green-50 to-emerald-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-green-200 p-6 sm:p-8 lg:p-12 animate-slide-in-up hover:shadow-2xl transition-all duration-500",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-6 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-green-500 via-emerald-500 to-teal-600 rounded-2xl sm:rounded-3xl shadow-2xl mx-auto sm:mx-0 animate-float",children:e.jsx(L,{className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 bg-clip-text text-transparent animate-glow",children:"🎓 Meus Alunos"}),e.jsx("p",{className:"text-gray-700 mt-2 sm:mt-4 text-lg sm:text-xl lg:text-2xl font-bold",children:"🌟 Acompanhe o desenvolvimento de cada estudante"})]})]}),e.jsx("div",{className:"flex items-center justify-center sm:justify-end",children:e.jsxs("div",{className:"flex items-center space-x-3 px-6 py-4 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-2xl text-lg font-black shadow-xl animate-bounce-soft",children:[e.jsx("div",{className:"w-4 h-4 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"hidden sm:inline",children:"✅ Sistema Ativo"}),e.jsx("span",{className:"sm:hidden",children:"✅ Ativo"})]})})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-white to-gray-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-gray-200 p-6 sm:p-8 animate-slide-in-up delay-100",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl shadow-lg",children:e.jsx(xe,{className:"h-6 w-6 text-white"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-black text-gray-900",children:"🔍 Filtros Inteligentes"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"🔎 Buscar por nome do aluno...",value:s.busca,onChange:o=>r({...s,busca:o.target.value}),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-300 rounded-2xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-lg font-semibold shadow-lg hover:shadow-xl transition-all"})]}),e.jsxs("select",{value:s.turma,onChange:o=>r({...s,turma:o.target.value}),className:"w-full px-4 py-4 border-2 border-gray-300 rounded-2xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:[e.jsx("option",{value:"",children:"🏫 Todas as turmas"}),p.map(o=>e.jsx("option",{value:o.id,children:o.nome},o.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-blue-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-blue-600 uppercase tracking-wider",children:"🎓 Alunos"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-blue-700 animate-glow",children:u.length}),e.jsx("p",{className:"text-xs sm:text-sm text-blue-500 font-bold",children:"Total"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(L,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-green-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-green-600 uppercase tracking-wider",children:"🏫 Turmas"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-green-700 animate-glow",children:p.length}),e.jsx("p",{className:"text-xs sm:text-sm text-green-500 font-bold",children:"Atribuídas"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(v,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-purple-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-purple-600 uppercase tracking-wider",children:"📊 Média"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-purple-700 animate-glow",children:p.length>0?Math.round(u.length/p.length):0}),e.jsx("p",{className:"text-xs sm:text-sm text-purple-500 font-bold",children:"Por turma"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(ee,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-amber-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-amber-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-400",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-amber-600 uppercase tracking-wider",children:"⭐ Status"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl font-black text-amber-700 animate-glow",children:"Excelente"}),e.jsx("p",{className:"text-xs sm:text-sm text-amber-500 font-bold",children:"Desempenho"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(de,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})})]}),t.length===0?e.jsxs("div",{className:"bg-gradient-to-br from-white via-gray-50 to-blue-50 rounded-3xl shadow-2xl border-2 border-gray-200 p-12 sm:p-16 lg:p-20 text-center animate-slide-in-up",children:[e.jsx("div",{className:"p-8 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full w-fit mx-auto mb-8 animate-bounce-soft",children:e.jsx(L,{className:"h-16 w-16 sm:h-20 sm:w-20 text-gray-400"})}),e.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-gray-900 mb-6",children:"🎓 Nenhum aluno encontrado"}),e.jsx("p",{className:"text-gray-600 text-lg sm:text-xl font-semibold",children:"Ajuste os filtros ou verifique se há alunos nas suas turmas."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:t.map((o,_)=>{var C,M,A,O,D;const d=j(o);return e.jsx("div",{className:"bg-gradient-to-br from-white via-green-50 to-emerald-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-green-200 hover:shadow-2xl hover:border-green-400 hover:scale-110 hover:rotate-1 transition-all duration-500 cursor-pointer group animate-scale-in",style:{animationDelay:`${_*100}ms`},onClick:()=>$(o),children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-green-500 via-emerald-500 to-teal-600 rounded-2xl sm:rounded-3xl flex items-center justify-center text-white font-black text-xl sm:text-2xl shadow-2xl animate-float",children:o.nome.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-black text-gray-900 group-hover:text-green-700 transition-colors leading-tight",children:o.nome}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 font-bold",children:["🏫 ",(C=d.turma)==null?void 0:C.nome]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs sm:text-sm text-green-600 font-bold",children:"Ativo"})]})]})]})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-green-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(J,{className:"h-5 w-5 text-green-600"})}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-700",children:"👨‍👩‍👧‍👦 Responsável"})]}),e.jsx("span",{className:"text-sm sm:text-base font-black text-green-600 truncate max-w-24",children:((M=d.responsavel)==null?void 0:M.nome)||"Não informado"})]}),((A=d.responsavel)==null?void 0:A.email)&&e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Q,{className:"h-5 w-5 text-blue-600"})}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-700",children:"📧 Email"})]}),e.jsx("span",{className:"text-xs sm:text-sm text-blue-600 font-semibold truncate max-w-32",children:d.responsavel.email})]}),((O=d.responsavel)==null?void 0:O.telefone)&&e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-purple-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Y,{className:"h-5 w-5 text-purple-600"})}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-700",children:"📱 Telefone"})]}),e.jsx("span",{className:"text-sm sm:text-base text-purple-600 font-semibold",children:d.responsavel.telefone})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:E=>{E.stopPropagation(),c(!0)},className:"flex items-center justify-center space-x-2 p-3 sm:p-4 text-sm sm:text-base text-white bg-gradient-to-r from-blue-500 to-blue-700 border-2 border-blue-300 rounded-xl sm:rounded-2xl hover:from-blue-600 hover:to-blue-800 hover:scale-110 hover:shadow-xl transition-all duration-300 font-black",children:[e.jsx(R,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Notas"}),e.jsx("span",{className:"sm:hidden",children:"📝"})]}),e.jsxs("button",{onClick:E=>{E.stopPropagation(),m?(console.log("🔍 [AlunosTeacherPage] Navegando para presenca"),m("presenca")):console.error("❌ onPageChange não está disponível")},className:"flex items-center justify-center space-x-2 p-3 sm:p-4 text-sm sm:text-base text-white bg-gradient-to-r from-green-500 to-green-700 border-2 border-green-300 rounded-xl sm:rounded-2xl hover:from-green-600 hover:to-green-800 hover:scale-110 hover:shadow-xl transition-all duration-300 font-black",children:[e.jsx(G,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Presença"}),e.jsx("span",{className:"sm:hidden",children:"✅"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:E=>{E.stopPropagation(),g(!0)},className:"flex items-center justify-center space-x-2 p-3 sm:p-4 text-sm sm:text-base text-white bg-gradient-to-r from-purple-500 to-purple-700 border-2 border-purple-300 rounded-xl sm:rounded-2xl hover:from-purple-600 hover:to-purple-800 hover:scale-110 hover:shadow-xl transition-all duration-300 font-black",children:[e.jsx(U,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Recado"}),e.jsx("span",{className:"sm:hidden",children:"💌"})]}),(((D=d.responsavel)==null?void 0:D.telefone)||o.telefone_responsavel)&&e.jsxs("button",{onClick:E=>{E.stopPropagation(),a(o)},className:"flex items-center justify-center space-x-2 p-3 sm:p-4 text-sm sm:text-base text-white bg-gradient-to-r from-green-500 to-emerald-600 border-2 border-green-300 rounded-xl sm:rounded-2xl hover:from-green-600 hover:to-emerald-700 hover:scale-110 hover:shadow-xl transition-all duration-300 font-black",children:[e.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"WhatsApp"}),e.jsx("span",{className:"sm:hidden",children:"📱"})]})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t-2 border-green-200 text-center",children:e.jsx("p",{className:"text-xs sm:text-sm text-green-700 opacity-0 group-hover:opacity-100 transition-opacity font-black bg-white px-4 py-2 rounded-xl shadow-lg",children:"✨ Clique para ver perfil completo do aluno"})})]})},o.id)})}),e.jsxs("div",{className:"bg-gradient-to-br from-white via-yellow-50 to-orange-50 rounded-3xl shadow-2xl border-2 border-yellow-200 p-8 sm:p-12 animate-slide-in-up delay-300",children:[e.jsxs("div",{className:"flex items-center space-x-6 mb-8",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl sm:rounded-3xl shadow-2xl animate-bounce-soft",children:e.jsx(I,{className:"h-8 w-8 sm:h-10 sm:w-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-black bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"⚡ Ações Rápidas"}),e.jsx("p",{className:"text-gray-700 font-bold text-lg sm:text-xl",children:"Acesso direto às funções mais usadas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("button",{onClick:()=>c(!0),className:"p-6 sm:p-8 bg-white border-2 border-blue-200 rounded-2xl sm:rounded-3xl hover:border-blue-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(R,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-blue-900",children:"📝 Lançar Notas"})]}),e.jsxs("button",{onClick:()=>{m?(console.log("🔍 [AlunosTeacherPage] Ações Rápidas - Navegando para presenca"),m("presenca")):console.error("❌ onPageChange não está disponível nas Ações Rápidas")},className:"p-6 sm:p-8 bg-white border-2 border-green-200 rounded-2xl sm:rounded-3xl hover:border-green-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(G,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-green-900",children:"✅ Presença"})]}),e.jsxs("button",{onClick:()=>{m?(console.log("🔍 [AlunosTeacherPage] Ações Rápidas - Navegando para agenda"),m("agenda")):console.error("❌ onPageChange não está disponível nas Ações Rápidas")},className:"p-6 sm:p-8 bg-white border-2 border-purple-200 rounded-2xl sm:rounded-3xl hover:border-purple-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(G,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-purple-900",children:"📅 Agenda"})]}),e.jsxs("button",{onClick:()=>g(!0),className:"p-6 sm:p-8 bg-white border-2 border-pink-200 rounded-2xl sm:rounded-3xl hover:border-pink-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-pink-400 to-pink-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(U,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-pink-900",children:"💌 Recados"})]})]})]}),e.jsx(te,{isOpen:T,onClose:()=>c(!1),onSave:()=>c(!1)}),e.jsx(ae,{isOpen:l,onClose:()=>g(!1),onSave:()=>g(!1)}),e.jsx(Ne,{isOpen:P,onClose:()=>{k(!1),B(null)}})]})}function we({onPageChange:m}){const{user:i,isSupabaseConnected:h}=z(),b=W(i,h),[u,w]=n.useState([]),[p,N]=n.useState([]),[S,f]=n.useState(!0),[s,r]=n.useState(!1),[y,x]=n.useState(!1);n.useEffect(()=>{i&&T()},[i,h]);const T=async()=>{try{const[l,g]=await Promise.all([b.getTurmas(),b.getAlunos()]);w(l),N(g)}catch(l){console.error("Erro ao carregar turmas:",l)}finally{f(!1)}},c=l=>({totalAlunos:p.filter(P=>P.turma_id===l).length});return S?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-6"}),e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:"Carregando suas turmas..."}),e.jsx("p",{className:"text-lg text-gray-500 mt-2",children:"Aguarde um momento"})]})}):e.jsxs("div",{className:"space-y-6 sm:space-y-8 lg:space-y-12",children:[e.jsx("div",{className:"bg-gradient-to-br from-white via-blue-50 to-purple-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-blue-200 p-6 sm:p-8 lg:p-12 animate-slide-in-up hover:shadow-2xl transition-all duration-500",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-6 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-2xl sm:rounded-3xl shadow-2xl mx-auto sm:mx-0 animate-float",children:e.jsx(v,{className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent animate-glow",children:"🏫 Minhas Turmas"}),e.jsx("p",{className:"text-gray-700 mt-2 sm:mt-4 text-lg sm:text-xl lg:text-2xl font-bold",children:"🚀 Gerencie suas turmas com eficiência máxima"})]})]}),e.jsx("div",{className:"flex items-center justify-center sm:justify-end",children:e.jsxs("div",{className:"flex items-center space-x-3 px-6 py-4 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-2xl text-lg font-black shadow-xl animate-bounce-soft",children:[e.jsx("div",{className:"w-4 h-4 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"hidden sm:inline",children:"✅ Sistema Ativo"}),e.jsx("span",{className:"sm:hidden",children:"✅ Ativo"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-blue-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-blue-600 uppercase tracking-wider",children:"🏫 Turmas"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-blue-700 animate-glow",children:u.length}),e.jsx("p",{className:"text-xs sm:text-sm text-blue-500 font-bold",children:"Atribuídas"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(v,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-green-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-green-600 uppercase tracking-wider",children:"🎓 Alunos"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-green-700 animate-glow",children:u.reduce((l,g)=>l+c(g.id).totalAlunos,0)}),e.jsx("p",{className:"text-xs sm:text-sm text-green-500 font-bold",children:"Total"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(L,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-purple-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-purple-600 uppercase tracking-wider",children:"📊 Média"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-purple-700 animate-glow",children:u.length>0?Math.round(u.reduce((l,g)=>l+c(g.id).totalAlunos,0)/u.length):0}),e.jsx("p",{className:"text-xs sm:text-sm text-purple-500 font-bold",children:"Por turma"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(ee,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-amber-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-amber-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-400",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-amber-600 uppercase tracking-wider",children:"⚡ Status"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl font-black text-amber-700 animate-glow",children:"Ativo"}),e.jsx("p",{className:"text-xs sm:text-sm text-amber-500 font-bold",children:"Sistema"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(I,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})})]}),u.length===0?e.jsxs("div",{className:"bg-gradient-to-br from-white via-gray-50 to-blue-50 rounded-3xl shadow-2xl border-2 border-gray-200 p-12 sm:p-16 lg:p-20 text-center animate-slide-in-up",children:[e.jsx("div",{className:"p-8 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full w-fit mx-auto mb-8 animate-bounce-soft",children:e.jsx(v,{className:"h-16 w-16 sm:h-20 sm:w-20 text-gray-400"})}),e.jsx("h3",{className:"text-2xl sm:text-3xl lg:text-4xl font-black text-gray-900 mb-6",children:"🏫 Nenhuma turma atribuída"}),e.jsx("p",{className:"text-gray-600 text-lg sm:text-xl font-semibold",children:"Entre em contato com a administração para ter turmas atribuídas."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8",children:u.map((l,g)=>{const P=c(l.id);return e.jsx("div",{className:"bg-gradient-to-br from-white via-blue-50 to-purple-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-blue-200 hover:shadow-2xl hover:border-blue-400 hover:scale-110 hover:rotate-1 transition-all duration-500 cursor-pointer group animate-scale-in",style:{animationDelay:`${g*100}ms`},onClick:()=>console.log("Ver detalhes da turma:",l.nome),children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-2xl sm:rounded-3xl flex items-center justify-center text-white font-black text-xl sm:text-2xl shadow-2xl animate-float",children:l.nome.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-black text-gray-900 group-hover:text-blue-700 transition-colors leading-tight",children:l.nome}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 font-bold",children:["📅 ",l.ano_letivo]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs sm:text-sm text-green-600 font-bold",children:"Ativa"})]})]})]})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(v,{className:"h-5 w-5 text-blue-600"})}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-700",children:"👥 Alunos"})]}),e.jsx("span",{className:"text-lg sm:text-xl font-black text-blue-600",children:P.totalAlunos})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-green-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(R,{className:"h-5 w-5 text-green-600"})}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-700",children:"📚 Disciplinas"})]}),e.jsx("span",{className:"text-lg sm:text-xl font-black text-green-600",children:"5"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-purple-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(se,{className:"h-5 w-5 text-purple-600"})}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-700",children:"📊 Média"})]}),e.jsx("span",{className:"text-lg sm:text-xl font-black text-purple-600",children:"8.2"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:k=>{k.stopPropagation(),r(!0)},className:"flex items-center justify-center space-x-2 p-3 sm:p-4 text-sm sm:text-base text-white bg-gradient-to-r from-blue-500 to-blue-700 border-2 border-blue-300 rounded-xl sm:rounded-2xl hover:from-blue-600 hover:to-blue-800 hover:scale-110 hover:shadow-xl transition-all duration-300 font-black",children:[e.jsx(R,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Notas"}),e.jsx("span",{className:"sm:hidden",children:"📝"})]}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),m?(console.log("🔍 [TurmasTeacherPage] Navegando para presenca"),m("presenca")):console.error("❌ onPageChange não está disponível")},className:"flex items-center justify-center space-x-2 p-3 sm:p-4 text-sm sm:text-base text-white bg-gradient-to-r from-green-500 to-green-700 border-2 border-green-300 rounded-xl sm:rounded-2xl hover:from-green-600 hover:to-green-800 hover:scale-110 hover:shadow-xl transition-all duration-300 font-black",children:[e.jsx(G,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Presença"}),e.jsx("span",{className:"sm:hidden",children:"✅"})]})]}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),x(!0)},className:"w-full flex items-center justify-center space-x-2 p-3 sm:p-4 text-sm sm:text-base text-white bg-gradient-to-r from-purple-500 to-purple-700 border-2 border-purple-300 rounded-xl sm:rounded-2xl hover:from-purple-600 hover:to-purple-800 hover:scale-105 hover:shadow-xl transition-all duration-300 font-black",children:[e.jsx(U,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{children:"💌 Enviar Recado"})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t-2 border-blue-200 text-center",children:e.jsx("p",{className:"text-xs sm:text-sm text-blue-700 opacity-0 group-hover:opacity-100 transition-opacity font-black bg-white px-4 py-2 rounded-xl shadow-lg",children:"✨ Clique para ver detalhes completos da turma"})})]})},l.id)})}),e.jsxs("div",{className:"bg-gradient-to-br from-white via-yellow-50 to-orange-50 rounded-3xl shadow-2xl border-2 border-yellow-200 p-8 sm:p-12 animate-slide-in-up delay-300",children:[e.jsxs("div",{className:"flex items-center space-x-6 mb-8",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl sm:rounded-3xl shadow-2xl animate-bounce-soft",children:e.jsx(I,{className:"h-8 w-8 sm:h-10 sm:w-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-black bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"⚡ Ações Rápidas"}),e.jsx("p",{className:"text-gray-700 font-bold text-lg sm:text-xl",children:"Acesso direto às funções mais usadas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("button",{onClick:()=>r(!0),className:"p-6 sm:p-8 bg-white border-2 border-blue-200 rounded-2xl sm:rounded-3xl hover:border-blue-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(R,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-blue-900",children:"📝 Lançar Notas"})]}),e.jsxs("button",{onClick:()=>{m?(console.log("🔍 [TurmasTeacherPage] Ações Rápidas - Navegando para presenca"),m("presenca")):console.error("❌ onPageChange não está disponível nas Ações Rápidas")},className:"p-6 sm:p-8 bg-white border-2 border-green-200 rounded-2xl sm:rounded-3xl hover:border-green-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(G,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-green-900",children:"✅ Presença"})]}),e.jsxs("button",{onClick:()=>{m?(console.log("🔍 [TurmasTeacherPage] Ações Rápidas - Navegando para agenda"),m("agenda")):console.error("❌ onPageChange não está disponível nas Ações Rápidas")},className:"p-6 sm:p-8 bg-white border-2 border-purple-200 rounded-2xl sm:rounded-3xl hover:border-purple-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(G,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-purple-900",children:"📅 Agenda"})]}),e.jsxs("button",{onClick:()=>x(!0),className:"p-6 sm:p-8 bg-white border-2 border-pink-200 rounded-2xl sm:rounded-3xl hover:border-pink-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-pink-400 to-pink-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(U,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-pink-900",children:"💌 Recados"})]})]})]}),e.jsx(te,{isOpen:s,onClose:()=>r(!1),onSave:()=>r(!1)}),e.jsx(ae,{isOpen:y,onClose:()=>x(!1),onSave:()=>x(!1)})]})}const ye={dashboard:"Dashboard",turmas:"Turmas",alunos:"Alunos",notas:"Lançar Notas",presenca:"Presença",agenda:"Provas/Tarefas",materiais:"Materiais",recados:"Recados",perfil:"Perfil"};function Se({onNavigate:m,currentPage:i="dashboard"}){const{user:h,isSupabaseConnected:b,signOut:u}=z(),w=W(h,b),[p,N]=n.useState({totalTurmas:0,totalAlunos:0,totalDisciplinas:0,totalNotas:0,mediaGeral:0}),[S,f]=n.useState(!0),[s,r]=n.useState(!1),y=n.useCallback(async()=>{confirm("Tem certeza que deseja sair do sistema?")&&await u()},[u]),x=n.useCallback(c=>{console.log("🔍 [TeacherDashboard] handlePageChange chamado:",{page:c,currentPage:i,userType:h==null?void 0:h.tipo_usuario,timestamp:new Date().toISOString()}),c==="sair"?y():(console.log("🔍 [TeacherDashboard] Chamando onNavigate com:",c),m==null||m(c)),r(!1)},[m,y]);n.useEffect(()=>{T();const c=l=>{x(l.detail)};return window.addEventListener("navigate",c),()=>{window.removeEventListener("navigate",c)}},[x]);const T=async()=>{try{const c=await w.getStats();N({totalTurmas:c.totalTurmas,totalAlunos:c.totalAlunos,totalDisciplinas:c.totalDisciplinas,totalNotas:c.totalNotas,mediaGeral:c.mediaGeral})}catch(c){console.error("Erro ao carregar estatísticas:",c)}finally{f(!1)}};return i!=="dashboard"?e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(Z,{currentPage:i,onPageChange:x,isOpen:s,onToggle:()=>r(!s)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(K,{onMenuToggle:()=>r(!s),title:ye[i]||"Painel do Professor"}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[i==="turmas"&&e.jsx(we,{onPageChange:x}),i==="alunos"&&e.jsx(ve,{onPageChange:x}),i==="notas"&&e.jsx(he,{}),i==="presenca"&&e.jsx(je,{}),i==="agenda"&&e.jsx(ue,{}),i==="materiais"&&e.jsx(pe,{}),i==="recados"&&e.jsx(ge,{}),i==="notificacoes"&&e.jsx(be,{}),i==="perfil"&&e.jsx(fe,{})]})})]})]}):S?e.jsx("div",{className:"min-h-screen layout-modern flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner-large mx-auto mb-8 animate-glow"}),e.jsx("p",{className:"text-2xl font-black text-gray-700 animate-pulse",children:"Carregando informações..."}),e.jsx("p",{className:"text-lg text-gray-500 mt-4 font-semibold",children:"Aguarde um momento"})]})}):e.jsxs("div",{className:"flex h-screen layout-modern overflow-hidden",children:[e.jsx(Z,{currentPage:i,onPageChange:x,isOpen:s,onToggle:()=>r(!s)}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(K,{onMenuToggle:()=>r(!s),title:"Painel do Professor"}),e.jsx("main",{className:"content-modern",children:e.jsxs("div",{className:"mobile-container space-y-6 sm:space-y-8 lg:space-y-12",children:[e.jsx("div",{className:"glass-card rounded-2xl sm:rounded-3xl mobile-card animate-slide-in-up hover-lift",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl heading-modern animate-glow text-center sm:text-left",children:["🌟 Olá, Professor ",h==null?void 0:h.nome.split(" ")[0],"!"]}),e.jsx("p",{className:"text-gray-700 mt-2 sm:mt-4 text-sm sm:text-base lg:text-lg xl:text-xl font-bold subheading-modern text-center sm:text-left",children:"🚀 Gerencie suas turmas e alunos com eficiência máxima"})]}),e.jsx("div",{className:"flex items-center justify-center sm:justify-end",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 px-4 sm:px-6 py-3 sm:py-4 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-2xl sm:rounded-3xl text-sm sm:text-base font-black shadow-modern animate-bounce-soft status-online",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-white rounded-full animate-pulse shadow-lg"}),e.jsx("span",{className:"hidden sm:inline",children:"✅ Online"}),e.jsx("span",{className:"sm:hidden",children:"✅"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[e.jsx("div",{className:"stat-card-modern bg-gradient-to-br from-white to-blue-50 border-2 border-blue-200 animate-slide-in-up delay-100 mobile-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-black text-blue-600 uppercase tracking-wider",children:"🏫 Turmas"}),e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-black text-blue-700 animate-glow",children:p.totalTurmas})]}),e.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl shadow-modern-colored animate-float",children:e.jsx(v,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})]})}),e.jsx("div",{className:"stat-card-modern bg-gradient-to-br from-white to-green-50 border-2 border-green-200 animate-slide-in-up delay-200 mobile-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-black text-green-600 uppercase tracking-wider",children:"🎓 Alunos"}),e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-black text-green-700 animate-glow",children:p.totalAlunos})]}),e.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-green-400 to-green-600 rounded-xl shadow-modern-colored animate-float",children:e.jsx(L,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})]})}),e.jsx("div",{className:"stat-card-modern bg-gradient-to-br from-white to-purple-50 border-2 border-purple-200 animate-slide-in-up delay-300 mobile-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-black text-purple-600 uppercase tracking-wider",children:"📝 Notas"}),e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-black text-purple-700 animate-glow",children:p.totalNotas})]}),e.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl shadow-modern-colored animate-float",children:e.jsx(R,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})]})}),e.jsx("div",{className:"stat-card-modern bg-gradient-to-br from-white to-amber-50 border-2 border-amber-200 animate-slide-in-up delay-400 mobile-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-black text-amber-600 uppercase tracking-wider",children:"📊 Média"}),e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-black text-amber-700 animate-glow",children:p.mediaGeral.toFixed(1)})]}),e.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-amber-400 to-amber-600 rounded-xl shadow-modern-colored animate-float",children:e.jsx(se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})]})})]}),e.jsxs("div",{className:"glass-card rounded-2xl sm:rounded-3xl p-4 sm:p-6 lg:p-8 animate-slide-in-up delay-200",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-black text-gradient-objetivo mb-6 sm:mb-8 flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl sm:rounded-2xl shadow-modern mr-0 sm:mr-4 lg:mr-6 animate-bounce-soft mx-auto sm:mx-0",children:e.jsx(I,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-white"})}),e.jsx("span",{className:"text-center sm:text-left",children:"⚡ Ações Rápidas"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("button",{onClick:()=>x("notas"),className:"card-modern group p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-blue-50 via-blue-100 to-blue-200 hover:from-blue-200 hover:to-blue-300 border-2 border-blue-300 hover:border-blue-500 text-center sm:text-left animate-scale-in delay-100",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"p-3 sm:p-4 lg:p-5 bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl sm:rounded-3xl text-white group-hover:scale-125 group-hover:rotate-12 transition-all duration-500 shadow-modern-colored mx-auto sm:mx-0",children:e.jsx(R,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-black text-blue-900",children:"📝 Notas"}),e.jsx("p",{className:"text-sm sm:text-base text-blue-700 font-bold",children:"Lançamento rápido"})]})]}),e.jsx("span",{className:"text-xs sm:text-sm text-blue-700 opacity-0 group-hover:opacity-100 transition-all duration-300 font-black bg-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl sm:rounded-2xl shadow-lg",children:"⚡ Sistema otimizado →"})]}),e.jsxs("button",{onClick:()=>x("presenca"),className:"card-modern group p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border-2 border-green-200 hover:border-green-400 text-center sm:text-left animate-scale-in delay-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"p-3 sm:p-4 lg:p-5 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl sm:rounded-3xl text-white group-hover:scale-125 group-hover:rotate-12 transition-all duration-500 shadow-modern-colored mx-auto sm:mx-0",children:e.jsx(me,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-black text-green-900",children:"Presença"}),e.jsx("p",{className:"text-sm sm:text-base text-green-700 font-bold",children:"Chamada ágil"})]})]}),e.jsx("span",{className:"text-xs sm:text-sm text-green-600 opacity-0 group-hover:opacity-100 transition-all duration-300 font-black bg-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl sm:rounded-2xl shadow-lg",children:"Controle rápido →"})]}),e.jsxs("button",{onClick:()=>x("agenda"),className:"card-modern group p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 border-2 border-purple-200 hover:border-purple-400 text-center sm:text-left animate-scale-in delay-300",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"p-3 sm:p-4 lg:p-5 bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl sm:rounded-3xl text-white group-hover:scale-125 group-hover:rotate-12 transition-all duration-500 shadow-modern-colored mx-auto sm:mx-0",children:e.jsx(G,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-black text-purple-900",children:"Agenda"}),e.jsx("p",{className:"text-sm sm:text-base text-purple-700 font-bold",children:"Provas e tarefas"})]})]}),e.jsx("span",{className:"text-xs sm:text-sm text-purple-600 opacity-0 group-hover:opacity-100 transition-all duration-300 font-black bg-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl sm:rounded-2xl shadow-lg",children:"Criar avaliações →"})]}),e.jsxs("button",{onClick:()=>x("materiais"),className:"card-modern group p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-amber-50 to-amber-100 hover:from-amber-100 hover:to-amber-200 border-2 border-amber-200 hover:border-amber-400 text-center sm:text-left animate-scale-in delay-400",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"p-3 sm:p-4 lg:p-5 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl sm:rounded-3xl text-white group-hover:scale-125 group-hover:rotate-12 transition-all duration-500 shadow-modern-colored mx-auto sm:mx-0",children:e.jsx(R,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-black text-amber-900",children:"Materiais"}),e.jsx("p",{className:"text-sm sm:text-base text-amber-700 font-bold",children:"Recursos didáticos"})]})]}),e.jsx("span",{className:"text-xs sm:text-sm text-amber-600 opacity-0 group-hover:opacity-100 transition-all duration-300 font-black bg-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-xl sm:rounded-2xl shadow-lg",children:"Compartilhar →"})]})]})]}),e.jsxs("div",{className:"glass-card rounded-2xl sm:rounded-3xl p-4 sm:p-6 lg:p-8 animate-slide-in-up delay-300",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-black text-gray-900 mb-6 sm:mb-8 flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl sm:rounded-2xl shadow-modern mr-0 sm:mr-4 animate-bounce-soft mx-auto sm:mx-0",children:e.jsx(v,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsx("span",{className:"text-center sm:text-left",children:"Gestão Acadêmica"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[e.jsxs("button",{onClick:()=>x("turmas"),className:"card-modern p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-indigo-50 to-indigo-100 hover:from-indigo-100 hover:to-indigo-200 border-2 border-indigo-200 hover:border-indigo-400 text-center animate-scale-in delay-100",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-white rounded-xl sm:rounded-2xl shadow-modern w-fit mx-auto mb-4 sm:mb-6 hover:scale-110 transition-transform duration-300",children:e.jsx(v,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-indigo-600"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-black text-indigo-900 mb-2 sm:mb-3",children:"Minhas Turmas"}),e.jsx("p",{className:"text-sm sm:text-base text-indigo-700 font-semibold",children:"Gerenciar turmas atribuídas"})]}),e.jsxs("button",{onClick:()=>x("alunos"),className:"card-modern p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-emerald-50 to-emerald-100 hover:from-emerald-100 hover:to-emerald-200 border-2 border-emerald-200 hover:border-emerald-400 text-center animate-scale-in delay-200",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-white rounded-xl sm:rounded-2xl shadow-modern w-fit mx-auto mb-4 sm:mb-6 hover:scale-110 transition-transform duration-300",children:e.jsx(L,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-emerald-600"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-black text-emerald-900 mb-2 sm:mb-3",children:"Meus Alunos"}),e.jsx("p",{className:"text-sm sm:text-base text-emerald-700 font-semibold",children:"Visualizar e gerenciar alunos"})]}),e.jsxs("button",{onClick:()=>x("recados"),className:"card-modern p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-pink-50 to-pink-100 hover:from-pink-100 hover:to-pink-200 border-2 border-pink-200 hover:border-pink-400 text-center animate-scale-in delay-300 sm:col-span-2 lg:col-span-1",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-white rounded-xl sm:rounded-2xl shadow-modern w-fit mx-auto mb-4 sm:mb-6 hover:scale-110 transition-transform duration-300",children:e.jsx(U,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-pink-600"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-black text-pink-900 mb-2 sm:mb-3",children:"Recados"}),e.jsx("p",{className:"text-sm sm:text-base text-pink-700 font-semibold",children:"Comunicar com pais"})]})]})]})]})})]})]})}export{Se as TeacherDashboard};
