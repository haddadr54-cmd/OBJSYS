import{u as k,d as A,r as o,j as e,a as m,G as S,i as T,Z as p,B as C,C as u,M}from"./index-CCr23udO.js";import{L as R}from"./LancarNotasModal-Cr1cCl9s.js";import{E}from"./EnviarRecadoModal-aCrels50.js";import"./gradeConfig-C64ZX5y1.js";import"./save-BDGo1Gz5.js";function O({onPageChange:l}){const{user:i,isSupabaseConnected:c}=k(),h=A(i,c),[a,b]=o.useState([]),[g,f]=o.useState([]),[w,j]=o.useState(!0),[v,n]=o.useState(!1),[N,d]=o.useState(!1);o.useEffect(()=>{i&&y()},[i,c]);const y=async()=>{try{const[s,t]=await Promise.all([h.getTurmas(),h.getAlunos()]);b(s),f(t)}catch(s){console.error("Erro ao carregar turmas:",s)}finally{j(!1)}},x=s=>({totalAlunos:g.filter(r=>r.turma_id===s).length});return w?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-6"}),e.jsx("p",{className:"text-2xl font-bold text-gray-700",children:"Carregando suas turmas..."}),e.jsx("p",{className:"text-lg text-gray-500 mt-2",children:"Aguarde um momento"})]})}):e.jsxs("div",{className:"space-y-6 sm:space-y-8 lg:space-y-12",children:[e.jsx("div",{className:"bg-gradient-to-br from-white via-blue-50 to-purple-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-blue-200 p-6 sm:p-8 lg:p-12 animate-slide-in-up hover:shadow-2xl transition-all duration-500",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-6 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-2xl sm:rounded-3xl shadow-2xl mx-auto sm:mx-0 animate-float",children:e.jsx(m,{className:"h-10 w-10 sm:h-12 sm:w-12 lg:h-16 lg:w-16 text-white"})}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent animate-glow",children:"🏫 Minhas Turmas"}),e.jsx("p",{className:"text-gray-700 mt-2 sm:mt-4 text-lg sm:text-xl lg:text-2xl font-bold",children:"🚀 Gerencie suas turmas com eficiência máxima"})]})]}),e.jsx("div",{className:"flex items-center justify-center sm:justify-end",children:e.jsxs("div",{className:"flex items-center space-x-3 px-6 py-4 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-2xl text-lg font-black shadow-xl animate-bounce-soft",children:[e.jsx("div",{className:"w-4 h-4 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"hidden sm:inline",children:"✅ Sistema Ativo"}),e.jsx("span",{className:"sm:hidden",children:"✅ Ativo"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-blue-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-blue-600 uppercase tracking-wider",children:"🏫 Turmas"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-blue-700 animate-glow",children:a.length}),e.jsx("p",{className:"text-xs sm:text-sm text-blue-500 font-bold",children:"Atribuídas"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(m,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-green-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-green-600 uppercase tracking-wider",children:"🎓 Alunos"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-green-700 animate-glow",children:a.reduce((s,t)=>s+x(t.id).totalAlunos,0)}),e.jsx("p",{className:"text-xs sm:text-sm text-green-500 font-bold",children:"Total"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(S,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-purple-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-purple-600 uppercase tracking-wider",children:"📊 Média"}),e.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black text-purple-700 animate-glow",children:a.length>0?Math.round(a.reduce((s,t)=>s+x(t.id).totalAlunos,0)/a.length):0}),e.jsx("p",{className:"text-xs sm:text-sm text-purple-500 font-bold",children:"Por turma"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(T,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-amber-50 rounded-2xl sm:rounded-3xl shadow-xl border-2 border-amber-200 p-4 sm:p-6 lg:p-8 hover:shadow-2xl hover:scale-110 hover:rotate-1 transition-all duration-500 animate-slide-in-up delay-400",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm lg:text-base font-black text-amber-600 uppercase tracking-wider",children:"⚡ Status"}),e.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl font-black text-amber-700 animate-glow",children:"Ativo"}),e.jsx("p",{className:"text-xs sm:text-sm text-amber-500 font-bold",children:"Sistema"})]}),e.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl sm:rounded-3xl shadow-2xl animate-float",children:e.jsx(p,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 xl:h-12 xl:w-12 text-white"})})]})})]}),a.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow p-8 text-center border border-gray-200",children:[e.jsx(m,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Nenhuma turma atribuída"}),e.jsx("p",{className:"text-gray-500",children:"Entre em contato com a administração para ter turmas atribuídas."})]}):e.jsx("ul",{className:"divide-y divide-gray-100 bg-white rounded-2xl shadow-lg border border-gray-200",children:a.map(s=>{const t=x(s.id);return e.jsxs("li",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 px-8 py-7 hover:bg-gray-50 transition cursor-pointer text-base",children:[e.jsxs("div",{className:"flex items-center gap-6 min-w-0 w-full",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 text-white flex items-center justify-center font-black text-2xl",children:s.nome.charAt(0)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-bold text-gray-900 truncate max-w-xs",children:s.nome}),e.jsx("span",{className:"px-2 py-0.5 rounded bg-blue-50 text-blue-700 text-xs font-semibold border border-blue-100",children:s.ano_letivo}),e.jsx("span",{className:"px-2 py-0.5 rounded bg-green-50 text-green-700 text-xs font-semibold border border-green-100",children:"Ativa"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["Alunos: ",e.jsx("span",{className:"font-semibold text-blue-700",children:t.totalAlunos})]}),e.jsxs("span",{children:["Disciplinas: ",e.jsx("span",{className:"font-semibold text-green-700",children:"5"})]}),e.jsxs("span",{children:["Média: ",e.jsx("span",{className:"font-semibold text-purple-700",children:"8.2"})]})]})]})]}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-2 mt-2 sm:mt-0",children:[e.jsx("button",{onClick:r=>{r.stopPropagation(),n(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded font-bold text-xs hover:bg-blue-700",children:"Notas"}),e.jsx("button",{onClick:r=>{r.stopPropagation(),l&&l("presenca")},className:"px-3 py-1 bg-green-600 text-white rounded font-bold text-xs hover:bg-green-700",children:"Presença"}),e.jsx("button",{onClick:r=>{r.stopPropagation(),d(!0)},className:"px-3 py-1 bg-purple-600 text-white rounded font-bold text-xs hover:bg-purple-700",children:"Recado"})]})]},s.id)})}),e.jsxs("div",{className:"bg-gradient-to-br from-white via-yellow-50 to-orange-50 rounded-3xl shadow-2xl border-2 border-yellow-200 p-8 sm:p-12 animate-slide-in-up delay-300",children:[e.jsxs("div",{className:"flex items-center space-x-6 mb-8",children:[e.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl sm:rounded-3xl shadow-2xl animate-bounce-soft",children:e.jsx(p,{className:"h-8 w-8 sm:h-10 sm:w-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-black bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:"⚡ Ações Rápidas"}),e.jsx("p",{className:"text-gray-700 font-bold text-lg sm:text-xl",children:"Acesso direto às funções mais usadas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("button",{onClick:()=>n(!0),className:"p-6 sm:p-8 bg-white border-2 border-blue-200 rounded-2xl sm:rounded-3xl hover:border-blue-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(C,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-blue-900",children:"📝 Lançar Notas"})]}),e.jsxs("button",{onClick:()=>{l?(console.log("🔍 [TurmasTeacherPage] Ações Rápidas - Navegando para presenca"),l("presenca")):console.error("❌ onPageChange não está disponível nas Ações Rápidas")},className:"p-6 sm:p-8 bg-white border-2 border-green-200 rounded-2xl sm:rounded-3xl hover:border-green-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(u,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-green-900",children:"✅ Presença"})]}),e.jsxs("button",{onClick:()=>{l?(console.log("🔍 [TurmasTeacherPage] Ações Rápidas - Navegando para agenda"),l("agenda")):console.error("❌ onPageChange não está disponível nas Ações Rápidas")},className:"p-6 sm:p-8 bg-white border-2 border-purple-200 rounded-2xl sm:rounded-3xl hover:border-purple-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(u,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-purple-900",children:"📅 Agenda"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"p-6 sm:p-8 bg-white border-2 border-pink-200 rounded-2xl sm:rounded-3xl hover:border-pink-400 hover:shadow-2xl transition-all duration-300 hover:scale-110 text-center group",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-pink-400 to-pink-600 rounded-2xl mx-auto mb-4 w-fit group-hover:scale-125 transition-transform shadow-xl",children:e.jsx(M,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsx("span",{className:"text-sm sm:text-base font-black text-pink-900",children:"💌 Recados"})]})]})]}),e.jsx(R,{isOpen:v,onClose:()=>n(!1),onSave:()=>n(!1)}),e.jsx(E,{isOpen:N,onClose:()=>d(!1),onSave:()=>d(!1)})]})}export{O as TurmasTeacherPage};
